/*! For license information please see ispeak-bber-md.min.js.LICENSE.txt */
var e,t;e=self,t=function(){return function(){var e={7402:function(e){"use strict";function t(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var s=e.apply(n,r);function a(e){t(s,i,o,a,u,"next",e)}function u(e){t(s,i,o,a,u,"throw",e)}a(undefined)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},6247:function(e){"use strict";e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},3483:function(e){"use strict";e.exports=function(e){return e&&e.__esModule?e:{"default":e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},3988:function(e){"use strict";function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},6304:function(e,t,n){"use strict";e.exports=n(3355)},1588:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3125);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(9206);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},3125:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StorageType=t.AbstractStorage=t.AbstractSDKRequest=void 0,t.StorageType=n,function(e){e.local="local",e.none="none",e.session="session"}(n||(t.StorageType=n={}));var r=function(){};t.AbstractSDKRequest=r;var i=function(){};t.AbstractStorage=i},9206:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),i="";for(var o in n)""===i?!r&&(t+="?"):i+="&",i+=o+"="+encodeURIComponent(n[o]);return/^http(s)?\:\/\//.test(t+=i)?t:""+e+t}},5086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOGINTYPE=t.DATA_VERSION=void 0,t.getEndPoint=function(){return{BASE_URL:f,PROTOCOL:c}},t.getSdkName=function(){return a},t.getSdkVersion=function(){return s},t.setEndPoint=l,t.setRegionLevelEndpoint=function(e,t,n){l(t?"//"+e+"."+t+".tcb-api.tencentcloudapi.com/web":"//"+e+".ap-shanghai.tcb-api.tencentcloudapi.com/web",n)},t.setSdkName=function(e){a=e,i(e)},t.setSdkVersion=function(e){s=e};var r=n(1895),i=r.constants.setSdkName,o=r.constants.setProtocol,s="",a="@cloudbase/js-sdk";t.DATA_VERSION="2020-01-10";var u,c="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:",f="//tcb-api.tencentcloudapi.com/web";function l(e,t){f=e,t&&(c=t,o(t))}t.LOGINTYPE=u,function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.CUSTOM="CUSTOM",e.NULL="NULL"}(u||(t.LOGINTYPE=u={}))},2701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0,t.EVENTS={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"}},9304:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.cloudbase=void 0;var i=r(n(3988)),o=n(1895),s=r(n(4934)),a=n(9487),u=n(1510),c=n(1888),f=n(3704),l=n(5086),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},d=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,i["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,i["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},v=o.adapters.useAdapters,m=o.adapters.useDefaultAdapter,b=o.adapters.RUNTIME,_=o.constants.ERRORS,w=o.constants.COMMUNITY_SITE_URL,E=o.utils.printWarn,A=o.helpers.catchErrorsDecorator,O={timeout:15e3,persistence:"local"},D=6e5,S={},C=new(function(){function e(e){this._config=e||this._config,this.authInstance=null}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return u.Platform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return(0,c.getCacheByEnvId)(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return(0,c.getLocalCache)(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return(0,f.getRequestByEnvId)(this._config.env)},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(!t.env)throw new Error(JSON.stringify({code:_.INVALID_PARAMS,msg:"env must not be specified"}));if(u.Platform.adapter||this._useDefaultAdapter(),this.requestClient=new u.Platform.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"["+(0,l.getSdkName)()+"][REQUEST TIMEOUT] request had been abort since didn't finished within"+t.timeout/1e3+"s"}),u.Platform.runtime!==b.WEB){if(!t.appSecret)throw new Error(JSON.stringify({code:_.INVALID_PARAMS,msg:"invalid appSecret"}));var n=u.Platform.adapter.getAppSign?u.Platform.adapter.getAppSign():"";if(t.appSign&&n&&t.appSign!==n)throw new Error(JSON.stringify({code:_.INVALID_PARAMS,msg:"invalid appSign"}));if(n&&(t.appSign=n),!t.appSign)throw new Error(JSON.stringify({code:_.INVALID_PARAMS,msg:"invalid appSign"}))}this._config=p(p({},O),t),this._config.timeout=this._formatTimeout(this._config.timeout);var r=this._config,i=r.env,o=r.persistence,s=r.debug,a=r.timeout,d=r.appSecret,h=r.appSign;(0,c.initCache)({env:i,persistence:o,debug:s,platformInfo:this.platform}),(0,f.initRequest)({env:i,region:t.region||"",timeout:a,appSecret:d,appSign:h}),t.region&&(0,l.setRegionLevelEndpoint)(i,t.region||"");var y=new e(this._config);return y.requestClient=this.requestClient,y},e.prototype.updateConfig=function(e){var t=e.persistence,n=e.debug;this._config.persistence=t,this._config.debug=n,(0,c.initCache)({env:this._config.env,persistence:t,debug:n,platformInfo:this.platform})},e.prototype.registerExtension=function(e){S[e.name]=e},e.prototype.invokeExtension=function(e,t){return y(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:if(!(n=S[e]))throw new Error(JSON.stringify({code:_.INVALID_PARAMS,msg:"extension:"+e+" must be registered before invoke"}));return[4,n.invoke(t,this)];case 1:return[2,r.sent()]}}))}))},e.prototype.useAdapters=function(e){var t=v(e)||{},n=t.adapter,r=t.runtime;n&&(u.Platform.adapter=n),r&&(u.Platform.runtime=r)},e.prototype.registerHook=function(t){(0,a.registerHook)(e,t)},e.prototype.registerComponent=function(t){(0,a.registerComponent)(e,t)},e.prototype.registerVersion=function(e){(0,l.setSdkVersion)(e)},e.prototype.registerSdkName=function(e){(0,l.setSdkName)(e)},e.prototype.registerEndPoint=function(e,t){(0,l.setEndPoint)(e,t)},e.prototype._useDefaultAdapter=function(){var e=m(),t=e.adapter,n=e.runtime;u.Platform.adapter=t,u.Platform.runtime=n},e.prototype._formatTimeout=function(e){switch(!0){case e>D:return E(_.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),D;case e<100:return E(_.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),100;default:return e}},d([A({mode:"sync",title:"Cloudbase 初始化失败",messages:["请确认以下各项：","  1 - 调用 cloudbase.init() 的语法或参数是否正确","  2 - 如果是非浏览器环境，是否配置了安全应用来源（https://docs.cloudbase.net/api-reference/webv2/adapter.html#jie-ru-liu-cheng）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+w]}),h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",e)],e.prototype,"init",null),d([A({title:"调用扩展能力失败",messages:["请确认以下各项：","  1 - 调用 invokeExtension() 的语法或参数是否正确","  2 - 被调用的扩展能力是否已经安装并通过 registerExtension() 注册","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+w]}),h("design:type",Function),h("design:paramtypes",[String,Object]),h("design:returntype",Promise)],e.prototype,"invokeExtension",null),e}());t.cloudbase=C,C.useAdapters(s["default"]);var x=C;t["default"]=x},1510:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0,t.Platform={}},1888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCacheByEnvId=function(e){return s[e]},t.getLocalCache=function(e){return a[e]},t.initCache=function(e){var t=e.env,n=e.persistence,r=e.platformInfo,u={accessTokenKey:"access_token_"+t,accessTokenExpireKey:"access_token_expire_"+t,refreshTokenKey:"refresh_token_"+t,anonymousUuidKey:"anonymous_uuid_"+t,loginTypeKey:"login_type_"+t,userInfoKey:"user_info_"+t};s[t]?s[t].updatePersistence(n):s[t]=new o(i(i({},e),{keys:u,platformInfo:r,alwaysLocalKeys:["anonymousUuidKey"]})),a[t]=a[t]||new o(i(i({},e),{keys:u,platformInfo:r,persistence:"local"}))};var r=n(1895),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=r.cache.CloudbaseCache,s={},a={}},9487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerComponent=function(e,t){var n=t.name,r=t.namespace,u=t.entity,c=t.injectEvents,f=t.IIFE,l=void 0!==f&&f;if(s[n]||r&&e[r])throw new Error(JSON.stringify({code:o.INVALID_OPERATION,msg:"Duplicate component "+n}));if(l){if(!u||"function"!=typeof u)throw new Error(JSON.stringify({code:o.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));u.call(e)}if(s[n]=t,r?e.prototype[r]=u:a(e.prototype,u),c){var p=c.bus,d=c.events;if(!p||!d||0===d.length)return;var h=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={}),(e.prototype.events||{})[n]?e.prototype.events[n].events=i(e.prototype.events[n].events,d):e.prototype.events[n]={bus:p,events:d},e.prototype.fire=function(e,t){for(var n in h(e,t),this.events){var r=this.events[n],i=r.bus;if(r.events.includes(e)){i.fire(e,t);break}}}}},t.registerHook=function(e,t){var n=t.entity,r=t.target;if(!e.prototype.hasOwnProperty(r))throw new Error(JSON.stringify({code:o.INVALID_OPERATION,msg:"target:"+r+" is not exist"}));var s=e.prototype[r];if("function"!=typeof s)throw new Error(JSON.stringify({code:o.INVALID_OPERATION,msg:"target:"+r+" is not a function which is the only type supports hook"}));e.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.call.apply(n,i([this],e)),s.call.apply(s,i([this],e))}};var r=n(1895),i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},o=r.constants.ERRORS,s={};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:e===undefined&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=a(e[n],t[n]));return e}},3704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloudbaseRequest=void 0,t.getRequestByEnvId=function(e){return E[e]},t.initRequest=function(e){E[e.env]=new w(c(c({},e),{"throw":!0}))};var r=n(5086),i=n(1895),o=n(9304),s=n(1888),a=n(2701),u=n(1510),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=i.constants.ERRORS,d=i.utils.genSeqId,h=i.utils.isFormData,y=i.utils.formatUrl,g=i.utils.createSign,v=i.adapters.RUNTIME,m=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function b(e,t,n){var r=e[t];e[t]=function(t){var i={},o={};n.forEach((function(n){var r=n.call(e,t),s=r.data,a=r.headers;Object.assign(i,s),Object.assign(o,a)}));var s=t.data;return s&&function(){if(h(s))for(var e in i)s.append(e,i[e]);else t.data=c(c({},s),i)}(),t.headers=c(c({},t.headers||{}),o),r.call(e,t)}}function _(){var e=d();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/"+(0,r.getSdkVersion)(),"x-seqid":e}}}var w=function(){function e(e){this._throwWhenRequestFail=!1,this.config=e,this._reqClass=new u.Platform.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] 请求在"+this.config.timeout/1e3+"s内未完成，已中断",restrictedMethods:["post"]}),this._throwWhenRequestFail=e["throw"]||!1,this._cache=(0,s.getCacheByEnvId)(this.config.env),this._localCache=(0,s.getLocalCache)(this.config.env),b(this._reqClass,"post",[_]),b(this._reqClass,"upload",[_]),b(this._reqClass,"download",[_])}return e.prototype.post=function(e){return f(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.post(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.upload=function(e){return f(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.upload(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.download=function(e){return f(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.download(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.refreshAccessToken=function(){return f(this,void 0,void 0,(function(){var e,t,n;return l(this,(function(r){switch(r.label){case 0:this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._refreshAccessTokenPromise];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return[2,e]}}))}))},e.prototype.getAccessToken=function(){return f(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u;return l(this,(function(c){switch(c.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,[4,this._cache.getStoreAsync(r)];case 1:if(!c.sent())throw new Error(JSON.stringify({code:p.OPERATION_FAIL,msg:"refresh token is not exist, your local data might be messed up, please retry after clear localStorage or sessionStorage"}));return[4,this._cache.getStoreAsync(t)];case 2:return i=c.sent(),s=Number,[4,this._cache.getStoreAsync(n)];case 3:return o=s.apply(void 0,[c.sent()]),a=!0,(u=this._shouldRefreshAccessTokenHook)?[4,this._shouldRefreshAccessTokenHook(i,o)]:[3,5];case 4:u=!c.sent(),c.label=5;case 5:return u&&(a=!1),i&&o&&!(o<Date.now())||!a?[3,7]:[4,this.refreshAccessToken()];case 6:return[2,c.sent()];case 7:return[2,{accessToken:i,accessTokenExpire:o}]}}))}))},e.prototype.request=function(e,t,n){return f(this,void 0,void 0,(function(){var i,o,s,a,f,p,d,h,b,_,w,E,A,O,D,S,C,x,N,T,I,k,P,L,R,M;return l(this,(function(l){switch(l.label){case 0:return i="x-tcb-trace_"+this.config.env,o="application/x-www-form-urlencoded",s=c({action:e,dataVersion:r.DATA_VERSION,env:this.config.env},t),-1!==m.indexOf(e)?[3,3]:(a=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(a)]);case 1:return l.sent()?(f=s,[4,this.getAccessToken()]):[3,3];case 2:f.access_token=l.sent().accessToken,l.label=3;case 3:if("storage.uploadFile"===e){for(d in p=new FormData)p.hasOwnProperty(d)&&p[d]!==undefined&&p.append(d,s[d]);o="multipart/form-data"}else for(d in o="application/json;charset=UTF-8",p={},s)s[d]!==undefined&&(p[d]=s[d]);return h={headers:{"content-type":o}},(null==n?void 0:n.onUploadProgress)&&(h.onUploadProgress=n.onUploadProgress),this.config.region&&(h.headers["X-TCB-Region"]=this.config.region),(b=this._localCache.getStore(i))&&(h.headers["X-TCB-Trace"]=b),u.Platform.runtime!==v.WEB&&(_=this.config,w=_.appSign,E=_.appSecret,A=Date.now(),O=E.appAccessKey,D=E.appAccessKeyId,S=g({data:{},timestamp:A,appAccessKeyId:D,appSign:w},O),h.headers["X-TCB-App-Source"]="timestamp="+A+";appAccessKeyId="+D+";appSign="+w+";sign="+S),C=t.parse,x=t.inQuery,N=t.search,T={env:this.config.env},C&&(T.parse=!0),x&&(T=c(c({},x),T)),I=(0,r.getEndPoint)(),k=I.BASE_URL,P=I.PROTOCOL,L=y(P,k,T),N&&(L+=N),[4,this.post(c({url:L,data:p},h))];case 4:if(R=l.sent(),(M=R.header&&R.header["x-tcb-trace"])&&this._localCache.setStore(i,M),200!==Number(R.status)&&200!==Number(R.statusCode)||!R.data)throw new Error("network request error");return[2,R]}}))}))},e.prototype.send=function(e,t){return void 0===t&&(t={}),f(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 1:return"ACCESS_TOKEN_EXPIRED"!==(n=r.sent()).data.code||-1!==m.indexOf(e)?[3,4]:[4,this.refreshAccessToken()];case 2:return r.sent(),[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 3:n=r.sent(),r.label=4;case 4:if(n.data.code&&this._throwWhenRequestFail)throw new Error(JSON.stringify({code:p.OPERATION_FAIL,msg:"["+n.data.code+"] "+n.data.message}));return[2,n.data]}}))}))},e.prototype._refreshAccessToken=function(e){return void 0===e&&(e=1),f(this,void 0,void 0,(function(){var t,n,i,s,u,c,f,d,h,y,g,v,m;return l(this,(function(l){switch(l.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,i=t.accessTokenExpireKey,s=t.refreshTokenKey,u=t.loginTypeKey,c=t.anonymousUuidKey,[4,this._cache.removeStoreAsync(n)];case 1:return l.sent(),[4,this._cache.removeStoreAsync(i)];case 2:return l.sent(),[4,this._cache.getStoreAsync(s)];case 3:if(!(f=l.sent()))throw new Error(JSON.stringify({code:p.INVALID_OPERATION,msg:"not login"}));return d={refresh_token:f},[4,this.request("auth.fetchAccessTokenWithRefreshToken",d)];case 4:return(h=l.sent()).data.code?"SIGN_PARAM_INVALID"!==(y=h.data.code)&&"REFRESH_TOKEN_EXPIRED"!==y&&"INVALID_REFRESH_TOKEN"!==y?[3,11]:[4,this._cache.getStoreAsync(u)]:[3,12];case 5:return l.sent()===r.LOGINTYPE.ANONYMOUS&&"INVALID_REFRESH_TOKEN"===y?[4,this._cache.getStoreAsync(c)]:[3,9];case 6:return g=l.sent(),[4,this._cache.getStoreAsync(s)];case 7:return v=l.sent(),[4,this.send("auth.signInAnonymously",{anonymous_uuid:g,refresh_token:v})];case 8:if(m=l.sent(),this._setRefreshToken(m.refresh_token),e>=1)return[2,this._refreshAccessToken(--e)];throw new Error(JSON.stringify({code:p.OPERATION_FAIL,message:"重试获取 refresh token 失败"}));case 9:return o.cloudbase.fire(a.EVENTS.LOGIN_STATE_EXPIRED),[4,this._cache.removeStoreAsync(s)];case 10:l.sent(),l.label=11;case 11:throw new Error(JSON.stringify({code:p.NETWORK_ERROR,msg:"refresh access_token failed："+h.data.code}));case 12:return h.data.access_token?(o.cloudbase.fire(a.EVENTS.ACCESS_TOKEN_REFRESHD),[4,this._cache.setStoreAsync(n,h.data.access_token)]):[3,15];case 13:return l.sent(),[4,this._cache.setStoreAsync(i,h.data.access_token_expire+Date.now())];case 14:return l.sent(),[2,{accessToken:h.data.access_token,accessTokenExpire:h.data.access_token_expire}];case 15:return h.data.refresh_token?[4,this._cache.removeStoreAsync(s)]:[3,19];case 16:return l.sent(),[4,this._cache.setStoreAsync(s,h.data.refresh_token)];case 17:return l.sent(),[4,this._refreshAccessToken()];case 18:l.sent(),l.label=19;case 19:return[2]}}))}))},e.prototype._setRefreshToken=function(e){return f(this,void 0,void 0,(function(){var t,n,r,i;return l(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return o.sent(),[4,this._cache.setStoreAsync(i,e)];case 3:return o.sent(),[2]}}))}))},e}();t.CloudbaseRequest=w;var E={}},627:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LOGINTYPE=void 0,t.LOGINTYPE=n,function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL",e.PHONE="PHONE"}(n||(t.LOGINTYPE=n={}))},2198:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=void 0,Object.defineProperty(t,"AuthProvider",{enumerable:!0,get:function(){return f.AuthProvider}}),t.eventBus=t.LoginState=t.EVENTS=void 0,t.registerAuth=function(e){try{e.registerComponent(k)}catch(t){console.warn(t)}},t.registerProvider=function(e,t){T.prototype[e]=function(n){var r="_"+e;return this[r]||(this[r]=new t(h(h({},n),this._config))),this[r]}};var i=r(n(3988)),o=n(1895),s=n(9368),a=n(1424),u=n(8432),c=n(627),f=n(2251),l=n(2360),p=n(5518),d=n(4718),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},y=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,i["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,i["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},b=o.events.CloudbaseEventEmitter,_=o.adapters.RUNTIME,w=o.utils.printWarn,E=o.utils.throwError,A=o.utils.transformPhone,O=o.constants.ERRORS,D=o.constants.COMMUNITY_SITE_URL,S=o.helpers.catchErrorsDecorator,C=new b;t.eventBus=C;var x=function(){function e(e){var t=e.cache,n=e.request;this._cache=t,this._request=n,this._setUserInfo()}return e.prototype.checkLocalInfo=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){return this.uid=this._getLocalUserInfo("uid"),this.loginType=this._getLocalUserInfo("loginType"),this.openid=this._getLocalUserInfo("wxOpenId"),this.wxOpenId=this._getLocalUserInfo("wxOpenId"),this.wxPublicId=this._getLocalUserInfo("wxPublicId"),this.unionId=this._getLocalUserInfo("wxUnionId"),this.qqMiniOpenId=this._getLocalUserInfo("qqMiniOpenId"),this.customUserId=this._getLocalUserInfo("customUserId"),this.nickName=this._getLocalUserInfo("nickName"),this.gender=this._getLocalUserInfo("gender"),this.avatarUrl=this._getLocalUserInfo("avatarUrl"),this.email=this._getLocalUserInfo("email"),this.hasPassword=Boolean(this._getLocalUserInfo("hasPassword")),this.phone=this._getLocalUserInfo("phone"),this.username=this._getLocalUserInfo("username"),this.location={country:this._getLocalUserInfo("country"),province:this._getLocalUserInfo("province"),city:this._getLocalUserInfo("city")},[2]}))}))},e.prototype.checkLocalInfoAsync=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c,f,l,p,d,h,y,g,v;return m(this,(function(m){switch(m.label){case 0:return e=this,[4,this._getLocalUserInfoAsync("uid")];case 1:return e.uid=m.sent(),t=this,[4,this._getLocalUserInfoAsync("loginType")];case 2:return t.loginType=m.sent(),n=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 3:return n.openid=m.sent(),r=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 4:return r.wxOpenId=m.sent(),i=this,[4,this._getLocalUserInfoAsync("wxPublicId")];case 5:return i.wxPublicId=m.sent(),o=this,[4,this._getLocalUserInfoAsync("wxUnionId")];case 6:return o.unionId=m.sent(),s=this,[4,this._getLocalUserInfoAsync("qqMiniOpenId")];case 7:return s.qqMiniOpenId=m.sent(),a=this,[4,this._getLocalUserInfoAsync("customUserId")];case 8:return a.customUserId=m.sent(),u=this,[4,this._getLocalUserInfoAsync("nickName")];case 9:return u.nickName=m.sent(),c=this,[4,this._getLocalUserInfoAsync("gender")];case 10:return c.gender=m.sent(),f=this,[4,this._getLocalUserInfoAsync("avatarUrl")];case 11:return f.avatarUrl=m.sent(),l=this,[4,this._getLocalUserInfoAsync("email")];case 12:return l.email=m.sent(),p=this,d=Boolean,[4,this._getLocalUserInfoAsync("hasPassword")];case 13:return p.hasPassword=d.apply(void 0,[m.sent()]),h=this,[4,this._getLocalUserInfoAsync("phone")];case 14:return h.phone=m.sent(),y=this,[4,this._getLocalUserInfoAsync("username")];case 15:return y.username=m.sent(),g=this,v={},[4,this._getLocalUserInfoAsync("country")];case 16:return v.country=m.sent(),[4,this._getLocalUserInfoAsync("province")];case 17:return v.province=m.sent(),[4,this._getLocalUserInfoAsync("city")];case 18:return g.location=(v.city=m.sent(),v),[2]}}))}))},e.prototype.linkWithTicket=function(e){if("string"!=typeof e)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})},e.prototype.linkWithRedirect=function(e){e.signInWithRedirect()},e.prototype.getLinkedUidList=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i,o;return m(this,(function(s){switch(s.label){case 0:return[4,this._request.send("auth.getLinkedUidList",{})];case 1:for(e=s.sent().data,t=!1,n=e.users,r=0,i=n;r<i.length;r++)if((o=i[r]).wxOpenId&&o.wxPublicId){t=!0;break}return[2,{users:n,hasPrimaryUid:t}]}}))}))},e.prototype.setPrimaryUid=function(e){return this._request.send("auth.setPrimaryUid",{uid:e})},e.prototype.unlink=function(e){return this._request.send("auth.unlink",{platform:e})},e.prototype.update=function(e){return v(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return m(this,(function(u){switch(u.label){case 0:return t=e.nickName,n=e.gender,r=e.avatarUrl,i=e.province,o=e.country,s=e.city,[4,this._request.send("auth.updateUserInfo",{nickName:t,gender:n,avatarUrl:r,province:i,country:o,city:s})];case 1:return a=u.sent().data,this._setLocalUserInfo(a),[2]}}))}))},e.prototype.updatePassword=function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})},e.prototype.updateEmail=function(e,t){return this._request.send("auth.updateEmail",{newEmail:e,password:t})},e.prototype.updateUsername=function(e){return"string"!=typeof e&&E(O.INVALID_PARAMS,"username must be a string"),this._request.send("auth.updateUsername",{username:e})},e.prototype.refresh=function(){return v(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,this._setLocalUserInfo(e),[2,e]}}))}))},e.prototype.linkWithPhoneNumber=function(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){return[2,this._request.send("auth.linkOrUpdatePhoneNumber",{phoneNumber:A(e),phoneCode:t})]}))}))},e.prototype.updatePhoneNumber=function(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){return[2,this._request.send("auth.linkOrUpdatePhoneNumber",{phoneNumber:A(e),phoneCode:t})]}))}))},e.prototype._getLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;return this._cache.getStore(t)[e]},e.prototype._getLocalUserInfoAsync=function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.getStoreAsync(t)];case 1:return[2,n.sent()[e]]}}))}))},e.prototype._setUserInfo=function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl","phone","username"].forEach((function(t){e[t]=n[t]})),this.location={country:n.country,province:n.province,city:n.city}},e.prototype._setLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this._setUserInfo()},y([S({title:"绑定自定义登录失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithTicket() 的语法或参数是否正确","  2 - 此账户是否已经绑定自定义登录","  3 - ticket 参数是否归属当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String]),g("design:returntype",Promise)],e.prototype,"linkWithTicket",null),y([S({title:"绑定第三方登录方式失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithRedirect() 的语法或参数是否正确","  2 - 此账户是否已经绑定此第三方","  3 - 此第三方是否已经授权","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[Object]),g("design:returntype",void 0)],e.prototype,"linkWithRedirect",null),y([S({title:"获取账户列表失败",messages:["请确认以下各项：","  1 - 调用 User.getLinkedUidList() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],e.prototype,"getLinkedUidList",null),y([S({title:"设置微信主账号失败",messages:["请确认以下各项：","  1 - 调用 User.setPrimaryUid() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String]),g("design:returntype",void 0)],e.prototype,"setPrimaryUid",null),y([S({title:"接触绑定失败",messages:["请确认以下各项：","  1 - 调用 User.unlink() 的语法或参数是否正确","  2 - 当前账户是否已经与此登录方式解绑","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String]),g("design:returntype",void 0)],e.prototype,"unlink",null),y([S({title:"更新用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.update() 的语法或参数是否正确","  2 - 用户信息中是否包含非法值","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[Object]),g("design:returntype",Promise)],e.prototype,"update",null),y([S({title:"更新密码失败",messages:["请确认以下各项：","  1 - 调用 User.updatePassword() 的语法或参数是否正确","  3 - 新密码中是否包含非法字符","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String,String]),g("design:returntype",void 0)],e.prototype,"updatePassword",null),y([S({title:"更新邮箱地址失败",messages:["请确认以下各项：","  1 - 调用 User.updateEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String,String]),g("design:returntype",void 0)],e.prototype,"updateEmail",null),y([S({title:"更新用户名失败",messages:["请确认以下各项：","  1 - 调用 User.updateUsername() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String]),g("design:returntype",void 0)],e.prototype,"updateUsername",null),y([S({title:"刷新本地用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.refresh() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],e.prototype,"refresh",null),y([S({title:"绑定手机号失败",messages:["请确认以下各项：","  1 - 调用 auth().linkWithPhoneNumber() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String,String]),g("design:returntype",Promise)],e.prototype,"linkWithPhoneNumber",null),y([S({title:"更新手机号失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String,String]),g("design:returntype",Promise)],e.prototype,"updatePhoneNumber",null),e}(),N=function(){function e(e){var t=e.envId,n=e.cache,r=e.request;t||E(O.INVALID_PARAMS,"envId is not defined"),this._cache=n,this.user=new x({cache:n,request:r})}return e.prototype.checkLocalState=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return m(this,(function(a){return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,i=this._cache.getStore(t),o=this._cache.getStore(n),s=this._cache.getStore(r),this.credential={refreshToken:i,accessToken:o,accessTokenExpire:s},this._loginType=this._cache.getStore(this._cache.keys.loginTypeKey),this.user.checkLocalInfo(),[2]}))}))},e.prototype.checkLocalStateAsync=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a;return m(this,(function(u){switch(u.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return i=u.sent(),[4,this._cache.getStoreAsync(n)];case 2:return o=u.sent(),[4,this._cache.getStoreAsync(r)];case 3:return s=u.sent(),this.credential={refreshToken:i,accessToken:o,accessTokenExpire:s},a=this,[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 4:return a._loginType=u.sent(),[4,this.user.checkLocalInfoAsync()];case 5:return u.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"isAnonymousAuth",{get:function(){return this.loginType===c.LOGINTYPE.ANONYMOUS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomAuth",{get:function(){return this.loginType===c.LOGINTYPE.CUSTOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeixinAuth",{get:function(){return this.loginType===c.LOGINTYPE.WECHAT||this.loginType===c.LOGINTYPE.WECHAT_OPEN||this.loginType===c.LOGINTYPE.WECHAT_PUBLIC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsernameAuth",{get:function(){return this.loginType===c.LOGINTYPE.USERNAME},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPhoneAuth",{get:function(){return this.loginType===c.LOGINTYPE.PHONE},enumerable:!1,configurable:!0}),e}();t.LoginState=N;var T=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request,this._runtime=e.runtime||_.WEB,C.on(I.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged.bind(this))}return Object.defineProperty(e.prototype,"currentUser",{get:function(){if("async"!==this._cache.mode){var e=this.hasLoginState();return e&&e.user||null}w(O.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrenUser insteed")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!1,configurable:!0}),e.prototype.getCurrenUser=function(){return v(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return[4,this.getLoginState()];case 1:return(e=t.sent())?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return t.sent(),[2,e.user||null];case 3:return[2,null]}}))}))},e.prototype.getLoginType=function(){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 1:return[2,e.sent()]}}))}))},e.prototype.getAccessToken=function(){return v(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return e={},[4,this._request.getAccessToken()];case 1:return[2,(e.accessToken=t.sent().accessToken,e.env=this._config.env,e)]}}))}))},e.prototype.weixinAuthProvider=function(e){var t=e.appid,n=e.scope,r=e.state;return this._weixinAuthProvider||(this._weixinAuthProvider=new s.WeixinAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request,runtime:this._runtime}),t,n,r)),this._weixinAuthProvider},e.prototype.anonymousAuthProvider=function(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new a.AnonymousAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._anonymousAuthProvider},e.prototype.customAuthProvider=function(){return this._customAuthProvider||(this._customAuthProvider=new u.CustomAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._customAuthProvider},e.prototype.emailAuthProvider=function(){return this._emailAuthProvider||(this._emailAuthProvider=new l.EmailAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._emailAuthProvider},e.prototype.usernameAuthProvider=function(){return this._usernameAuthProvider||(this._usernameAuthProvider=new p.UsernameAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._usernameAuthProvider},e.prototype.phoneAuthProvider=function(){return this._phoneAuthProvider||(this._phoneAuthProvider=new d.PhoneAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._phoneAuthProvider},e.prototype.signInWithUsernameAndPassword=function(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){return[2,this.usernameAuthProvider().signIn(e,t)]}))}))},e.prototype.isUsernameRegistered=function(e){return v(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return"string"!=typeof e&&E(O.INVALID_PARAMS,"username must be a string"),[4,this._request.send("auth.isUsernameRegistered",{username:e})];case 1:return[2,null==(t=n.sent().data)?void 0:t.isRegistered]}}))}))},e.prototype.signInWithEmailAndPassword=function(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){return[2,this.emailAuthProvider().signIn(e,t)]}))}))},e.prototype.signUpWithEmailAndPassword=function(e,t){return v(this,void 0,void 0,(function(){return m(this,(function(n){return[2,this.emailAuthProvider().signUp(e,t)]}))}))},e.prototype.sendPasswordResetEmail=function(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){return[2,this.emailAuthProvider().resetPassword(e)]}))}))},e.prototype.signOut=function(){return v(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return m(this,(function(a){switch(a.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,i="auth.logout",[4,this._cache.getStoreAsync(t)];case 1:return(o=a.sent())?[4,this._request.send(i,{refresh_token:o})]:[2];case 2:return s=a.sent(),this._cache.removeStoreAsync(t),this._cache.removeStoreAsync(n),this._cache.removeStoreAsync(r),C.fire(I.LOGIN_STATE_CHANGED),C.fire(I.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:c.LOGINTYPE.NULL,persistence:this._config.persistence}),[2,s]}}))}))},e.prototype.onLoginStateChanged=function(e){return v(this,void 0,void 0,(function(){var t,n=this;return m(this,(function(r){switch(r.label){case 0:return C.on(I.LOGIN_STATE_CHANGED,(function(){return v(n,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))})),[4,this.getLoginState()];case 1:return t=r.sent(),e.call(this,t),[2]}}))}))},e.prototype.onLoginStateExpired=function(e){C.on(I.LOGIN_STATE_EXPIRED,e.bind(this))},e.prototype.onAccessTokenRefreshed=function(e){C.on(I.ACCESS_TOKEN_REFRESHD,e.bind(this))},e.prototype.onAnonymousConverted=function(e){C.on(I.ANONYMOUS_CONVERTED,e.bind(this))},e.prototype.onLoginTypeChanged=function(e){var t=this;C.on(I.LOGIN_TYPE_CHANGED,(function(){return v(t,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))}))},e.prototype.hasLoginState=function(){if("async"!==this._cache.mode){var e=this._cache.keys.refreshTokenKey;if(this._cache.getStore(e)){var t=new N({envId:this._config.env,cache:this._cache,request:this._request});return t.checkLocalState(),t}return null}w(O.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed")},e.prototype.getLoginState=function(){return v(this,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:return e=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(e)];case 1:return n.sent()?[4,(t=new N({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,3];case 2:return n.sent(),[2,t];case 3:return[2,null]}}))}))},e.prototype.shouldRefreshAccessToken=function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)},e.prototype.getUserInfo=function(){return v(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return[4,this._request.send("auth.getUserInfo",{})];case 1:return(e=t.sent()).code?[2,e]:[2,h(h({},e.data),{requestId:e.seqId})]}}))}))},e.prototype.getAuthHeader=function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}},e.prototype.getAuthHeaderAsync=function(){return v(this,void 0,void 0,(function(){var e,t,n,r;return m(this,(function(i){switch(i.label){case 0:return[4,this._request.refreshAccessToken()];case 1:return i.sent(),e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=i.sent(),[4,this._cache.getStoreAsync(n)];case 3:return[2,{"x-cloudbase-credentials":i.sent()+"/@@/"+r}]}}))}))},e.prototype.sendPhoneCode=function(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,this._request.send("auth.sendPhoneCode",{phoneNumber:A(e)})];case 1:return[2,"Ok"===t.sent().data.SendStatus]}}))}))},e.prototype.signUpWithPhoneCode=function(e,t,n){return v(this,void 0,void 0,(function(){return m(this,(function(r){return[2,this.phoneAuthProvider().signUp(e,t,n)]}))}))},e.prototype.signInWithPhoneCodeOrPassword=function(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){return[2,this.phoneAuthProvider().signIn(e)]}))}))},e.prototype.forceResetPwdByPhoneCode=function(e){return v(this,void 0,void 0,(function(){return m(this,(function(t){return[2,this.phoneAuthProvider().signIn(h(h({},e),{signMethod:d.SIGN_METHOD.FORCERESETPWD}))]}))}))},e.prototype._onLoginTypeChanged=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return m(this,(function(i){switch(i.label){case 0:return t=e.data,n=t.loginType,r=t.persistence,t.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(r)];case 1:return i.sent(),[4,this._cache.setStoreAsync(this._cache.keys.loginTypeKey,n)];case 2:return i.sent(),[2]}}))}))},y([S({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 调用 auth().getCurrenUser() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],e.prototype,"getCurrenUser",null),y([S({title:"获取用户是否被占用失败",messages:["请确认以下各项：","  1 - 调用 auth().isUsernameRegistered() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String]),g("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),y([S({title:"用户登出失败",messages:["请确认以下各项：","  1 - 调用 auth().signOut() 的语法或参数是否正确","  2 - 当前用户是否为匿名登录（匿名登录不支持signOut）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],e.prototype,"signOut",null),y([S({title:"获取本地登录态失败",messages:["请确认以下各项：","  1 - 调用 auth().getLoginState() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],e.prototype,"getLoginState",null),y([S({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 是否已登录","  2 - 调用 auth().getUserInfo() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],e.prototype,"getUserInfo",null),y([S({title:"发送短信验证码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+D]}),g("design:type",Function),g("design:paramtypes",[String]),g("design:returntype",Promise)],e.prototype,"sendPhoneCode",null),e}();t.Auth=T;var I={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"};t.EVENTS=I;var k={name:"auth",namespace:"auth",injectEvents:{bus:C,events:[I.LOGIN_TYPE_CHANGED,I.LOGIN_STATE_EXPIRED,I.LOGIN_STATE_CHANGED,I.ACCESS_TOKEN_REFRESHD,I.ANONYMOUS_CONVERTED]},entity:function(e){if(void 0===e&&(e={region:"",persistence:"local"}),this.authInstance)return w(O.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform,n=t.adapter,r=t.runtime,i=e.persistence||n.primaryStorage;i&&i!==this.config.persistence&&this.updateConfig({persistence:i});var o=this.config,s=o.env,a=o.persistence,u=o.debug;return this.authInstance=new T({env:s,region:e.region,persistence:a,debug:u,cache:this.cache,request:this.request,runtime:r}),this.authInstance}};try{cloudbase.registerComponent(k)}catch(P){}},1424:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousAuthProvider=void 0;var i,o=r(n(3988)),s=n(2251),a=n(1895),u=n(627),c=n(2198),f=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=a.constants.ERRORS,g=a.constants.COMMUNITY_SITE_URL,v=a.utils.throwError,m=a.utils.isString,b=a.events.addEventListener,_=a.helpers.catchErrorsDecorator,w=function(e){function t(t){var n=e.call(this,t)||this;return n._onConverted=n._onConverted.bind(n),b(c.EVENTS.ANONYMOUS_CONVERTED,n._onConverted),n}return f(t,e),t.prototype.signIn=function(){return d(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return h(this,(function(a){switch(a.label){case 0:return[4,this._cache.updatePersistenceAsync("local")];case 1:return a.sent(),e=this._cache.keys,t=e.anonymousUuidKey,n=e.refreshTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=a.sent(),[4,this._cache.getStoreAsync(n)];case 3:return i=a.sent(),[4,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:i})];case 4:return(o=a.sent()).uuid&&o.refresh_token?[4,this._setAnonymousUUID(o.uuid)]:[3,10];case 5:return a.sent(),[4,this.setRefreshToken(o.refresh_token)];case 6:return a.sent(),[4,this._request.refreshAccessToken()];case 7:return a.sent(),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.ANONYMOUS,persistence:"local"}),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),[4,(s=new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return a.sent(),[4,s.user.refresh()];case 9:return a.sent(),[2,s];case 10:throw new Error(JSON.stringify({code:y.OPERATION_FAIL,msg:JSON.stringify(o)||"anonymous signIn failed"}))}}))}))},t.prototype.linkAndRetrieveDataWithTicket=function(e){return d(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return h(this,(function(f){switch(f.label){case 0:return m(e)||v(y.INVALID_PARAMS,"ticket must be a string"),t=this._cache.keys,n=t.anonymousUuidKey,r=t.refreshTokenKey,[4,this._cache.getStoreAsync(n)];case 1:return i=f.sent(),[4,this._cache.getStoreAsync(r)];case 2:return o=f.sent(),[4,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:i,refresh_token:o,ticket:e})];case 3:return(s=f.sent()).refresh_token?[4,this._clearAnonymousUUID()]:[3,8];case 4:return f.sent(),[4,this.setRefreshToken(s.refresh_token)];case 5:return f.sent(),[4,this._request.refreshAccessToken()];case 6:return f.sent(),c.eventBus.fire(c.EVENTS.ANONYMOUS_CONVERTED,{env:this._config.env}),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{loginType:u.LOGINTYPE.CUSTOM,persistence:"local"}),[4,(a=new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 7:return f.sent(),[2,a];case 8:v(y.OPERATION_FAIL,JSON.stringify(s)||"linkAndRetrieveDataWithTicket failed"),f.label=9;case 9:return[2]}}))}))},t.prototype._setAnonymousUUID=function(e){return d(this,void 0,void 0,(function(){var t,n,r;return h(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.setStoreAsync(n,e)];case 2:return i.sent(),[4,this._cache.setStoreAsync(r,u.LOGINTYPE.ANONYMOUS)];case 3:return i.sent(),[2]}}))}))},t.prototype._clearAnonymousUUID=function(){return d(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this._cache.removeStoreAsync(this._cache.keys.anonymousUuidKey)];case 1:return e.sent(),[2]}}))}))},t.prototype._onConverted=function(e){return d(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return e.data.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(this._config.persistence)];case 1:return t.sent(),[2]}}))}))},l([_({title:"匿名登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了匿名登录","  2 - 调用 auth().anonymouseProvider().signIn() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+g]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],t.prototype,"signIn",null),t}(s.AuthProvider);t.AnonymousAuthProvider=w},2251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthProvider=void 0;var r=n(2198),i=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request}return e.prototype.checkLocalLoginState=function(){return i(this,void 0,void 0,(function(){var e,t,n,i,s,a;return o(this,(function(o){switch(o.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return i=o.sent(),[4,this._cache.getStoreAsync(n)];case 2:return s=o.sent(),i?s&&s>Date.now()?[4,(a=new r.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,4]:[3,7];case 3:return o.sent(),[2,a];case 4:return[4,this._cache.removeStoreAsync(t)];case 5:return o.sent(),[4,this._cache.removeStoreAsync(n)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},e.prototype.setRefreshToken=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return o.sent(),[4,this._cache.setStoreAsync(i,e)];case 3:return o.sent(),[2]}}))}))},e.prototype.setAccessToken=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,i=n.accessTokenExpireKey,[4,this._cache.setStoreAsync(r,e)];case 1:return o.sent(),[4,this._cache.setStoreAsync(i,t)];case 2:return o.sent(),[2]}}))}))},e.prototype.refreshUserInfo=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,[4,this.setLocalUserInfo(e)];case 2:return t.sent(),[2,e]}}))}))},e.prototype.setLocalUserInfo=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.setStoreAsync(t,e)];case 1:return n.sent(),[2]}}))}))},e}();t.AuthProvider=s},8432:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAuthProvider=void 0;var i,o=r(n(3988)),s=n(1895),a=n(2251),u=n(627),c=n(2198),f=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=s.constants.ERRORS,g=s.constants.COMMUNITY_SITE_URL,v=s.utils.isString,m=s.helpers.catchErrorsDecorator,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e){return d(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return h(this,(function(f){switch(f.label){case 0:if(!v(e))throw new Error(JSON.stringify({code:y.INVALID_PARAMS,msg:"ticket must be a string"}));return t=this._cache.keys.refreshTokenKey,i=(r=this._request).send,o=["auth.signInWithTicket"],s={ticket:e},[4,this._cache.getStoreAsync(t)];case 1:return[4,i.apply(r,o.concat([(s.refresh_token=f.sent()||"",s)]))];case 2:return(n=f.sent()).refresh_token?[4,this.setRefreshToken(n.refresh_token)]:[3,7];case 3:return f.sent(),[4,this._request.refreshAccessToken()];case 4:return f.sent(),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.CUSTOM,persistence:this._config.persistence}),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),[4,this.refreshUserInfo()];case 5:return f.sent(),[4,(a=new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 6:return f.sent(),[2,a];case 7:throw new Error(JSON.stringify({code:y.OPERATION_FAIL,msg:"custom signIn failed"}))}}))}))},l([m({title:"自定义登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了自定义登录","  2 - 调用 auth().customAuthProvider().signIn() 的语法或参数是否正确","  3 - ticket 是否归属于当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+g]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],t.prototype,"signIn",null),t}(a.AuthProvider);t.CustomAuthProvider=b},2360:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.EmailAuthProvider=void 0;var i,o=r(n(3988)),s=n(1895),a=n(2251),u=n(627),c=n(2198),f=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=s.utils.throwError,g=s.utils.isString,v=s.constants.ERRORS,m=s.constants.COMMUNITY_SITE_URL,b=s.helpers.catchErrorsDecorator,_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,s;return h(this,(function(a){switch(a.label){case 0:return g(e)||y(v.INVALID_PARAMS,"email must be a string"),n=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(n)||""})];case 1:return r=a.sent(),i=r.refresh_token,o=r.access_token,s=r.access_token_expire,i?[4,this.setRefreshToken(i)]:[3,8];case 2:return a.sent(),o&&s?[4,this.setAccessToken(o,s)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:a.sent(),a.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return a.sent(),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.EMAIL,persistence:this._config.persistence}),[2,new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 8:r.code?y(v.OPERATION_FAIL,"Email login fail["+r.code+"] "+r.message):y(v.OPERATION_FAIL,"Email login fail"),a.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t){return d(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})]}))}))},t.prototype.resetPassword=function(e){return d(this,void 0,void 0,(function(){return h(this,(function(t){return[2,this._request.send("auth.sendPasswordResetEmail",{email:e})]}))}))},t.prototype.resetPasswordWithToken=function(e,t){return d(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})]}))}))},t.prototype.activate=function(e){return d(this,void 0,void 0,(function(){return h(this,(function(t){return[2,this._request.send("auth.activateEndUserMail",{token:e})]}))}))},l([b({title:"邮箱密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().emailAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 邮箱地址与密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"signIn",null),l([b({title:"邮箱注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithEmailAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"signUp",null),l([b({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用 auth().sendPasswordResetEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经与当前用户绑定","  4 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],t.prototype,"resetPassword",null),l([b({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"resetPasswordWithToken",null),l([b({title:"邮箱激活失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],t.prototype,"activate",null),t}(a.AuthProvider);t.EmailAuthProvider=_},4718:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.SIGN_METHOD=t.PhoneAuthProvider=void 0;var i,o=r(n(3988)),s=n(1895),a=n(2251),u=n(627),c=n(2198),f=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=s.utils.throwError,g=s.utils.isString,v=s.utils.transformPhone,m=s.constants.ERRORS,b=s.constants.COMMUNITY_SITE_URL,_=s.helpers.catchErrorsDecorator,w={SIGNIN:"SIGNIN",SIGNUP:"SIGNUP",FORCERESETPWD:"FORCERESETPWD"};t.SIGN_METHOD=w;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e){return d(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,f,l;return h(this,(function(p){switch(p.label){case 0:return t=e.phoneNumber,n=e.phoneCode,r=e.password,i=e.signMethod,g(t)||y(m.INVALID_PARAMS,"phoneNumber must be a string"),g(n)||g(r)||y(m.INVALID_PARAMS,"phoneCode or password must be a string"),i||(i=w.SIGNIN),o=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:u.LOGINTYPE.PHONE,phoneNumber:v(t),phoneCode:n,password:r,refresh_token:this._cache.getStore(o)||"",signMethod:i})];case 1:return s=p.sent(),a=s.refresh_token,f=s.access_token,l=s.access_token_expire,a?[4,this.setRefreshToken(a)]:[3,8];case 2:return p.sent(),f&&l?[4,this.setAccessToken(f,l)]:[3,4];case 3:return p.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:p.sent(),p.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return p.sent(),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.PHONE,persistence:this._config.persistence}),[2,new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 8:s.code?y(m.OPERATION_FAIL,"Phone login fail["+s.code+"] "+s.message):y(m.OPERATION_FAIL,"Phone login fail"),p.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t,n){return d(this,void 0,void 0,(function(){return h(this,(function(r){return[2,this.signIn({phoneNumber:e,phoneCode:t,password:n,signMethod:w.SIGNUP})]}))}))},t.prototype.forceResetPwd=function(e,t,n){return d(this,void 0,void 0,(function(){return h(this,(function(r){return[2,this.signIn({phoneNumber:e,phoneCode:t,password:n,signMethod:w.FORCERESETPWD})]}))}))},l([_({title:"手机号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().SmsAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","  3 - 短信验证码/密码是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+b]}),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",Promise)],t.prototype,"signIn",null),l([_({title:"手机短信注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithPhoneCode() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+b]}),p("design:type",Function),p("design:paramtypes",[String,String,String]),p("design:returntype",Promise)],t.prototype,"signUp",null),l([_({title:"手机密码重置失败",messages:["请确认以下各项：","  1 - 调用 auth().forceResetPwd() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+b]}),p("design:type",Function),p("design:paramtypes",[String,String,String]),p("design:returntype",Promise)],t.prototype,"forceResetPwd",null),t}(a.AuthProvider);t.PhoneAuthProvider=E},5518:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.UsernameAuthProvider=void 0;var i,o=r(n(3988)),s=n(2251),a=n(2198),u=n(627),c=n(1895),f=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=c.utils.printWarn,g=c.constants.ERRORS,v=c.constants.COMMUNITY_SITE_URL,m=c.helpers.catchErrorsDecorator,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,s,c,f,l,p;return h(this,(function(d){switch(d.label){case 0:if("string"!=typeof e)throw new Error(JSON.stringify({code:g.INVALID_PARAMS,msg:"username must be a string"}));return"string"!=typeof t&&(t="",y(g.INVALID_PARAMS,"password is empty")),n=this._cache.keys.refreshTokenKey,o=(i=this._request).send,s=["auth.signIn"],c={loginType:u.LOGINTYPE.USERNAME,username:e,password:t},[4,this._cache.getStoreAsync(n)];case 1:return[4,o.apply(i,s.concat([(c.refresh_token=d.sent()||"",c)]))];case 2:return r=d.sent(),f=r.refresh_token,l=r.access_token_expire,p=r.access_token,f?[4,this.setRefreshToken(f)]:[3,9];case 3:return d.sent(),p&&l?[4,this.setAccessToken(p,l)]:[3,5];case 4:return d.sent(),[3,7];case 5:return[4,this._request.refreshAccessToken()];case 6:d.sent(),d.label=7;case 7:return[4,this.refreshUserInfo()];case 8:return d.sent(),a.eventBus.fire(a.EVENTS.LOGIN_STATE_CHANGED),a.eventBus.fire(a.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.USERNAME,persistence:this._config.persistence}),[2,new a.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 9:throw r.code?new Error(JSON.stringify({code:g.OPERATION_FAIL,msg:"login by username failed:["+r.code+"] "+r.message})):new Error(JSON.stringify({code:g.OPERATION_FAIL,msg:"login by username failed"}));case 10:return[2]}}))}))},l([m({title:"用户名密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().signInWithUsernameAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","  3 - 用户名密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+v]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"signIn",null),t}(s.AuthProvider);t.UsernameAuthProvider=b},9368:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.WeixinAuthProvider=void 0;var i,o=r(n(3988)),s=n(2251),a=n(1895),u=n(2198),c=n(627),f=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o["default"])(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=a.constants.getSdkName,g=a.constants.ERRORS,v=a.constants.COMMUNITY_SITE_URL,m=a.adapters.RUNTIME,b=a.utils.getQuery,_=a.utils.getHash,w=a.utils.removeParam,E=a.utils.printWarn,A=a.helpers.catchErrorsDecorator,O=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._runtime=t.runtime,o._appid=n,o._scope=r,o._state=i||"weixin",o}return f(t,e),t.prototype.signIn=function(){return d(this,void 0,void 0,(function(){return h(this,(function(e){return[2,E(g.OPERATION_FAIL,"API signIn has been deprecated, please use signInWithRedirect insteed")]}))}))},t.prototype.signInWithRedirect=function(){return d(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this._redirect()]}))}))},t.prototype.getRedirectResult=function(e){return d(this,void 0,void 0,(function(){var t;return h(this,(function(n){return(t=D())?[2,this._signInWithCode(t,e)]:[2,null]}))}))},t.prototype.getLinkRedirectResult=function(e){return void 0===e&&(e={}),d(this,void 0,void 0,(function(){var t,n,r,i,o,s;return h(this,(function(a){return t=e.withUnionId,n=void 0!==t&&t,(r=D())?(i=this._appid,u=this._scope,o="snsapi_login"===u?"WECHAT-OPEN":"WECHAT-PUBLIC",s=this._runtime===m.WX_MP?"1":"0",[2,this._request.send("auth.linkWithWeixinCode",{payload:{appid:i,loginType:o,code:r,hybridMiniapp:s,withUnionId:n}})]):[2,null];var u}))}))},t.prototype._redirect=function(){var e=w("code",location.href);e=w("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this._scope&&(t="//open.weixin.qq.com/connect/qrconnect");try{location.href=t+"?appid="+this._appid+"&redirect_uri="+e+"&response_type=code&scope="+this._scope+"&state="+this._state+"#wechat_redirect"}catch(n){throw new Error("["+y()+"]["+g.UNKOWN_ERROR+"]"+n)}},t.prototype._signInWithCode=function(e,t){return d(this,void 0,void 0,(function(){var n,r,i,o,s,a,f,l;return h(this,(function(p){switch(p.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,i=n.accessTokenExpireKey,o=n.refreshTokenKey,d=this._scope,s="snsapi_login"===d?"WECHAT-OPEN":"WECHAT-PUBLIC",[4,this._getRefreshTokenByWXCode(this._appid,s,e,t)];case 1:return a=p.sent(),f=a.refreshToken,[4,this._cache.setStoreAsync(o,f)];case 2:return p.sent(),a.accessToken?[4,this._cache.setStoreAsync(r,a.accessToken)]:[3,4];case 3:p.sent(),p.label=4;case 4:return a.accessTokenExpire?[4,this._cache.setStoreAsync(i,String(a.accessTokenExpire+Date.now()))]:[3,6];case 5:p.sent(),p.label=6;case 6:return u.eventBus.fire(u.EVENTS.LOGIN_STATE_CHANGED),u.eventBus.fire(u.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:c.LOGINTYPE.WECHAT,persistence:this._config.persistence}),[4,this.refreshUserInfo()];case 7:return p.sent(),[4,(l=new u.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return p.sent(),[2,l]}var d}))}))},t.prototype._getRefreshTokenByWXCode=function(e,t,n,r){return void 0===r&&(r={}),d(this,void 0,void 0,(function(){var i,o,s,a,u,c;return h(this,(function(f){return i=r.withUnionId,o=void 0!==i&&i,s=r.createUser,a=void 0===s||s,u="snsapi_base"!==this._scope&&(r.syncUserInfo||!1),c=this._runtime===m.WX_MP?"1":"0",[2,this._request.send("auth.signIn",{appid:e,loginType:t,hybridMiniapp:c,syncUserInfo:u,loginCredential:n,withUnionId:o,createUser:a}).then((function(e){if(e.code)throw new Error("["+y()+"]["+g.OPERATION_FAIL+"] failed login via wechat: "+e.code);if(e.refresh_token)return{refreshToken:e.refresh_token,accessToken:e.access_token,accessTokenExpire:e.access_token_expire};throw new Error("["+y()+"]["+g.OPERATION_FAIL+"] action:getJwt not return refreshToken")}))]}))}))},l([A({title:"跳转微信公众号授权失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().signInWithRedirect() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+v]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],t.prototype,"signInWithRedirect",null),l([A({title:"微信公众号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+v]}),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",Promise)],t.prototype,"getRedirectResult",null),l([A({title:"获取微信重定向绑定结果",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getLinkRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+v]}),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",Promise)],t.prototype,"getLinkRedirectResult",null),t}(s.AuthProvider);function D(){return b("code")||_("code")}t.WeixinAuthProvider=O},2457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(7348),i=n(7567),o=n(9584),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=function(){function e(e,t){this._stages=[],e&&t&&(this._db=e,this._request=new r.Db.reqClass(this._db.config),this._collectionName=t)}return e.prototype.end=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return(e=t.sent())&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(i.EJSON.parse)}]:[2,e]}}))}))},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map((function(e){var t,n=e.stageKey,r=e.stageValue;return(t={})[n]=JSON.parse(r),t}))},e.prototype._pipe=function(e,t){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(t)}),this},e.prototype.addFields=function(e){return this._pipe("addFields",e)},e.prototype.bucket=function(e){return this._pipe("bucket",e)},e.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},e.prototype.count=function(e){return this._pipe("count",e)},e.prototype.geoNear=function(e){return this._pipe("geoNear",e)},e.prototype.group=function(e){return this._pipe("group",e)},e.prototype.limit=function(e){return this._pipe("limit",e)},e.prototype.match=function(e){return this._pipe("match",o.QuerySerializer.encode(e))},e.prototype.project=function(e){return this._pipe("project",e)},e.prototype.lookup=function(e){return this._pipe("lookup",e)},e.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},e.prototype.sample=function(e){return this._pipe("sample",e)},e.prototype.skip=function(e){return this._pipe("skip",e)},e.prototype.sort=function(e){return this._pipe("sort",e)},e.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},e.prototype.unwind=function(e){return this._pipe("unwind",e)},e}();t["default"]=u},9541:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionReference=void 0;var i,o=n(6500),s=n(3693),a=r(n(2457)),u=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t,n){return e.call(this,t,n)||this}return u(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new o.DocumentReference(this._db,this._coll,e)},t.prototype.add=function(e,t){return new o.DocumentReference(this._db,this._coll,undefined).create(e,t)},t.prototype.aggregate=function(){return new a["default"](this._db,this._coll)},t}(s.Query);t.CollectionReference=c},1259:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.Command=void 0;var i=n(338),o=n(9530),s=n(3454),a=n(8210),u=r(n(2457)),c={eq:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.EQ,[e])},neq:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.NEQ,[e])},lt:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.LTE,[e])},gt:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.GTE,[e])},"in":function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.IN,e)},nin:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.NIN,e)},all:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.ALL,e)},elemMatch:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.ELEM_MATCH,[e])},exists:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.EXISTS,[e])},size:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.SIZE,[e])},mod:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.MOD,[e])},geoNear:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.GEO_NEAR,[e])},geoWithin:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.GEO_WITHIN,[e])},geoIntersects:function(e){return new i.QueryCommand(i.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommand(o.LOGIC_COMMANDS_LITERAL.AND,n)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommand(o.LOGIC_COMMANDS_LITERAL.NOR,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommand(o.LOGIC_COMMANDS_LITERAL.OR,n)},not:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommand(o.LOGIC_COMMANDS_LITERAL.NOT,n)},set:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SET,[e])},remove:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.REMOVE,[])},inc:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.INC,[e])},mul:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MUL,[e])},push:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if((0,a.isObject)(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];e={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else e=(0,a.isArray)(t[0])?t[0]:Array.from(t);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PUSH,e)},pull:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PULL,e)},pullAll:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PULL_ALL,e)},pop:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.POP,[])},shift:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.UNSHIFT,n)},addToSet:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.ADD_TO_SET,e)},rename:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.RENAME,[e])},bit:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.BIT,[e])},max:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MAX,[e])},min:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return(0,a.isString)(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new u["default"]},abs:function(e){return new f("abs",e)},add:function(e){return new f("add",e)},ceil:function(e){return new f("ceil",e)},divide:function(e){return new f("divide",e)},exp:function(e){return new f("exp",e)},floor:function(e){return new f("floor",e)},ln:function(e){return new f("ln",e)},log:function(e){return new f("log",e)},log10:function(e){return new f("log10",e)},mod:function(e){return new f("mod",e)},multiply:function(e){return new f("multiply",e)},pow:function(e){return new f("pow",e)},sqrt:function(e){return new f("sqrt",e)},subtract:function(e){return new f("subtract",e)},trunc:function(e){return new f("trunc",e)},arrayElemAt:function(e){return new f("arrayElemAt",e)},arrayToObject:function(e){return new f("arrayToObject",e)},concatArrays:function(e){return new f("concatArrays",e)},filter:function(e){return new f("filter",e)},"in":function(e){return new f("in",e)},indexOfArray:function(e){return new f("indexOfArray",e)},isArray:function(e){return new f("isArray",e)},map:function(e){return new f("map",e)},range:function(e){return new f("range",e)},reduce:function(e){return new f("reduce",e)},reverseArray:function(e){return new f("reverseArray",e)},size:function(e){return new f("size",e)},slice:function(e){return new f("slice",e)},zip:function(e){return new f("zip",e)},and:function(e){return new f("and",e)},not:function(e){return new f("not",e)},or:function(e){return new f("or",e)},cmp:function(e){return new f("cmp",e)},eq:function(e){return new f("eq",e)},gt:function(e){return new f("gt",e)},gte:function(e){return new f("gte",e)},lt:function(e){return new f("lt",e)},lte:function(e){return new f("lte",e)},neq:function(e){return new f("ne",e)},cond:function(e){return new f("cond",e)},ifNull:function(e){return new f("ifNull",e)},"switch":function(e){return new f("switch",e)},dateFromParts:function(e){return new f("dateFromParts",e)},dateFromString:function(e){return new f("dateFromString",e)},dayOfMonth:function(e){return new f("dayOfMonth",e)},dayOfWeek:function(e){return new f("dayOfWeek",e)},dayOfYear:function(e){return new f("dayOfYear",e)},isoDayOfWeek:function(e){return new f("isoDayOfWeek",e)},isoWeek:function(e){return new f("isoWeek",e)},isoWeekYear:function(e){return new f("isoWeekYear",e)},millisecond:function(e){return new f("millisecond",e)},minute:function(e){return new f("minute",e)},month:function(e){return new f("month",e)},second:function(e){return new f("second",e)},hour:function(e){return new f("hour",e)},week:function(e){return new f("week",e)},year:function(e){return new f("year",e)},literal:function(e){return new f("literal",e)},mergeObjects:function(e){return new f("mergeObjects",e)},objectToArray:function(e){return new f("objectToArray",e)},allElementsTrue:function(e){return new f("allElementsTrue",e)},anyElementTrue:function(e){return new f("anyElementTrue",e)},setDifference:function(e){return new f("setDifference",e)},setEquals:function(e){return new f("setEquals",e)},setIntersection:function(e){return new f("setIntersection",e)},setIsSubset:function(e){return new f("setIsSubset",e)},setUnion:function(e){return new f("setUnion",e)},concat:function(e){return new f("concat",e)},dateToString:function(e){return new f("dateToString",e)},indexOfBytes:function(e){return new f("indexOfBytes",e)},indexOfCP:function(e){return new f("indexOfCP",e)},split:function(e){return new f("split",e)},strLenBytes:function(e){return new f("strLenBytes",e)},strLenCP:function(e){return new f("strLenCP",e)},strcasecmp:function(e){return new f("strcasecmp",e)},substr:function(e){return new f("substr",e)},substrBytes:function(e){return new f("substrBytes",e)},substrCP:function(e){return new f("substrCP",e)},toLower:function(e){return new f("toLower",e)},toUpper:function(e){return new f("toUpper",e)},meta:function(e){return new f("meta",e)},addToSet:function(e){return new f("addToSet",e)},avg:function(e){return new f("avg",e)},first:function(e){return new f("first",e)},last:function(e){return new f("last",e)},max:function(e){return new f("max",e)},min:function(e){return new f("min",e)},push:function(e){return new f("push",e)},stdDevPop:function(e){return new f("stdDevPop",e)},stdDevSamp:function(e){return new f("stdDevSamp",e)},sum:function(e){return new f("sum",e)},"let":function(e){return new f("let",e)}},project:{slice:function(e){return new l("slice",e)},elemMatch:function(e){return new l("elemMatch",e)}}};t.Command=c;var f=function(e,t){this["$"+e]=t},l=function(e,t){this["$"+e]=t},p=c;t["default"]=p},9530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.OR=t.NOT=t.NOR=t.LogicCommand=t.LOGIC_COMMANDS_LITERAL=t.AND=void 0,t.isKnownLogicCommand=function(e){return a&&e.operator.toUpperCase()in r},t.isLogicCommand=a;var r,i=n(4244),o=n(338);t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor",t.LOGIC_COMMANDS_LITERAL=r,function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(r||(t.LOGIC_COMMANDS_LITERAL=r={}));var s=function(){function e(e,t,n){if(this._internalType=i.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||i.SYMBOL_UNSET_FIELD_NAME,this.fieldName!==i.SYMBOL_UNSET_FIELD_NAME)if(Array.isArray(t)){t=t.slice(),this.operands=t;for(var r=0,s=t.length;r<s;r++)(a(u=t[r])||(0,o.isQueryCommand)(u))&&(t[r]=u._setFieldName(this.fieldName))}else{var u;(a(u=t)||(0,o.isQueryCommand)(u))&&(t=u._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n}));return new e(this.operator,n,t)},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return i.unshift(this),new e(r.AND,i,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return i.unshift(this),new e(r.OR,i,this.fieldName)},e}();function a(e){return e&&e instanceof s&&e._internalType===i.SYMBOL_LOGIC_COMMAND}t.LogicCommand=s;var u=s;t["default"]=u},338:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.SIZE=t.QueryCommand=t.QUERY_COMMANDS_LITERAL=t.NIN=t.NEQ=t.MOD=t.LTE=t.LT=t.IN=t.GTE=t.GT=t.EXISTS=t.EQ=t.ELEM_MATCH=t.ALL=void 0,t.isComparisonCommand=function(e){return d(e)},t.isKnownQueryCommand=function(e){return d(e)&&e.operator.toUpperCase()in o},t.isQueryCommand=d;var i,o,s=r(n(3988)),a=n(9530),u=n(4244),c=n(817),f=n(8210),l=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",t.ALL="all",t.ELEM_MATCH="elemMatch",t.EXISTS="exists",t.SIZE="size",t.MOD="mod",t.QUERY_COMMANDS_LITERAL=o,function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.ALL="all",e.ELEM_MATCH="elemMatch",e.EXISTS="exists",e.SIZE="size",e.MOD="mod",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"}(o||(t.QUERY_COMMANDS_LITERAL=o={}));var p=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.operator=t,i._internalType=u.SYMBOL_QUERY_COMMAND,i}return l(t,e),t.prototype.toJSON=function(){var e,t;switch(this.operator){case o.IN:case o.NIN:return(e={})["$"+this.operator]=this.operands,e;default:return(t={})["$"+this.operator]=this.operands[0],t}},t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var n=new t(o.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(o.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(o.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(o.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(o.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(o.LTE,[e],this.fieldName);return this.and(n)},t.prototype["in"]=function(e){var n=new t(o.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){var n=new t(o.NIN,e,this.fieldName);return this.and(n)},t.prototype.geoNear=function(e){if(!(e.geometry instanceof c.Point))throw new TypeError('"geometry" must be of type Point. Received type '+(0,s["default"])(e.geometry));if(e.maxDistance!==undefined&&!(0,f.isNumber)(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+(0,s["default"])(e.maxDistance));if(e.minDistance!==undefined&&!(0,f.isNumber)(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+(0,s["default"])(e.minDistance));var n=new t(o.GEO_NEAR,[e],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(e){if(!(e.geometry instanceof c.MultiPolygon||e.geometry instanceof c.Polygon))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+(0,s["default"])(e.geometry));var n=new t(o.GEO_WITHIN,[e],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(e){if(!(e.geometry instanceof c.Point||e.geometry instanceof c.LineString||e.geometry instanceof c.Polygon||e.geometry instanceof c.MultiPoint||e.geometry instanceof c.MultiLineString||e.geometry instanceof c.MultiPolygon))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+(0,s["default"])(e.geometry));var n=new t(o.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)},t}(a.LogicCommand);function d(e){return e&&e instanceof p&&e._internalType===u.SYMBOL_QUERY_COMMAND}t.QueryCommand=p;var h=p;t["default"]=h},3454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.UpdateCommand=t.UPDATE_COMMANDS_LITERAL=void 0,t.isKnownUpdateCommand=function(e){return s(e)&&e.operator.toUpperCase()in r},t.isUpdateCommand=s;var r,i=n(4244);t.UPDATE_COMMANDS_LITERAL=r,function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.PULL="pull",e.PULL_ALL="pullAll",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.BIT="bit",e.RENAME="rename",e.MAX="max",e.MIN="min"}(r||(t.UPDATE_COMMANDS_LITERAL=r={}));var o=function(){function e(e,t,n){this._internalType=i.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||i.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();function s(e){return e&&e instanceof o&&e._internalType===i.SYMBOL_UPDATE_COMMAND}t.UpdateCommand=o;var a=o;t["default"]=a},1175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={CREATE_WATCH_NET_ERROR:{code:"CREATE_WATCH_NET_ERROR",message:"create watch network error"},CREATE_WACTH_EXCEED_ERROR:{code:"CREATE_WACTH_EXCEED_ERROR",message:"maximum connections exceed"},CREATE_WATCH_SERVER_ERROR:{code:"CREATE_WATCH_SERVER_ERROR",message:"create watch server error"},CONN_ERROR:{code:"CONN_ERROR",message:"connection error"},INVALID_PARAM:{code:"INVALID_PARAM",message:"Invalid request param"},INSERT_DOC_FAIL:{code:"INSERT_DOC_FAIL",message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"}}},4921:function(e,t){"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.WhereFilterOpList=t.UpdateOperatorList=t.QueryType=t.OrderDirectionList=t.OperatorMap=t.Opeartor=t.FieldType=t.ErrorCode=void 0,t.ErrorCode=r,function(e){e.DocIDError="文档ID不合法",e.CollNameError="集合名称不合法",e.OpStrError="操作符不合法",e.DirectionError="排序字符不合法",e.IntergerError="must be integer",e.QueryParamTypeError="查询参数必须为对象",e.QueryParamValueError="查询参数对象值不能均为undefined"}(r||(t.ErrorCode=r={})),t.FieldType={String:"String",Number:"Number",Object:"Object",Array:"Array",Boolean:"Boolean",Null:"Null",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",Command:"Command",ServerDate:"ServerDate",BsonDate:"BsonDate"},t.OrderDirectionList=["desc","asc"],t.WhereFilterOpList=["<","<=","==",">=",">"],t.Opeartor=i,function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="}(i||(t.Opeartor=i={}));var o,s=((n={})[i.eq]="$eq",n[i.lt]="$lt",n[i.lte]="$lte",n[i.gt]="$gt",n[i.gte]="$gte",n);t.OperatorMap=s,t.UpdateOperatorList=["$set","$inc","$mul","$unset","$push","$pop","$unshift","$shift","$currentDate","$each","$position"],t.QueryType=o,function(e){e.WHERE="WHERE",e.DOC="DOC"}(o||(t.QueryType=o={}))},6500:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReference=void 0;var i=r(n(3988)),o=n(2923),s=n(7348),a=n(4359),u=n(851),c=n(4108),f=n(3454),l=n(4921),p=n(9213),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},h=function(){function e(e,t,n,r){var i=this;void 0===r&&(r={}),this.watch=function(e){return(0,p.getWsInstance)(i._db).watch(d(d({},e),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify({_id:i.id})}))},this._db=e,this._coll=t,this.id=n,this.request=new s.Db.reqClass(this._db.config),this.projection=r}return e.prototype.create=function(e,t){t=t||(0,o.createPromiseCallback)();var n={collectionName:this._coll,data:(0,c.serialize)(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})}))["catch"]((function(e){t(e)})),t.promise},e.prototype.set=function(e,t){if(t=t||(0,o.createPromiseCallback)(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!==(0,i["default"])(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1;if(function s(e){if("object"===(0,i["default"])(e))for(var t in e)e[t]instanceof f.UpdateCommand?n=!0:"object"===(0,i["default"])(e[t])&&s(e[t])}(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var r={collectionName:this._coll,queryType:l.QueryType.DOC,data:(0,c.serialize)(e),multi:!1,merge:!1,upsert:!0};return this.id&&(r.query={_id:this.id}),this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}))["catch"]((function(e){t(e)})),t.promise},e.prototype.update=function(e,t){if(t=t||(0,o.createPromiseCallback)(),!e||"object"!==(0,i["default"])(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r={collectionName:this._coll,data:u.UpdateSerializer.encode(e),query:n,queryType:l.QueryType.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}))["catch"]((function(e){t(e)})),t.promise},e.prototype.remove=function(e){e=e||(0,o.createPromiseCallback)();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:l.QueryType.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})}))["catch"]((function(t){e(t)})),e.promise},e.prototype.get=function(e){e=e||(0,o.createPromiseCallback)();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:l.QueryType.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=a.Util.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}}))["catch"]((function(t){e(t)})),e.promise},e.prototype.field=function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)},e}();t.DocumentReference=h},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7162);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(7946);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(1869);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n(7669);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=n(4858);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=n(9949);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}))},7946:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.LineString=void 0;var i=r(n(3988)),o=n(4244),s=n(7162),a=n(8210),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,a.isArray)(e))throw new TypeError('"points" must be of type Point[]. Received type '+(0,i["default"])(e));if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach((function(e){if(!(e instanceof s.Point))throw new TypeError('"points" must be of type Point[]. Received type '+(0,i["default"])(e)+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("LineString"!==e.type||!(0,a.isArray)(e.coordinates))return!1;try{for(var r=u(e.coordinates),i=r.next();!i.done;i=r.next()){var o=i.value;if(!(0,a.isNumber)(o[0])||!(0,a.isNumber)(o[1]))return!1}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}return!0},e.isClosed=function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return o.SYMBOL_GEO_LINE_STRING},enumerable:!0,configurable:!0}),e}();t.LineString=c},4858:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiLineString=void 0;var i=r(n(3988)),o=n(4244),s=n(8210),a=n(7946),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,s.isArray)(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,i["default"])(e));if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof a.LineString))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,i["default"])(e)+"[]")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,i;if("MultiLineString"!==e.type||!(0,s.isArray)(e.coordinates))return!1;try{for(var o=u(e.coordinates),a=o.next();!a.done;a=o.next()){var c=a.value;try{for(var f=(r=void 0,u(c)),l=f.next();!l.done;l=f.next()){var p=l.value;if(!(0,s.isNumber)(p[0])||!(0,s.isNumber)(p[1]))return!1}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=f["return"])&&i.call(f)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return o.SYMBOL_GEO_MULTI_LINE_STRING},enumerable:!0,configurable:!0}),e}();t.MultiLineString=c},7669:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPoint=void 0;var i=r(n(3988)),o=n(4244),s=n(7162),a=n(8210),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,a.isArray)(e))throw new TypeError('"points" must be of type Point[]. Received type '+(0,i["default"])(e));if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach((function(e){if(!(e instanceof s.Point))throw new TypeError('"points" must be of type Point[]. Received type '+(0,i["default"])(e)+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("MultiPoint"!==e.type||!(0,a.isArray)(e.coordinates))return!1;try{for(var r=u(e.coordinates),i=r.next();!i.done;i=r.next()){var o=i.value;if(!(0,a.isNumber)(o[0])||!(0,a.isNumber)(o[1]))return!1}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return o.SYMBOL_GEO_MULTI_POINT},enumerable:!0,configurable:!0}),e}();t.MultiPoint=c},9949:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPolygon=void 0;var i=r(n(3988)),o=n(4244),s=n(8210),a=n(1869),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){var t,n;if(!(0,s.isArray)(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+(0,i["default"])(e));if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var r=u(e),o=r.next();!o.done;o=r.next()){var c=o.value;if(!(c instanceof a.Polygon))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+(0,i["default"])(c)+"[]")}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}this.polygons=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))},t},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}},e.validate=function(e){var t,n,r,i,o,a;if("MultiPolygon"!==e.type||!(0,s.isArray)(e.coordinates))return!1;try{for(var c=u(e.coordinates),f=c.next();!f.done;f=c.next()){var l=f.value;try{for(var p=(r=void 0,u(l)),d=p.next();!d.done;d=p.next()){var h=d.value;try{for(var y=(o=void 0,u(h)),g=y.next();!g.done;g=y.next()){var v=g.value;if(!(0,s.isNumber)(v[0])||!(0,s.isNumber)(v[1]))return!1}}catch(m){o={error:m}}finally{try{g&&!g.done&&(a=y["return"])&&a.call(y)}finally{if(o)throw o.error}}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=p["return"])&&i.call(p)}finally{if(r)throw r.error}}}}catch(_){t={error:_}}finally{try{f&&!f.done&&(n=c["return"])&&n.call(c)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return o.SYMBOL_GEO_POLYGON},enumerable:!0,configurable:!0}),e}();t.MultiPolygon=c},7162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var r=n(8865),i=n(4244),o=n(8210),s=function(){function e(e,t){r.Validate.isGeopoint("longitude",e),r.Validate.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Point",coordinates:[this.longitude,this.latitude]},t},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(e){return"Point"===e.type&&(0,o.isArray)(e.coordinates)&&r.Validate.isGeopoint("longitude",e.coordinates[0])&&r.Validate.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return i.SYMBOL_GEO_POINT},enumerable:!0,configurable:!0}),e}();t.Point=s},1869:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.Polygon=void 0;var i=r(n(3988)),o=n(4244),s=n(8210),a=n(7946),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,s.isArray)(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,i["default"])(e));if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof a.LineString))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,i["default"])(e)+"[]");if(!a.LineString.isClosed(e))throw new Error("LineString "+e.points.map((function(e){return e.toReadableString()}))+" is not a closed cycle")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,i;if("Polygon"!==e.type||!(0,s.isArray)(e.coordinates))return!1;try{for(var o=u(e.coordinates),a=o.next();!a.done;a=o.next()){var c=a.value;if(!this.isCloseLineString(c))return!1;try{for(var f=(r=void 0,u(c)),l=f.next();!l.done;l=f.next()){var p=l.value;if(!(0,s.isNumber)(p[0])||!(0,s.isNumber)(p[1]))return!1}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=f["return"])&&i.call(f)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}return!0},e.isCloseLineString=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]},Object.defineProperty(e.prototype,"_internalType",{get:function(){return o.SYMBOL_GEO_MULTI_POLYGON},enumerable:!0,configurable:!0}),e}();t.Polygon=c},4244:function(e,t,n){"use strict";var r=n(3988);Object.defineProperty(t,"__esModule",{value:!0});var i={SYMBOL_UNSET_FIELD_NAME:!0,SYMBOL_UPDATE_COMMAND:!0,SYMBOL_QUERY_COMMAND:!0,SYMBOL_LOGIC_COMMAND:!0,SYMBOL_GEO_POINT:!0,SYMBOL_GEO_LINE_STRING:!0,SYMBOL_GEO_POLYGON:!0,SYMBOL_GEO_MULTI_POINT:!0,SYMBOL_GEO_MULTI_LINE_STRING:!0,SYMBOL_GEO_MULTI_POLYGON:!0,SYMBOL_SERVER_DATE:!0,SYMBOL_REGEXP:!0};t.SYMBOL_UPDATE_COMMAND=t.SYMBOL_UNSET_FIELD_NAME=t.SYMBOL_SERVER_DATE=t.SYMBOL_REGEXP=t.SYMBOL_QUERY_COMMAND=t.SYMBOL_LOGIC_COMMAND=t.SYMBOL_GEO_POLYGON=t.SYMBOL_GEO_POINT=t.SYMBOL_GEO_MULTI_POLYGON=t.SYMBOL_GEO_MULTI_POINT=t.SYMBOL_GEO_MULTI_LINE_STRING=t.SYMBOL_GEO_LINE_STRING=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{"default":e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}return i["default"]=e,n&&n.set(e,i),i}(n(8447));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=o["default"]["for"]("UNSET_FIELD_NAME");t.SYMBOL_UNSET_FIELD_NAME=a;var u=o["default"]["for"]("UPDATE_COMMAND");t.SYMBOL_UPDATE_COMMAND=u;var c=o["default"]["for"]("QUERY_COMMAND");t.SYMBOL_QUERY_COMMAND=c;var f=o["default"]["for"]("LOGIC_COMMAND");t.SYMBOL_LOGIC_COMMAND=f;var l=o["default"]["for"]("GEO_POINT");t.SYMBOL_GEO_POINT=l;var p=o["default"]["for"]("SYMBOL_GEO_LINE_STRING");t.SYMBOL_GEO_LINE_STRING=p;var d=o["default"]["for"]("SYMBOL_GEO_POLYGON");t.SYMBOL_GEO_POLYGON=d;var h=o["default"]["for"]("SYMBOL_GEO_MULTI_POINT");t.SYMBOL_GEO_MULTI_POINT=h;var y=o["default"]["for"]("SYMBOL_GEO_MULTI_LINE_STRING");t.SYMBOL_GEO_MULTI_LINE_STRING=y;var g=o["default"]["for"]("SYMBOL_GEO_MULTI_POLYGON");t.SYMBOL_GEO_MULTI_POLYGON=g;var v=o["default"]["for"]("SERVER_DATE");t.SYMBOL_SERVER_DATE=v;var m=o["default"]["for"]("REGEXP");t.SYMBOL_REGEXP=m},7348:function(e,t,n){"use strict";var r=n(3988);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CollectionReference",{enumerable:!0,get:function(){return o.CollectionReference}}),t.Db=void 0,Object.defineProperty(t,"DocumentReference",{enumerable:!0,get:function(){return h.DocumentReference}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return d.Query}});var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{"default":e};var n=y(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i["default"]=e,n&&n.set(e,i),i}(n(817)),o=n(9541),s=n(1259),a=n(365),u=n(4121),c=n(7196),f=n(9530),l=n(338),p=n(3454),d=n(3693),h=n(6500);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var g=function(){function e(e){this.config=e,this.Geo=i,this.serverDate=a.ServerDateConstructor,this.command=s.Command,this.RegExp=u.RegExpConstructor,this.startTransaction=c.startTransaction,this.runTransaction=c.runTransaction,this.logicCommand=f.LogicCommand,this.updateCommand=p.UpdateCommand,this.queryCommand=l.QueryCommand}return e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new o.CollectionReference(this,e)},e.prototype.createCollection=function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)},e}();t.Db=g},2923:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPromiseCallback=void 0,t.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e}},9211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorMap=void 0,t.operatorToString=function(e){return s[e]||"$"+e};var r=n(338),i=n(9530),o=n(3454),s={};for(var a in t.OperatorMap=s,r.QUERY_COMMANDS_LITERAL)s[a]="$"+a;for(var a in i.LOGIC_COMMANDS_LITERAL)s[a]="$"+a;for(var a in o.UPDATE_COMMANDS_LITERAL)s[a]="$"+a;s[r.QUERY_COMMANDS_LITERAL.NEQ]="$ne",s[o.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",s[o.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",s[o.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push"},3693:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var i=r(n(3988)),o=n(2923),s=n(4921),a=n(7348),u=n(8865),c=n(4359),f=n(9584),l=n(851),p=n(9213),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},h=function(){function e(e,t,n,r,i){var o=this;this.watch=function(e){return(0,p.getWsInstance)(o._db).watch(d(d({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify(o._fieldFilters||{}),limit:o._queryOptions.limit,orderBy:o._fieldOrders?o._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):undefined}))},this._db=e,this._coll=t,this._fieldFilters=n,this._fieldOrders=r||[],this._queryOptions=i||{},this._request=new a.Db.reqClass(this._db.config)}return e.prototype.get=function(e){e=e||(0,o.createPromiseCallback)();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:s.QueryType.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n={data:c.Util.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}}))["catch"]((function(t){e(t)})),e.promise},e.prototype.count=function(e){e=e||(0,o.createPromiseCallback)();var t={collectionName:this._coll,queryType:s.QueryType.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})}))["catch"]((function(t){e(t)})),e.promise},e.prototype.where=function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(s.ErrorCode.QueryParamTypeError);var n=Object.keys(t),r=n.some((function(e){return t[e]!==undefined}));if(n.length&&!r)throw Error(s.ErrorCode.QueryParamValueError);return new e(this._db,this._coll,f.QuerySerializer.encode(t),this._fieldOrders,this._queryOptions)},e.prototype.orderBy=function(t,n){u.Validate.isFieldPath(t),u.Validate.isFieldOrder(n);var r={field:t,direction:n},i=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,i,this._queryOptions)},e.prototype.limit=function(t){u.Validate.isInteger("limit",t);var n=d({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.skip=function(t){u.Validate.isInteger("offset",t);var n=d({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.update=function(e,t){if(t=t||(0,o.createPromiseCallback)(),!e||"object"!==(0,i["default"])(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:s.QueryType.WHERE,multi:!0,merge:!0,upsert:!1,data:l.UpdateSerializer.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})}))["catch"]((function(e){t(e)})),t.promise},e.prototype.field=function(t){for(var n in t)t[n]?"object"!==(0,i["default"])(t[n])&&(t[n]=1):t[n]=0;var r=d({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.remove=function(e){e=e||(0,o.createPromiseCallback)(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:f.QuerySerializer.encode(this._fieldFilters),queryType:s.QueryType.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})}))["catch"]((function(t){e(t)})),e.promise},e}();t.Query=h},4121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegExp=void 0,t.RegExpConstructor=function(e){return new i(e)};var r=n(4244),i=function(){function e(e){var t=e.regexp,n=e.options;if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_REGEXP},enumerable:!0,configurable:!0}),e}();t.RegExp=i},1052:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInternalDataType=function(e){return(0,i.deserialize)(e)},t.encodeInternalDataType=function(e){return(0,i.serialize)(e)},t.flattenObject=function(e){return u(e,(function(e){return!1}),[],[e])},t.flattenQueryObject=function(e){return u(e,c,[],[e])},t.isConversionRequired=c,t.mergeConditionAfterEncode=function(e,t,n){for(var i in t[n]||delete e[n],t)e[i]?(0,r.isArray)(e[i])?e[i].push(t[i]):(0,r.isObject)(e[i])?(0,r.isObject)(t[i])?Object.assign(e[i],t[i]):(console.warn("unmergable condition, query is object but condition is "+(0,r.getType)(t)+", can only overwrite",t,n),e[i]=t[i]):(console.warn("to-merge query is of type "+(0,r.getType)(e)+", can only overwrite",e,t,n),e[i]=t[i]):e[i]=t[i]};var r=n(8210),i=n(4108),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};function u(e,t,n,i){var s=o({},e);for(var c in e)if(!/^\$/.test(c)){var f=e[c];if(f&&(0,r.isObject)(f)&&!t(f)){if(i.indexOf(f)>-1)throw new Error("Cannot convert circular structure to JSON");var l=u(f,t,a(n,[c]),a(i,[f]));s[c]=l;var p=!1;for(var d in l)/^\$/.test(d)?p=!0:(s[c+"."+d]=l[d],delete s[c][d]);p||delete s[c]}}return s}function c(e){return(0,r.isInternalObject)(e)||(0,r.isDate)(e)||(0,r.isRegExp)(e)}},4108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=function(e){var t=a({},e);for(var n in t)switch(n){case"$date":switch((0,i.getType)(t[n])){case"number":return new Date(t[n]);case"object":return new s.ServerDate(t[n])}break;case"type":if("Point"===t.type&&(0,i.isArray)(t.coordinates)&&(0,i.isNumber)(t.coordinates[0])&&(0,i.isNumber)(t.coordinates[1]))return new o.Point(t.coordinates[0],t.coordinates[1])}return e},t.serialize=function(e){return f(e,[e])};var r=n(4244),i=n(8210),o=n(817),s=n(365),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};function f(e,t){if(!(0,i.isInternalObject)(e)){if((0,i.isDate)(e))return{$date:+e};if((0,i.isRegExp)(e))return{$regex:e.source,$options:e.flags};if((0,i.isArray)(e))return e.map((function(e){if(t.indexOf(e)>-1)throw new Error("Cannot convert circular structure to JSON");return f(e,c(t,[e]))}));if((0,i.isObject)(e)){var n=a({},e);for(var o in n){if(t.indexOf(n[o])>-1)throw new Error("Cannot convert circular structure to JSON");n[o]=f(n[o],c(t,[n[o]]))}return n}return e}switch(e._internalType){case r.SYMBOL_GEO_POINT:return e.toJSON();case r.SYMBOL_SERVER_DATE:case r.SYMBOL_REGEXP:return e.parse();default:return e.toJSON?e.toJSON():e}}},9584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySerializer=void 0;var r=n(338),i=n(9530),o=n(4244),s=n(8210),a=n(9211),u=n(1052),c=function(){function e(){}return e.encode=function(e){return(new f).encodeQuery(e)},e}();t.QuerySerializer=c;var f=function(){function e(){}return e.prototype.encodeQuery=function(e,t){var n;return(0,u.isConversionRequired)(e)?(0,i.isLogicCommand)(e)?this.encodeLogicCommand(e):(0,r.isQueryCommand)(e)?this.encodeQueryCommand(e):((n={})[t]=this.encodeQueryObject(e),n):(0,s.isObject)(e)?this.encodeQueryObject(e):e},e.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},e.prototype.encodeLogicCommand=function(e){var t,n,r,o,u,c,f,l=this;switch(e.operator){case i.LOGIC_COMMANDS_LITERAL.NOR:case i.LOGIC_COMMANDS_LITERAL.AND:case i.LOGIC_COMMANDS_LITERAL.OR:var p=(0,a.operatorToString)(e.operator),d=e.operands.map((function(t){return l.encodeQuery(t,e.fieldName)}));return(t={})[p]=d,t;case i.LOGIC_COMMANDS_LITERAL.NOT:p=(0,a.operatorToString)(e.operator);var h=e.operands[0];return(0,s.isRegExp)(h)?((n={})[e.fieldName]=((r={})[p]=this.encodeRegExp(h),r),n):(d=this.encodeQuery(h)[e.fieldName],(o={})[e.fieldName]=((u={})[p]=d,u),o);default:if(p=(0,a.operatorToString)(e.operator),1===e.operands.length){var y=this.encodeQuery(e.operands[0]);return(c={})[p]=y,c}return d=e.operands.map(this.encodeQuery.bind(this)),(f={})[p]=d,f}},e.prototype.encodeQueryCommand=function(e){return(0,r.isComparisonCommand)(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,n,i,s,c,f,l,p,d;if(e.fieldName===o.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");var h=(0,a.operatorToString)(e.operator);switch(e.operator){case r.QUERY_COMMANDS_LITERAL.EQ:case r.QUERY_COMMANDS_LITERAL.NEQ:case r.QUERY_COMMANDS_LITERAL.LT:case r.QUERY_COMMANDS_LITERAL.LTE:case r.QUERY_COMMANDS_LITERAL.GT:case r.QUERY_COMMANDS_LITERAL.GTE:case r.QUERY_COMMANDS_LITERAL.ELEM_MATCH:case r.QUERY_COMMANDS_LITERAL.EXISTS:case r.QUERY_COMMANDS_LITERAL.SIZE:case r.QUERY_COMMANDS_LITERAL.MOD:return(t={})[e.fieldName]=((n={})[h]=(0,u.encodeInternalDataType)(e.operands[0]),n),t;case r.QUERY_COMMANDS_LITERAL.IN:case r.QUERY_COMMANDS_LITERAL.NIN:case r.QUERY_COMMANDS_LITERAL.ALL:return(i={})[e.fieldName]=((s={})[h]=(0,u.encodeInternalDataType)(e.operands),s),i;case r.QUERY_COMMANDS_LITERAL.GEO_NEAR:var y=e.operands[0];return(c={})[e.fieldName]={$nearSphere:{$geometry:y.geometry.toJSON(),$maxDistance:y.maxDistance,$minDistance:y.minDistance}},c;case r.QUERY_COMMANDS_LITERAL.GEO_WITHIN:return y=e.operands[0],(f={})[e.fieldName]={$geoWithin:{$geometry:y.geometry.toJSON()}},f;case r.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS:return y=e.operands[0],(l={})[e.fieldName]={$geoIntersects:{$geometry:y.geometry.toJSON()}},l;default:return(p={})[e.fieldName]=((d={})[h]=(0,u.encodeInternalDataType)(e.operands[0]),d),p}},e.prototype.encodeQueryObject=function(e){var t=(0,u.flattenQueryObject)(e);for(var n in t){var o=t[n];if((0,i.isLogicCommand)(o)){t[n]=o._setFieldName(n);var s=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,s,n)}else(0,r.isComparisonCommand)(o)?(t[n]=o._setFieldName(n),s=this.encodeComparisonCommand(t[n]),this.mergeConditionAfterEncode(t,s,n)):(0,u.isConversionRequired)(o)&&(t[n]=(0,u.encodeInternalDataType)(o))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?(0,s.isArray)(e[r])?e[r]=e[r].concat(t[r]):(0,s.isObject)(e[r])?(0,s.isObject)(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+(0,s.getType)(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+(0,s.getType)(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},e}()},851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateSerializer=void 0;var r=n(3454),i=n(4244),o=n(8210),s=n(9211),a=n(1052),u=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return(0,r.isUpdateCommand)(e)?this.encodeUpdateCommand(e):"object"===(0,o.getType)(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===i.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.PUSH:case r.UPDATE_COMMANDS_LITERAL.PULL:case r.UPDATE_COMMANDS_LITERAL.PULL_ALL:case r.UPDATE_COMMANDS_LITERAL.POP:case r.UPDATE_COMMANDS_LITERAL.SHIFT:case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:case r.UPDATE_COMMANDS_LITERAL.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,i,o,a=(0,s.operatorToString)(e.operator);return e.operator===r.UPDATE_COMMANDS_LITERAL.REMOVE?((t={})[a]=((n={})[e.fieldName]="",n),t):((i={})[a]=((o={})[e.fieldName]=e.operands[0],o),i)},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,i,u,c,f,l,p,d,h,y=(0,s.operatorToString)(e.operator);switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.PUSH:var g=void 0;return g=(0,o.isArray)(e.operands)?{$each:e.operands.map(a.encodeInternalDataType)}:e.operands,(t={})[y]=((n={})[e.fieldName]=g,n),t;case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:return g={$each:e.operands.map(a.encodeInternalDataType),$position:0},(i={})[y]=((u={})[e.fieldName]=g,u),i;case r.UPDATE_COMMANDS_LITERAL.POP:return(c={})[y]=((f={})[e.fieldName]=1,f),c;case r.UPDATE_COMMANDS_LITERAL.SHIFT:return(l={})[y]=((p={})[e.fieldName]=-1,p),l;default:return(d={})[y]=((h={})[e.fieldName]=(0,a.encodeInternalDataType)(e.operands),h),d}},e.prototype.encodeUpdateObject=function(e){var t=(0,a.flattenQueryObject)(e);for(var n in t)if(!/^\$/.test(n)){var i=t[n];if((0,r.isUpdateCommand)(i)){t[n]=i._setFieldName(n);var o=this.encodeUpdateCommand(t[n]);(0,a.mergeConditionAfterEncode)(t,o,n)}else{t[n]=i=(0,a.encodeInternalDataType)(i);var s=new r.UpdateCommand(r.UPDATE_COMMANDS_LITERAL.SET,[i],n);o=this.encodeUpdateCommand(s),(0,a.mergeConditionAfterEncode)(t,o,n)}}return t},e}();t.UpdateSerializer=u},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDate=void 0,t.ServerDateConstructor=function(e){return new i(e)};var r=n(4244),i=function(){function e(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_SERVER_DATE},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e}();t.ServerDate=i},5965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionReference=void 0;var r,i=n(9381),o=n(3971),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new i.DocumentReference(this._transaction,this._coll,e)},t.prototype.add=function(e){var t;return e._id!==undefined&&(t=e._id),new i.DocumentReference(this._transaction,this._coll,t).create(e)},t}(o.Query);t.CollectionReference=a},9381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReference=void 0;var r=n(7567),i=n(1175),o=n(851),s=n(4108),a=n(4359),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l="database.updateDocInTransaction",p=function(){function e(e,t,n){this._coll=t,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(e){return c(this,void 0,void 0,(function(){var t,n,o,a;return f(this,(function(c){switch(c.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:r.EJSON.stringify((0,s.serialize)(e),{relaxed:!1})},this.id&&(t._id=this.id),[4,this._request.send("database.insertDocInTransaction",t)];case 1:if((n=c.sent()).code)throw n;if(o=r.EJSON.parse(n.inserted),1==(a=r.EJSON.parse(n.ok))&&1==o)return[2,u(u({},n),{ok:a,inserted:o})];throw new Error(i.ERRORS.INSERT_DOC_FAIL.message)}}))}))},e.prototype.get=function(){return c(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.getInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,{data:"null"!==t.data?a.Util.formatField(r.EJSON.parse(t.data)):r.EJSON.parse(t.data),requestId:t.requestId}]}}))}))},e.prototype.set=function(e){return c(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){switch(i.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:r.EJSON.stringify((0,s.serialize)(e),{relaxed:!1}),upsert:!0},[4,this._request.send(l,t)];case 1:if((n=i.sent()).code)throw n;return[2,u(u({},n),{updated:r.EJSON.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}}))}))},e.prototype.update=function(e){return c(this,void 0,void 0,(function(){var t,n;return f(this,(function(i){switch(i.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:r.EJSON.stringify(o.UpdateSerializer.encode(e),{relaxed:!1})},[4,this._request.send(l,t)];case 1:if((n=i.sent()).code)throw n;return[2,u(u({},n),{updated:r.EJSON.parse(n.updated)})]}}))}))},e.prototype["delete"]=function(){return c(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.deleteDocInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,u(u({},t),{deleted:r.EJSON.parse(t.deleted)})]}}))}))},e}();t.DocumentReference=p},7196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0,t.runTransaction=function c(e,t){return void 0===t&&(t=3),s(this,void 0,void 0,(function(){var n,r,i,f,l=this;return a(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,10]),[4,(n=new u(this)).init()];case 1:return p.sent(),[4,e(n)];case 2:if(r=p.sent(),!0===n.aborted)throw n.abortReason;return[4,n.commit()];case 3:return p.sent(),[2,r];case 4:if(i=p.sent(),!1===n.inited)throw i;return f=function(e){return s(l,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:if(n.aborted||n.commited)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.rollback()];case 2:case 3:return t.sent(),[3,4];case 4:throw e;case 5:if(!0===n.aborted)throw n.abortReason;throw e}}))}))},t<=0?[4,f(i)]:[3,6];case 5:p.sent(),p.label=6;case 6:return i&&i.code===o.ERRORS.DATABASE_TRANSACTION_CONFLICT.code?[4,c.bind(this)(e,--t)]:[3,8];case 7:return[2,p.sent()];case 8:return[4,f(i)];case 9:return p.sent(),[3,10];case 10:return[2]}}))}))},t.startTransaction=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,(e=new u(this)).init()];case 1:return t.sent(),[2,e]}}))}))};var r=n(7348),i=n(5965),o=n(1175),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=function(){function e(e){this._db=e,this._request=new r.Db.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this._request.send("database.startTransaction")];case 1:if((e=t.sent()).code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}}))}))},e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new i.CollectionReference(this,e)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return s(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send("database.commitTransaction",e)];case 1:if((t=n.sent()).code)throw t;return this.commited=!0,[2,t]}}))}))},e.prototype.rollback=function(e){return s(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return t={transactionId:this._id},[4,this._request.send("database.abortTransaction",t)];case 1:if((n=r.sent()).code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}}))}))},e}();t.Transaction=u},3971:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var n=function(e,t){this._coll=t,this._transaction=e};t.Query=n},4359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;var r=n(4921),i=n(817),o=n(365),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},a=function(){function e(){}return e.formatResDocumentData=function(t){return t.map((function(t){return e.formatField(t)}))},e.formatField=function(t){var n=Object.keys(t),o={};return Array.isArray(t)&&(o=[]),n.forEach((function(n){var a,u=t[n];switch(e.whichType(u)){case r.FieldType.GeoPoint:a=new i.Point(u.coordinates[0],u.coordinates[1]);break;case r.FieldType.GeoLineString:a=new i.LineString(u.coordinates.map((function(e){return new i.Point(e[0],e[1])})));break;case r.FieldType.GeoPolygon:a=new i.Polygon(u.coordinates.map((function(e){return new i.LineString(e.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new i.Point(n,r)})))})));break;case r.FieldType.GeoMultiPoint:a=new i.MultiPoint(u.coordinates.map((function(e){return new i.Point(e[0],e[1])})));break;case r.FieldType.GeoMultiLineString:a=new i.MultiLineString(u.coordinates.map((function(e){return new i.LineString(e.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new i.Point(n,r)})))})));break;case r.FieldType.GeoMultiPolygon:a=new i.MultiPolygon(u.coordinates.map((function(e){return new i.Polygon(e.map((function(e){return new i.LineString(e.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new i.Point(n,r)})))})))})));break;case r.FieldType.Timestamp:a=new Date(1e3*u.$timestamp);break;case r.FieldType.Object:case r.FieldType.Array:a=e.formatField(u);break;case r.FieldType.ServerDate:a=new Date(u.$date);break;default:a=u}Array.isArray(o)?o.push(a):o[n]=a})),o},e.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===r.FieldType.Timestamp)return r.FieldType.BsonDate;if(t===r.FieldType.Object){if(e instanceof i.Point)return r.FieldType.GeoPoint;if(e instanceof Date)return r.FieldType.Timestamp;if(e instanceof o.ServerDate)return r.FieldType.ServerDate;e.$timestamp?t=r.FieldType.Timestamp:e.$date?t=r.FieldType.ServerDate:i.Point.validate(e)?t=r.FieldType.GeoPoint:i.LineString.validate(e)?t=r.FieldType.GeoLineString:i.Polygon.validate(e)?t=r.FieldType.GeoPolygon:i.MultiPoint.validate(e)?t=r.FieldType.GeoMultiPoint:i.MultiLineString.validate(e)?t=r.FieldType.GeoMultiLineString:i.MultiPolygon.validate(e)&&(t=r.FieldType.GeoMultiPolygon)}return t},e.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e}();t.Util=a},8447:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.InternalSymbol=void 0;var n,r=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=[],o={},s=function(e){function t(t,n){if(n!==o)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return r(t,e),t["for"]=function(e){for(var n=0,r=i.length;n<r;n++)if(i[n].target===e)return i[n].instance;var s=new t(e,o);return i.push({target:e,instance:s}),s},t}((function(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}));t.InternalSymbol=s;var a=s;t["default"]=a},8210:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.isString=t.isRegExp=t.isPromise=t.isPlainObject=t.isObject=t.isNumber=t.isInternalObject=t.isFunction=t.isDate=t.isArray=t.getType=void 0;var i=r(n(3988)),o=n(8447),s=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()};t.getType=s,t.isObject=function(e){return"object"===s(e)},t.isString=function(e){return"string"===s(e)},t.isNumber=function(e){return"number"===s(e)},t.isPromise=function(e){return"promise"===s(e)},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return Array.isArray(e)},t.isDate=function(e){return"date"===s(e)},t.isRegExp=function(e){return"regexp"===s(e)},t.isInternalObject=function(e){return e&&e._internalType instanceof o.InternalSymbol},t.isPlainObject=function(e){if("object"!==(0,i["default"])(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},9213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoCount=void 0,t.getWsInstance=function(e){if(!r.Db.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return o[t]||(o[t]=new r.Db.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new r.Db.reqClass(e.config)}}})),o[t]},t.sleep=void 0;var r=n(7348);t.sleep=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))};var i={};t.autoCount=function(e){return void 0===e&&(e="any"),i[e]||(i[e]=0),i[e]++};var o={}},8865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validate=void 0;var r=n(4921),i=n(4359),o=function(){function e(){}return e.isGeopoint=function(e,t){if(i.Util.whichType(t)!==r.FieldType.Number)throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(e,t){if(!Number.isInteger(t))throw new Error(e+r.ErrorCode.IntergerError);return!0},e.isFieldOrder=function(e){if(-1===r.OrderDirectionList.indexOf(e))throw new Error(r.ErrorCode.DirectionError);return!0},e.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},e.isOperator=function(e){if(-1===r.WhereFilterOpList.indexOf(e))throw new Error(r.ErrorCode.OpStrError);return!0},e.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(r.ErrorCode.CollNameError);return!0},e.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(r.ErrorCode.DocIDError);return!0},e}();t.Validate=o},7362:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n(9304)),o=r(n(6701))["default"].version;i["default"].registerVersion(o);try{window.cloudbase=i["default"]}catch(a){}var s=i["default"];t["default"]=s},1598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerProvider=t.registerAuth=void 0;var r=n(2198),i=r.registerAuth;t.registerAuth=i;var o=r.registerProvider;t.registerProvider=o},8722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerDatabase=function(e){try{e.registerComponent(o)}catch(t){console.warn(t)}};var r=n(7348),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o={name:"database",entity:{database:function(e){var t=this.platform,n=t.adapter,o=t.runtime;return r.Db.reqClass=this.request.constructor,r.Db.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},r.Db.runtime=o,this.wsClientClass&&(r.Db.wsClass=n.wsClass,r.Db.wsClientClass=this.wsClientClass),r.Db.ws||(r.Db.ws=null),new r.Db(i(i({},this.config),e))}}};try{cloudbase.registerComponent(o)}catch(s){}},1825:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},i=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var s,a=o(n(9651)),u=n(4224);!function(e){e.WEB="web",e.WX_MP="wx_mp"}(s=t.RUNTIME||(t.RUNTIME={})),t.useAdapters=function(e){for(var t=0,n=u.isArray(e)?e:[e];t<n.length;t++){var r=n[t],i=r.isMatch,o=r.genAdapter,s=r.runtime;if(i())return{adapter:o(),runtime:s}}},t.useDefaultAdapter=function(){return{adapter:a.genAdapter(),runtime:s.WEB}}},9651:function(e,t,n){"use strict";var r,i=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRequest=t.genAdapter=void 0;var u=n(1588),c=n(4224),f=n(2595),l=function(e){function t(t){var n=e.call(this)||this,r=t.timeout,i=t.timeoutMsg,o=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=i||"请求超时",n._restrictedMethods=o||["get","post","upload","download"],n}return i(t,e),t.prototype.get=function(e){return this._request(o(o({},e),{method:"get"}),this._restrictedMethods.includes("get"))},t.prototype.post=function(e){return this._request(o(o({},e),{method:"post"}),this._restrictedMethods.includes("post"))},t.prototype.put=function(e){return this._request(o(o({},e),{method:"put"}))},t.prototype.upload=function(e){var t=e.data,n=e.file,r=e.name,i=new FormData;for(var s in t)i.append(s,t[s]);return i.append("key",r),i.append("file",n),this._request(o(o({},e),{data:i,method:"post"}),this._restrictedMethods.includes("upload"))},t.prototype.download=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(o(o({},e),{headers:{},responseType:"blob"}))];case 1:return t=s.sent().data,n=window.URL.createObjectURL(new Blob([t])),r=decodeURIComponent(new URL(e.url).pathname.split("/").pop()||""),(i=document.createElement("a")).href=n,i.setAttribute("download",r),i.style.display="none",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise((function(t){t({statusCode:200,tempFilePath:e.url})}))]}}))}))},t.prototype._request=function(e,t){var n=this;void 0===t&&(t=!1);var r=String(e.method).toLowerCase()||"get";return new Promise((function(i){var o,s,a=e.url,u=e.headers,l=void 0===u?{}:u,p=e.data,d=e.responseType,h=e.withCredentials,y=e.body,g=e.onUploadProgress,v=c.formatUrl(f.getProtocol(),a,"get"===r?p:{}),m=new XMLHttpRequest;for(var b in m.open(r,v),d&&(m.responseType=d),l)m.setRequestHeader(b,l[b]);g&&m.upload.addEventListener("progress",g),m.onreadystatechange=function(){var e={};if(4===m.readyState){var t=m.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};t.forEach((function(e){var t=e.split(": "),r=t.shift().toLowerCase(),i=t.join(": ");n[r]=i})),e.header=n,e.statusCode=m.status;try{e.data="blob"===d?m.response:JSON.parse(m.responseText)}catch(r){e.data="blob"===d?m.response:m.responseText}clearTimeout(o),i(e)}},t&&n._timeout&&(o=setTimeout((function(){console.warn(n._timeoutMsg),m.abort()}),n._timeout)),s=c.isFormData(p)?p:"application/x-www-form-urlencoded"===l["content-type"]?c.toQueryString(p):y||(p?JSON.stringify(p):undefined),h&&(m.withCredentials=!0),m.send(s)}))},t}(u.AbstractSDKRequest);t.WebRequest=l,t.genAdapter=function(){return{root:window,reqClass:l,wsClass:WebSocket,localStorage:localStorage,sessionStorage:sessionStorage}}},2595:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMUNITY_SITE_URL=t.IS_DEBUG_MODE=t.getProtocol=t.setProtocol=t.getSdkName=t.setSdkName=void 0;var n="@cloudbase/js-sdk";t.setSdkName=function(e){n=e},t.getSdkName=function(){return n};var r="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";t.setProtocol=function(e){r=e},t.getProtocol=function(){return r},t.IS_DEBUG_MODE=!1,t.COMMUNITY_SITE_URL="https://support.qq.com/products/148793"},8511:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}},6823:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},i=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2595),t),i(n(8511),t)},9891:function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.catchErrorsDecorator=void 0;var o=n(4224),s=n(6823),a=!1;"undefined"!=typeof navigator&&navigator.userAgent&&(a=-1!==navigator.userAgent.indexOf("Firefox"));var u=a?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,c=/https?\:\/\/.+\:\d*\/.*\.js\:\d+\:\d+/;function f(e){var t=e.err,n=e.className,r=e.methodName,i=e.sourceLink;if(!i)return null;var o,s=t.stack.split("\n"),u=a?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]\\s*\\(.*\\)$"),f=a?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]"),l=s.findIndex((function(e){return u.test(e)}));if(-1!==l){var p=s.filter((function(e,t){return t>l}));p.unshift(s[l].replace(f,n+"."+r).replace(c,i)),(o=new Error).stack=(a?"@debugger":"Error")+"\n"+p.join("\n")}return o}t.catchErrorsDecorator=function(e){var t=e.mode,n=void 0===t?"async":t,a=e.customInfo,l=void 0===a?{}:a,p=e.title,d=e.messages,h=void 0===d?[]:d;return function(e,t,a){if(s.IS_DEBUG_MODE){var d=l.className||e.constructor.name,y=l.methodName||t,g=a.value,v=function(e){var t="",n=e.stack.split("\n"),r=n.findIndex((function(e){return u.test(e)}));if(-1!==r){var i=c.exec(n[r+1]||"");t=i?i[0]:""}return t}(new Error);a.value="sync"===n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f({err:new Error,className:d,methodName:y,sourceLink:v});try{return g.apply(this,e)}catch(u){var r=u,i=u.message,s={title:p||d+"."+y+" failed",content:[{type:"error",body:u}]};if(i&&/^\{.*\}$/.test(i)){var a=JSON.parse(i);s.subtitle=i,a.code&&(n?(n.code=a.code,n.msg=a.msg):(u.code=a.code,u.message=a.msg),r=n||u,s.content=h.map((function(e){return{type:"info",body:e}})))}throw o.printGroupLog(s),r}}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,s,a,u;return i(this,(function(i){switch(i.label){case 0:t=f({err:new Error,className:d,methodName:y,sourceLink:v}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,g.apply(this,e)];case 2:return[2,i.sent()];case 3:throw n=i.sent(),r=n,s=n.message,a={title:p||d+"."+y+" failed",content:[{type:"error",body:n}]},s&&/^\{.*\}$/.test(s)&&(u=JSON.parse(s),a.subtitle=u,u.code&&(t?(t.code=u.code,t.message=u.msg):(n.code=u.code,n.message=u.msg),r=t||n,a.content=h.map((function(e){return{type:"info",body:e}})))),o.printGroupLog(a),r;case 4:return[2]}}))}))}}}}},2647:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},i=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9891),t)},1895:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},i=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.utils=t.events=t.cache=t.adapters=t.constants=void 0;var s=o(n(6823));t.constants=s;var a=o(n(1825));t.adapters=a;var u=o(n(2208));t.cache=u;var c=o(n(4047));t.events=c;var f=o(n(4224));t.utils=f;var l=o(n(2647));t.helpers=l},2208:function(e,t,n){"use strict";var r,i=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudbaseCache=void 0;var a=n(1588),u=n(4224),c=n(6823),f=function(e){function t(t){var n=e.call(this)||this;return n._root=t,t.tcbCacheObject||(t.tcbCacheObject={}),n}return i(t,e),t.prototype.setItem=function(e,t){this._root.tcbCacheObject[e]=t},t.prototype.getItem=function(e){return this._root.tcbCacheObject[e]},t.prototype.removeItem=function(e){delete this._root.tcbCacheObject[e]},t.prototype.clear=function(){delete this._root.tcbCacheObject},t}(a.AbstractStorage);function l(e,t){switch(e){case"local":default:return t.localStorage?t.localStorage:(u.printWarn(c.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new f(t.root));case"none":return new f(t.root);case"session":return t.sessionStorage?t.sessionStorage:(u.printWarn(c.ERRORS.INVALID_PARAMS,"sessionStorage is not supported on current platform"),new f(t.root))}}var p=function(){function e(e){this.keys={};var t=e.persistence,n=e.platformInfo,r=void 0===n?{}:n,i=e.keys,o=void 0===i?{}:i,s=e.alwaysLocalKeys,a=void 0===s?[]:s;this._platformInfo=r,this._alwaysLocalKeys=a,this._storage||(this._persistence=r.adapter.primaryStorage||t,this._storage=l(this._persistence,r.adapter),this.keys=o)}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"persistence",{get:function(){return this._persistence},enumerable:!1,configurable:!0}),e.prototype.updatePersistence=function(e){if("async"!==this.mode){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=l(e,this._platformInfo.adapter);for(var r in this.keys){var i=this.keys[r];if(!t||!this._alwaysLocalKeys.includes(r)){var o=this._storage.getItem(i);u.isUndefined(o)||u.isNull(o)||(n.setItem(i,o),this._storage.removeItem(i))}}this._storage=n}}else u.printWarn(c.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use updatePersistenceAsync insteed")},e.prototype.updatePersistenceAsync=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o,a,c,f;return s(this,(function(s){switch(s.label){case 0:if(e===this._persistence)return[2];for(i in t="local"===this._persistence,this._persistence=e,n=l(e,this._platformInfo.adapter),r=[],this.keys)r.push(i);o=0,s.label=1;case 1:return o<r.length?(a=r[o],c=this.keys[a],t&&this._alwaysLocalKeys.includes(a)?[3,4]:[4,this._storage.getItem(c)]):[3,5];case 2:return f=s.sent(),u.isUndefined(f)||u.isNull(f)?[3,4]:(n.setItem(c,f),[4,this._storage.removeItem(c)]);case 3:s.sent(),s.label=4;case 4:return o++,[3,1];case 5:return this._storage=n,[2]}}))}))},e.prototype.setStore=function(e,t,n){if("async"!==this.mode){if(this._storage)try{var r={version:n||"localCachev1",content:t};this._storage.setItem(e,JSON.stringify(r))}catch(i){throw new Error(JSON.stringify({code:c.ERRORS.OPERATION_FAIL,msg:"["+c.getSdkName()+"]["+c.ERRORS.OPERATION_FAIL+"]setStore failed",info:i}))}}else u.printWarn(c.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed")},e.prototype.setStoreAsync=function(e,t,n){return o(this,void 0,void 0,(function(){var r;return s(this,(function(i){switch(i.label){case 0:if(!this._storage)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),r={version:n||"localCachev1",content:t},[4,this._storage.setItem(e,JSON.stringify(r))];case 2:return i.sent(),[3,4];case 3:return i.sent(),[2];case 4:return[2]}}))}))},e.prototype.getStore=function(e,t){var n;if("async"!==this.mode){try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return process.env.tcb_token;if(!this._storage)return""}catch(i){return""}t=t||"localCachev1";var r=this._storage.getItem(e);return r&&r.indexOf(t)>=0?JSON.parse(r).content:""}u.printWarn(c.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed")},e.prototype.getStoreAsync=function(e,t){var n;return o(this,void 0,void 0,(function(){var r;return s(this,(function(i){switch(i.label){case 0:try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return[2,process.env.tcb_token];if(!this._storage)return[2,""]}catch(o){return[2,""]}return t=t||"localCachev1",[4,this._storage.getItem(e)];case 1:return(r=i.sent())&&r.indexOf(t)>=0?[2,JSON.parse(r).content]:[2,""]}}))}))},e.prototype.removeStore=function(e){"async"!==this.mode?this._storage.removeItem(e):u.printWarn(c.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed")},e.prototype.removeStoreAsync=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this._storage.removeItem(e)];case 1:return t.sent(),[2]}}))}))},e}();t.CloudbaseCache=p},4047:function(e,t,n){"use strict";var r,i=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.activateEvent=t.addEventListener=t.CloudbaseEventEmitter=t.IErrorEvent=t.CloudbaseEvent=void 0;var s=n(4224),a=function(e,t){this.data=t||null,this.name=e};t.CloudbaseEvent=a;var u=function(e){function t(t,n){var r=e.call(this,"error",{error:t,data:n})||this;return r.error=t,r}return i(t,e),t}(a);t.IErrorEvent=u;var c=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){return function(e,t,n){n[e]=n[e]||[],n[e].push(t)}(e,t,this._listeners),this},e.prototype.off=function(e,t){return function(e,t,n){if(null==n?void 0:n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}(e,t,this._listeners),this},e.prototype.fire=function(e,t){if(s.isInstanceOf(e,u))return console.error(e.error),this;var n=s.isString(e)?new a(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;for(var i=0,c=this._listeners[r]?o(this._listeners[r]):[];i<c.length;i++)c[i].call(this,n)}return this},e.prototype._listens=function(e){return this._listeners[e]&&this._listeners[e].length>0},e}();t.CloudbaseEventEmitter=c;var f=new c;t.addEventListener=function(e,t){f.on(e,t)},t.activateEvent=function(e,t){void 0===t&&(t={}),f.fire(e,t)},t.removeEventListener=function(e,t){f.off(e,t)}},4224:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.transformPhone=t.sleep=t.printGroupLog=t.throwError=t.printInfo=t.printError=t.printWarn=t.execCallback=t.createPromiseCallback=t.removeParam=t.getHash=t.getQuery=t.toQueryString=t.createSign=t.formatUrl=t.genSeqId=t.isFormData=t.isInstanceOf=t.isNull=t.isPalinObject=t.isUndefined=t.isString=t.isArray=void 0;var i=r(n(6443)),o=r(n(4544)),s=r(n(1801)),a=n(6823);function u(e){var t=o["default"].stringify(e);return t=(t=(t=t.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")}t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"==typeof e},t.isUndefined=function(e){return void 0===e},t.isPalinObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isNull=function(e){return"[object Null]"===Object.prototype.toString.call(e)},t.isInstanceOf=function(e,t){return e instanceof t},t.isFormData=function(e){return"[object FormData]"===Object.prototype.toString.call(e)},t.genSeqId=function(){return Math.random().toString(16).slice(2)},t.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),i="";for(var o in n)""===i?!r&&(t+="?"):i+="&",i+=o+"="+encodeURIComponent(n[o]);return/^http(s)?\:\/\//.test(t+=i)?t:""+e+t},t.createSign=function(e,t){var n=u(s["default"].parse(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+u(s["default"].parse(JSON.stringify(e)));return n+"."+u(i["default"](n,t))},t.toQueryString=function(e){void 0===e&&(e={});var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},t.getQuery=function(e,t){if("undefined"==typeof window)return!1;var n=t||window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=n.substr(n.indexOf("?")+1).match(r);return null!=i?i[2]:""},t.getHash=function(e){if("undefined"==typeof window)return"";var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},t.removeParam=function(e,t){var n=t.split("?")[0],r=[],i=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==i){for(var o=(r=i.split("&")).length-1;o>=0;o-=1)r[o].split("=")[0]===e&&r.splice(o,1);n=n+"?"+r.join("&")}return n},t.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e},t.execCallback=function(e,t,n){if(void 0===n&&(n=null),e&&"function"==typeof e)return e(t,n);if(t)throw t;return n},t.printWarn=function(e,t){console.warn("["+a.getSdkName()+"]["+e+"]:"+t)},t.printError=function(e,t){console.error({code:e,msg:"["+a.getSdkName()+"]["+e+"]:"+t})},t.printInfo=function(e,t){console.log("["+a.getSdkName()+"]["+e+"]:"+t)},t.throwError=function(e,t){throw new Error(JSON.stringify({code:e,msg:"["+a.getSdkName()+"]["+e+"]:"+t}))},t.printGroupLog=function(e){var t=e.title,n=e.subtitle,r=void 0===n?"":n,i=e.content,o=void 0===i?[]:i,s=e.printTrace,a=void 0!==s&&s,u=e.collapsed;void 0!==u&&u?console.groupCollapsed(t,r):console.group(t,r);for(var c=0,f=o;c<f.length;c++){var l=f[c],p=l.type,d=l.body;switch(p){case"info":console.log(d);break;case"warn":console.warn(d);break;case"error":console.error(d)}}a&&console.trace("stack trace:"),console.groupEnd()},t.sleep=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},t.transformPhone=function(e){return"+86"+e}},7567:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=t.Timestamp=t.ObjectId=t.ObjectID=t.MinKey=t.MaxKey=t.Map=t.LongWithoutOverridesClass=t.Long=t.Int32=t.EJSON=t.Double=t.Decimal128=t.DBRef=t.Code=t.Binary=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_ENCRYPTED=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_COLUMN=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSONTypeError=t.BSONSymbol=t.BSONRegExp=t.BSONError=void 0,t.calculateObjectSize=Lt,t["default"]=void 0,t.deserialize=Pt,t.deserializeStream=Rt,t.serialize=It,t.serializeWithBufferAndIndex=kt,t.setInternalBufferSize=Tt;for(var i=r(n(3988)),o=function(e){var t=h(e),n=t[0],r=t[1];return 3*(n+r)/4-r},s=function(e){var t,n,r=h(e),i=r[0],o=r[1],s=new f(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),a=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=c[e.charCodeAt(n)]<<18|c[e.charCodeAt(n+1)]<<12|c[e.charCodeAt(n+2)]<<6|c[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=c[e.charCodeAt(n)]<<2|c[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===o&&(t=c[e.charCodeAt(n)]<<10|c[e.charCodeAt(n+1)]<<4|c[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},a=function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(y(e,s,s+o>a?a:s+o));return 1===r?(t=e[n-1],i.push(u[t>>2]+u[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(u[t>>10]+u[t>>4&63]+u[t<<2&63]+"=")),i.join("")},u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=l.length;p<d;++p)u[p]=l[p],c[l.charCodeAt(p)]=p;function h(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function y(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(u[(i=r)>>18&63]+u[i>>12&63]+u[i>>6&63]+u[63&i]);return o.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63;var g={byteLength:o,toByteArray:s,fromByteArray:a},v=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,p=n?-1:1,d=e[t+l];for(l+=p,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(d?-1:1)*Infinity;s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},m=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=h,s/=256,c-=8);e[n+d-h]|=128*y},b=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var n="function"==typeof Symbol&&"function"==typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function i(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=i(n),s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if($(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers["typeof"](e));if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);var s=function(e){if(o.isBuffer(e)){var t=0|l(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return e.length!==undefined?"number"!=typeof e.length||q(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers["typeof"](e))}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),i(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=t===undefined&&n===undefined?new Uint8Array(e):n===undefined?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,o.prototype),r}function l(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers["typeof"](e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(i)return r?-1:U(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,t,n){var r=!1;if((t===undefined||t<0)&&(t=0),t>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return D(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(q(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return F(U(t,e.length-n),e,n,r)}function E(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return F(j(t),e,n,r)}function O(e,t,n,r){return F(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function D(e,t,n){return 0===t&&n===e.length?g.fromByteArray(e):g.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){return o.isBuffer(this)?this.buffer:undefined}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return o.isBuffer(this)?this.byteOffset:undefined}}),o.poolSize=8192,o.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?i(e):t!==undefined?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if($(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(t===undefined)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if($(s,Uint8Array))i+s.length>r.length?o.from(s).copy(r,i):Uint8Array.prototype.set.call(r,s,i);else{if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i)}i+=s.length}return r},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):d.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,i){if($(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers["typeof"](e));if(t===undefined&&(t=0),n===undefined&&(n=e?e.length:0),r===undefined&&(r=0),i===undefined&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(s,a),c=this.slice(r,i),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(t===undefined)r="utf8",n=this.length,t=0;else if(n===undefined&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var i=this.length-t;if((n===undefined||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y[e[o]];return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,4),m(e,t,n,r,23,4),n+4}function M(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,8),m(e,t,n,r,52,8),n+8}o.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=t===undefined?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),v(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),v(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),v(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),v(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=n===undefined?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:o.from(e,r),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var B=/[^+/0-9A-Za-z-_]/g;function U(e,t){var n;t=t||Infinity;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return g.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var Y=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()})),_=b.Buffer;b.SlowBuffer,b.INSPECT_MAX_BYTES,b.kMaxLength;var w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},w(e,t)};function E(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)},O=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return E(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t}(Error);t.BSONError=O;var D=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return E(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t}(TypeError);function S(e){return e&&e.Math==Math&&e}function C(){return S("object"===("undefined"==typeof globalThis?"undefined":(0,i["default"])(globalThis))&&globalThis)||S("object"===("undefined"==typeof window?"undefined":(0,i["default"])(window))&&window)||S("object"===("undefined"==typeof self?"undefined":(0,i["default"])(self))&&self)||S("object"===("undefined"==typeof n.g?"undefined":(0,i["default"])(n.g))&&n.g)||Function("return this")()}function x(e){return e.toString().replace("function(","function (")}t.BSONTypeError=D;var N=function(e){var t,n=(t=C(),"object"===(0,i["default"])(t.navigator)&&"ReactNative"===t.navigator.product?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.");console.warn(n);for(var r=_.alloc(e),o=0;o<e;++o)r[o]=Math.floor(256*Math.random());return r},T=function(){if("undefined"!=typeof window){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return function(t){return e.getRandomValues(_.alloc(t))}}if("undefined"!=typeof n.g&&n.g.crypto&&n.g.crypto.getRandomValues)return function(e){return n.g.crypto.getRandomValues(_.alloc(e))};var t;try{t=Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}())}catch(r){}return t||N}();function I(e){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(e))}function k(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function P(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)}function L(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)}function R(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function M(e){return B(e)&&"[object Date]"===Object.prototype.toString.call(e)}function B(e){return"object"===(0,i["default"])(e)&&null!==e}function U(e,t){var n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(console.warn(t),n=!0),e.apply(this,r)}}function j(e){if(ArrayBuffer.isView(e))return _.from(e.buffer,e.byteOffset,e.byteLength);if(I(e))return _.from(e);throw new D("Must use either Buffer or TypedArray")}var F=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,$=function(e){return"string"==typeof e&&F.test(e)},q=function(e){if(!$(e))throw new D('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=e.replace(/-/g,"");return _.from(t,"hex")},Y=function(e,t){return void 0===t&&(t=!0),t?e.toString("hex",0,4)+"-"+e.toString("hex",4,6)+"-"+e.toString("hex",6,8)+"-"+e.toString("hex",8,10)+"-"+e.toString("hex",10,16):e.toString("hex")},G=Symbol("id"),z=function(){function e(t){if(void 0===t)this.id=e.generate();else if(t instanceof e)this[G]=_.from(t.id),this.__id=t.__id;else if(ArrayBuffer.isView(t)&&16===t.byteLength)this.id=j(t);else{if("string"!=typeof t)throw new D("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");this.id=q(t)}}return Object.defineProperty(e.prototype,"id",{get:function(){return this[G]},set:function(t){this[G]=t,e.cacheHexString&&(this.__id=Y(t))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(t){if(void 0===t&&(t=!0),e.cacheHexString&&this.__id)return this.__id;var n=Y(this.id,t);return e.cacheHexString&&(this.__id=n),n},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(!t)return!1;if(t instanceof e)return t.id.equals(this.id);try{return new e(t).id.equals(this.id)}catch(n){return!1}},e.prototype.toBinary=function(){return new V(this.id,V.SUBTYPE_UUID)},e.generate=function(){var e=T(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,_.from(e)},e.isValid=function(t){if(!t)return!1;if(t instanceof e)return!0;if("string"==typeof t)return $(t);if(k(t)){if(16!==t.length)return!1;try{return parseInt(t[6].toString(16)[0],10)===V.SUBTYPE_UUID}catch(n){return!1}}return!1},e.createFromHexString=function(t){return new e(q(t))},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},e}();t.UUID=z,Object.defineProperty(z.prototype,"_bsontype",{value:"UUID"});var V=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new D("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=_.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=_.from(t,"binary"):Array.isArray(t)?this.buffer=_.from(t):this.buffer=j(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"==typeof t&&1!==t.length)throw new D("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new D("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||n>255)throw new D("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=_.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},e.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=_.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(j(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}},e.prototype.toUUID=function(){if(this.sub_type===e.SUBTYPE_UUID)return new z(this.buffer.slice(0,this.position));throw new O('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+e.SUBTYPE_UUID+'" is currently supported.')},e.fromExtendedJSON=function(t,n){var r,i;if(n=n||{},"$binary"in t?n.legacy&&"string"==typeof t.$binary&&"$type"in t?(i=t.$type?parseInt(t.$type,16):0,r=_.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=_.from(t.$binary.base64,"base64")):"$uuid"in t&&(i=4,r=q(t.$uuid)),!r)throw new D("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(r,i)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Binary(Buffer.from("'+this.value(!0).toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_ENCRYPTED=6,e.SUBTYPE_COLUMN=7,e.SUBTYPE_USER_DEFINED=128,e}();t.Binary=V,Object.defineProperty(V.prototype,"_bsontype",{value:"Binary"});var H=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.code=t,this.scope=n}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},e}();function W(e){return B(e)&&null!=e.$id&&"string"==typeof e.$ref&&(null==e.$db||"string"==typeof e.$db)}t.Code=H,Object.defineProperty(H.prototype,"_bsontype",{value:"Code"});var J=function(){function e(t,n,r,i){if(!(this instanceof e))return new e(t,n,r,i);var o=t.split(".");2===o.length&&(r=o.shift(),t=o.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=i||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))},e.fromExtendedJSON=function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.oid===undefined||this.oid.toString===undefined?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();t.DBRef=J,Object.defineProperty(J.prototype,"_bsontype",{value:"DBRef"});var K=undefined;try{K=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Bt){}var Q=4294967296,Z=0x10000000000000000,X=Z/2,ee={},te={},ne=function(){function e(t,n,r){if(void 0===t&&(t=0),!(this instanceof e))return new e(t,n,r);"bigint"==typeof t?Object.assign(this,e.fromBigInt(t,!!n)):"string"==typeof t?Object.assign(this,e.fromString(t,!!n)):(this.low=0|t,this.high=0|n,this.unsigned=!!r),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,n,r){return new e(t,n,r)},e.fromInt=function(t,n){var r,i,o;return n?(o=0<=(t>>>=0)&&t<256)&&(i=te[t])?i:(r=e.fromBits(t,(0|t)<0?-1:0,!0),o&&(te[t]=r),r):(o=-128<=(t|=0)&&t<128)&&(i=ee[t])?i:(r=e.fromBits(t,t<0?-1:0,!1),o&&(ee[t]=r),r)},e.fromNumber=function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=Z)return e.MAX_UNSIGNED_VALUE}else{if(t<=-X)return e.MIN_VALUE;if(t+1>=X)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%Q|0,t/Q|0,n)},e.fromBigInt=function(t,n){return e.fromString(t.toString(),n)},e.fromString=function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return e.fromString(t.substring(1),n,r).neg();for(var o=e.fromNumber(Math.pow(r,8)),s=e.ZERO,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+u),r);if(u<8){var f=e.fromNumber(Math.pow(r,u));s=s.mul(f).add(e.fromNumber(c))}else s=(s=s.mul(o)).add(e.fromNumber(c))}return s.unsigned=n,s},e.fromBytes=function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)},e.fromBytesLE=function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},e.fromBytesBE=function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},e.isLong=function(e){return B(e)&&!0===e.__isLong__},e.fromValue=function(t,n){return"number"==typeof t?e.fromNumber(t,n):"string"==typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"==typeof n?n:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=0,f=0,l=0,p=0;return l+=(p+=o+(65535&t.low))>>>16,p&=65535,f+=(l+=i+u)>>>16,l&=65535,c+=(f+=r+a)>>>16,f&=65535,c+=n+s,c&=65535,e.fromBits(l<<16|p,c<<16|f,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(K){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var n=(this.unsigned?K.div_u:K.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,K.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var r,i,o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;o=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(r=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(i=this.sub(t.mul(r)),o=r.add(i.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=e.ZERO}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),a=s<=48?1:Math.pow(2,s-48),u=e.fromNumber(r),c=u.mul(t);c.isNegative()||c.gt(i);)r-=a,c=(u=e.fromNumber(r,this.unsigned)).mul(t);u.isZero()&&(u=e.ONE),o=o.add(u),i=i.sub(c)}return o},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(n&1<<t);t--);return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),K){var n=(this.unsigned?K.rem_u:K.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,K.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),K){var n=K.mul(this.low,this.high,t.low,t.high);return e.fromBits(n,K.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,o=this.low>>>16,s=65535&this.low,a=t.high>>>16,u=65535&t.high,c=t.low>>>16,f=65535&t.low,l=0,p=0,d=0,h=0;return d+=(h+=s*f)>>>16,h&=65535,p+=(d+=o*f)>>>16,d&=65535,p+=(d+=s*c)>>>16,d&=65535,l+=(p+=i*f)>>>16,p&=65535,l+=(p+=o*c)>>>16,p&=65535,l+=(p+=s*u)>>>16,p&=65535,l+=r*f+i*c+o*u+s*a,l&=65535,e.fromBits(d<<16|h,l<<16|p,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*Q+(this.low>>>0):this.high*Q+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";;){var u=s.div(o),c=(s.sub(u.mul(o)).toInt()>>>0).toString(t);if((s=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},e.TWO_PWR_24=e.fromInt(16777216),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();t.Long=ne,Object.defineProperty(ne.prototype,"__isLong__",{value:!0}),Object.defineProperty(ne.prototype,"_bsontype",{value:"Long"});var re=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,ie=/^(\+|-)?(Infinity|inf)$/i,oe=/^(\+|-)?NaN$/i,se=6111,ae=-6176,ue=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),ce=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),fe=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),le=/^([-+])?(\d+)?$/;function pe(e){return!isNaN(parseInt(e,10))}function de(e){var t=ne.fromNumber(1e9),n=ne.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new ne(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function he(e,t){throw new D('"'+e+'" is not a valid Decimal128 string - '+t)}var ye=function(){function e(t){if(!(this instanceof e))return new e(t);if("string"==typeof t)this.bytes=e.fromString(t).bytes;else{if(!k(t))throw new D("Decimal128 must take a Buffer or string");if(16!==t.byteLength)throw new D("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}}return e.fromString=function(t){var n,r=!1,i=!1,o=!1,s=0,a=0,u=0,c=0,f=0,l=[0],p=0,d=0,h=0,y=0,g=0,v=0,m=new ne(0,0),b=new ne(0,0),w=0;if(t.length>=7e3)throw new D(t+" not a valid Decimal128 string");var E=t.match(re),A=t.match(ie),O=t.match(oe);if(!E&&!A&&!O||0===t.length)throw new D(t+" not a valid Decimal128 string");if(E){var S=E[2],C=E[4],x=E[5],N=E[6];C&&N===undefined&&he(t,"missing exponent power"),C&&S===undefined&&he(t,"missing exponent base"),C===undefined&&(x||N)&&he(t,"missing e before exponent")}if("+"!==t[w]&&"-"!==t[w]||(r="-"===t[w++]),!pe(t[w])&&"."!==t[w]){if("i"===t[w]||"I"===t[w])return new e(_.from(r?ce:fe));if("N"===t[w])return new e(_.from(ue))}for(;pe(t[w])||"."===t[w];)"."!==t[w]?(p<34&&("0"!==t[w]||o)&&(o||(f=a),o=!0,l[d++]=parseInt(t[w],10),p+=1),o&&(u+=1),i&&(c+=1),a+=1,w+=1):(i&&he(t,"contains multiple periods"),i=!0,w+=1);if(i&&!a)throw new D(t+" not a valid Decimal128 string");if("e"===t[w]||"E"===t[w]){var T=t.substr(++w).match(le);if(!T||!T[2])return new e(_.from(ue));g=parseInt(T[0],10),w+=T[0].length}if(t[w])return new e(_.from(ue));if(h=0,p){if(y=p-1,1!==(s=u))for(;0===l[f+s-1];)s-=1}else h=0,y=0,l[0]=0,u=1,p=1,s=0;for(g<=c&&c-g>16384?g=ae:g-=c;g>se;){if((y+=1)-h>34){if(l.join("").match(/^0+$/)){g=se;break}he(t,"overflow")}g-=1}for(;g<ae||p<u;){if(0===y&&s<p){g=ae,s=0;break}if(p<u?u-=1:y-=1,g<se)g+=1;else{if(l.join("").match(/^0+$/)){g=se;break}he(t,"overflow")}}if(y-h+1<s){var I=a;i&&(f+=1,I+=1),r&&(f+=1,I+=1);var k=parseInt(t[f+y+1],10),P=0;if(k>=5&&(P=1,5===k))for(P=l[y]%2==1?1:0,v=f+y+2;v<I;v++)if(parseInt(t[v],10)){P=1;break}if(P)for(var L=y;L>=0;L--)if(++l[L]>9&&(l[L]=0,0===L)){if(!(g<se))return new e(_.from(r?ce:fe));g+=1,l[L]=1}}if(m=ne.fromNumber(0),b=ne.fromNumber(0),0===s)m=ne.fromNumber(0),b=ne.fromNumber(0);else if(y-h<17)for(L=h,b=ne.fromNumber(l[L++]),m=new ne(0,0);L<=y;L++)b=(b=b.multiply(ne.fromNumber(10))).add(ne.fromNumber(l[L]));else{for(L=h,m=ne.fromNumber(l[L++]);L<=y-17;L++)m=(m=m.multiply(ne.fromNumber(10))).add(ne.fromNumber(l[L]));for(b=ne.fromNumber(l[L++]);L<=y;L++)b=(b=b.multiply(ne.fromNumber(10))).add(ne.fromNumber(l[L]))}var R,M,B,U,j=function(e,t){if(!e&&!t)return{high:ne.fromNumber(0),low:ne.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new ne(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new ne(t.getLowBits(),0),s=n.multiply(i),a=n.multiply(o),u=r.multiply(i),c=r.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new ne(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:c=a.shiftLeft(32).add(new ne(c.getLowBits(),0))}}(m,ne.fromString("100000000000000000"));j.low=j.low.add(b),R=j.low,M=b,B=R.high>>>0,U=M.high>>>0,(B<U||B===U&&R.low>>>0<M.low>>>0)&&(j.high=j.high.add(ne.fromNumber(1))),n=g+6176;var F={low:ne.fromNumber(0),high:ne.fromNumber(0)};j.high.shiftRightUnsigned(49).and(ne.fromNumber(1)).equals(ne.fromNumber(1))?(F.high=F.high.or(ne.fromNumber(3).shiftLeft(61)),F.high=F.high.or(ne.fromNumber(n).and(ne.fromNumber(16383).shiftLeft(47))),F.high=F.high.or(j.high.and(ne.fromNumber(0x7fffffffffff)))):(F.high=F.high.or(ne.fromNumber(16383&n).shiftLeft(49)),F.high=F.high.or(j.high.and(ne.fromNumber(562949953421311)))),F.low=j.low,r&&(F.high=F.high.or(ne.fromString("9223372036854775808")));var $=_.alloc(16);return w=0,$[w++]=255&F.low.low,$[w++]=F.low.low>>8&255,$[w++]=F.low.low>>16&255,$[w++]=F.low.low>>24&255,$[w++]=255&F.low.high,$[w++]=F.low.high>>8&255,$[w++]=F.low.high>>16&255,$[w++]=F.low.high>>24&255,$[w++]=255&F.high.low,$[w++]=F.high.low>>8&255,$[w++]=F.high.low>>16&255,$[w++]=F.high.low>>24&255,$[w++]=255&F.high.high,$[w++]=F.high.high>>8&255,$[w++]=F.high.high>>16&255,$[w++]=F.high.high>>24&255,new e($)},e.prototype.toString=function(){for(var e,t=0,n=new Array(36),r=0;r<n.length;r++)n[r]=0;var i,o,s,a=0,u=!1,c={parts:[0,0,0,0]},f=[];a=0;var l=this.bytes,p=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,d=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,h=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,y=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24;a=0,(new ne(p,d),new ne(h,y)).lessThan(ne.ZERO)&&f.push("-");var g=y>>26&31;if(g>>3==3){if(30===g)return f.join("")+"Infinity";if(31===g)return"NaN";e=y>>15&16383,i=8+(y>>14&1)}else i=y>>14&7,e=y>>17&16383;var v=e-6176;if(c.parts[0]=(16383&y)+((15&i)<<14),c.parts[1]=h,c.parts[2]=d,c.parts[3]=p,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])u=!0;else for(s=3;s>=0;s--){var m=0,b=de(c);if(c=b.quotient,m=b.rem.low)for(o=8;o>=0;o--)n[9*s+o]=m%10,m=Math.floor(m/10)}if(u)t=1,n[a]=0;else for(t=36;!n[a];)t-=1,a+=1;var _=t-1+v;if(_>=34||_<=-7||v>0){if(t>34)return f.push("0"),v>0?f.push("E+"+v):v<0&&f.push("E"+v),f.join("");for(f.push(""+n[a++]),(t-=1)&&f.push("."),r=0;r<t;r++)f.push(""+n[a++]);f.push("E"),_>0?f.push("+"+_):f.push(""+_)}else if(v>=0)for(r=0;r<t;r++)f.push(""+n[a++]);else{var w=t+v;if(w>0)for(r=0;r<w;r++)f.push(""+n[a++]);else f.push("0");for(f.push(".");w++<0;)f.push("0");for(r=0;r<t-Math.max(w-1,0);r++)f.push(""+n[a++])}return f.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},e}();t.Decimal128=ye,Object.defineProperty(ye.prototype,"_bsontype",{value:"Decimal128"});var ge=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toString=function(e){return this.value.toString(e)},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-"+this.value.toFixed(1)}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t},e.fromExtendedJSON=function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Double("+this.toExtendedJSON().$numberDouble+")"},e}();t.Double=ge,Object.defineProperty(ge.prototype,"_bsontype",{value:"Double"});var ve=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=0|+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(e){return this.value.toString(e)},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();t.Int32=ve,Object.defineProperty(ve.prototype,"_bsontype",{value:"Int32"});var me=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();t.MaxKey=me,Object.defineProperty(me.prototype,"_bsontype",{value:"MaxKey"});var be=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();t.MinKey=be,Object.defineProperty(be.prototype,"_bsontype",{value:"MinKey"});var _e=new RegExp("^[0-9a-fA-F]{24}$"),we=null,Ee=Symbol("id"),Ae=function(){function e(t){if(!(this instanceof e))return new e(t);var n;if("object"===(0,i["default"])(t)&&t&&"id"in t){if("string"!=typeof t.id&&!ArrayBuffer.isView(t.id))throw new D("Argument passed in must have an id that is of type string or Buffer");n="toHexString"in t&&"function"==typeof t.toHexString?_.from(t.toHexString(),"hex"):t.id}else n=t;if(null==n||"number"==typeof n)this[Ee]=e.generate("number"==typeof n?n:undefined);else if(ArrayBuffer.isView(n)&&12===n.byteLength)this[Ee]=j(n);else{if("string"!=typeof n)throw new D("Argument passed in does not match the accepted types");if(12===n.length){var r=_.from(n);if(12!==r.byteLength)throw new D("Argument passed in must be a string of 12 bytes");this[Ee]=r}else{if(24!==n.length||!_e.test(n))throw new D("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");this[Ee]=_.from(n,"hex")}}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[Ee]},set:function(t){this[Ee]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!=typeof t&&(t=Math.floor(Date.now()/1e3));var n=e.getInc(),r=_.alloc(12);return r.writeUInt32BE(t,0),null===we&&(we=T(5)),r[4]=we[0],r[5]=we[1],r[6]=we[2],r[7]=we[3],r[8]=we[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(t===undefined||null===t)return!1;if(t instanceof e)return this[Ee][11]===t[Ee][11]&&this[Ee].equals(t[Ee]);if("string"==typeof t&&e.isValid(t)&&12===t.length&&k(this.id))return t===_.prototype.toString.call(this.id,"latin1");if("string"==typeof t&&e.isValid(t)&&24===t.length)return t.toLowerCase()===this.toHexString();if("string"==typeof t&&e.isValid(t)&&12===t.length)return _.from(t).equals(this.id);if("object"===(0,i["default"])(t)&&"toHexString"in t&&"function"==typeof t.toHexString){var n=t.toHexString(),r=this.toHexString().toLowerCase();return"string"==typeof n&&n.toLowerCase()===r}return!1},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var n=_.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)},e.createFromHexString=function(t){if(void 0===t||null!=t&&24!==t.length)throw new D("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(_.from(t,"hex"))},e.isValid=function(t){if(null==t)return!1;try{return new e(t),!0}catch(Bt){return!1}},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=Math.floor(16777215*Math.random()),e}();t.ObjectId=t.ObjectID=Ae,Object.defineProperty(Ae.prototype,"generate",{value:U((function(e){return Ae.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(Ae.prototype,"getInc",{value:U((function(){return Ae.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Ae.prototype,"get_inc",{value:U((function(){return Ae.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Ae,"get_inc",{value:U((function(){return Ae.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Ae.prototype,"_bsontype",{value:"ObjectID"});var Oe=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(this.pattern=t,this.options=(null!=n?n:"").split("").sort().join(""),-1!==this.pattern.indexOf("\0"))throw new O("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(-1!==this.options.indexOf("\0"))throw new O("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new O("The regular expression option ["+this.options[r]+"] is not supported")}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new D("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();t.BSONRegExp=Oe,Object.defineProperty(Oe.prototype,"_bsontype",{value:"BSONRegExp"});var De=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();t.BSONSymbol=De,Object.defineProperty(De.prototype,"_bsontype",{value:"Symbol"});var Se=ne;t.LongWithoutOverridesClass=Se;var Ce=function(e){function t(n,r){var i=this;return i instanceof t?(i=ne.isLong(n)?e.call(this,n.low,n.high,!0)||this:B(n)&&"undefined"!=typeof n.t&&"undefined"!=typeof n.i?e.call(this,n.i,n.t,!0)||this:e.call(this,n,r,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new t(n,r)}return E(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(ne.fromInt(e,!0))},t.fromNumber=function(e){return new t(ne.fromNumber(e,!0))},t.fromBits=function(e,n){return new t(e,n)},t.fromString=function(e,n){return new t(ne.fromString(e,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp)},t.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},t.MAX_VALUE=ne.MAX_UNSIGNED_VALUE,t}(Se);function xe(e){return B(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}t.Timestamp=Ce;var Ne=2147483647,Te=-2147483648,Ie=0x8000000000000000,ke=-0x8000000000000000,Pe={$oid:Ae,$binary:V,$uuid:V,$symbol:De,$numberInt:ve,$numberDecimal:ye,$numberDouble:ge,$numberLong:ne,$minKey:be,$maxKey:me,$regex:Oe,$regularExpression:Oe,$timestamp:Ce};function Le(e,t){if(void 0===t&&(t={}),"number"==typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=Te&&e<=Ne)return new ve(e);if(e>=ke&&e<=Ie)return ne.fromNumber(e)}return new ge(e)}if(null==e||"object"!==(0,i["default"])(e))return e;if(e.$undefined)return null;for(var n=Object.keys(e).filter((function(t){return t.startsWith("$")&&null!=e[t]})),r=0;r<n.length;r++){var o=Pe[n[r]];if(o)return o.fromExtendedJSON(e,t)}if(null!=e.$date){var s=e.$date,a=new Date;return t.legacy?"number"==typeof s?a.setTime(s):"string"==typeof s&&a.setTime(Date.parse(s)):"string"==typeof s?a.setTime(Date.parse(s)):ne.isLong(s)?a.setTime(s.toNumber()):"number"==typeof s&&t.relaxed&&a.setTime(s),a}if(null!=e.$code){var u=Object.assign({},e);return e.$scope&&(u.$scope=Le(e.$scope)),H.fromExtendedJSON(e)}if(W(e)||e.$dbPointer){var c=e.$ref?e:e.$dbPointer;if(c instanceof J)return c;var f=Object.keys(c).filter((function(e){return e.startsWith("$")})),l=!0;if(f.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(l=!1)})),l)return J.fromExtendedJSON(c)}return e}function Re(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function Me(e,t){if(("object"===(0,i["default"])(e)||"function"==typeof e)&&null!==e){var n=t.seenObjects.findIndex((function(t){return t.obj===e}));if(-1!==n){var r=t.seenObjects.map((function(e){return e.propertyName})),o=r.slice(0,n).map((function(e){return e+" -> "})).join(""),s=r[n],a=" -> "+r.slice(n+1,r.length-1).map((function(e){return e+" -> "})).join(""),u=r[r.length-1],c=" ".repeat(o.length+s.length/2),f="-".repeat(a.length+(s.length+u.length)/2-1);throw new D("Converting circular structure to EJSON:\n    "+o+s+a+u+"\n    "+c+"\\"+f+"/")}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return function(e,t){return e.map((function(e,n){t.seenObjects.push({propertyName:"index "+n,obj:null});try{return Me(e,t)}finally{t.seenObjects.pop()}}))}(e,t);if(e===undefined)return null;if(e instanceof Date||M(e)){var l=e.getTime(),p=l>-1&&l<2534023188e5;return t.legacy?t.relaxed&&p?{$date:e.getTime()}:{$date:Re(e)}:t.relaxed&&p?{$date:Re(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(!("number"!=typeof e||t.relaxed&&isFinite(e))){if(Math.floor(e)===e){var d=e>=ke&&e<=Ie;if(e>=Te&&e<=Ne)return{$numberInt:e.toString()};if(d)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp||R(e)){var h=e.flags;if(h===undefined){var y=e.toString().match(/[gimuy]*$/);y&&(h=y[0])}return new Oe(e.source,h).toExtendedJSON(t)}return null!=e&&"object"===(0,i["default"])(e)?function(e,t){if(null==e||"object"!==(0,i["default"])(e))throw new O("not an object instance");var n=e._bsontype;if(void 0===n){var r={};for(var o in e){t.seenObjects.push({propertyName:o,obj:null});try{r[o]=Me(e[o],t)}finally{t.seenObjects.pop()}}return r}if(xe(e)){var s=e;if("function"!=typeof s.toExtendedJSON){var a=je[e._bsontype];if(!a)throw new D("Unrecognized or invalid _bsontype: "+e._bsontype);s=a(s)}return"Code"===n&&s.scope?s=new H(s.code,Me(s.scope,t)):"DBRef"===n&&s.oid&&(s=new J(Me(s.collection,t),Me(s.oid,t),Me(s.db,t),Me(s.fields,t))),s.toExtendedJSON(t)}throw new O("_bsontype must be a string, but was: "+(0,i["default"])(n))}(e,t):e}var Be,Ue,je={Binary:function(e){return new V(e.value(),e.sub_type)},Code:function(e){return new H(e.code,e.scope)},DBRef:function(e){return new J(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new ye(e.bytes)},Double:function(e){return new ge(e.value)},Int32:function(e){return new ve(e.value)},Long:function(e){return ne.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new me},MinKey:function(){return new be},ObjectID:function(e){return new Ae(e)},ObjectId:function(e){return new Ae(e)},BSONRegExp:function(e){return new Oe(e.pattern,e.options)},Symbol:function(e){return new De(e.value)},Timestamp:function(e){return Ce.fromBits(e.low,e.high)}};t.EJSON=Be,function(e){function t(e,t){var n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"==typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(function(e,t){if(-1!==e.indexOf("\0"))throw new O("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(e));return Le(t,n)}))}function n(e,t,n,r){null!=n&&"object"===(0,i["default"])(n)&&(r=n,n=0),null==t||"object"!==(0,i["default"])(t)||Array.isArray(t)||(r=t,t=undefined,n=0);var o=Me(e,Object.assign({relaxed:!0,legacy:!1},r,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(o,t,n)}e.parse=t,e.stringify=n,e.serialize=function(e,t){return t=t||{},JSON.parse(n(e,t))},e.deserialize=function(e,n){return n=n||{},t(JSON.stringify(e),n)}}(Be||(t.EJSON=Be={})),t.Map=Ue;var Fe=C();Fe.Map?t.Map=Ue=Fe.Map:t.Map=Ue=function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype["delete"]=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:n!==undefined?[n,e._values[n].v]:undefined,done:n===undefined}}}},e.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:undefined},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:n!==undefined?n:undefined,done:n===undefined}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:n!==undefined?e._values[n].v:undefined,done:n===undefined}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}();var $e=2147483647;t.BSON_INT32_MAX=$e;var qe=-2147483648;t.BSON_INT32_MIN=qe;var Ye=Math.pow(2,63)-1;t.BSON_INT64_MAX=Ye;var Ge=-Math.pow(2,63);t.BSON_INT64_MIN=Ge;var ze=Math.pow(2,53),Ve=-Math.pow(2,53);function He(e,t,n){var r=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=We(i.toString(),e[i],t,!0,n);else for(var o in"function"==typeof(null==e?void 0:e.toBSON)&&(e=e.toBSON()),e)r+=We(o,e[o],t,!1,n);return r}function We(e,t,n,r,o){switch(void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),"function"==typeof(null==t?void 0:t.toBSON)&&(t=t.toBSON()),(0,i["default"])(t)){case"string":return 1+_.byteLength(e,"utf8")+1+4+_.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=Ve&&t<=ze&&t>=qe&&t<=$e?(null!=e?_.byteLength(e,"utf8")+1:0)+5:(null!=e?_.byteLength(e,"utf8")+1:0)+9;case"undefined":return r||!o?(null!=e?_.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?_.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?_.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?_.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||M(t))return(null!=e?_.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer||I(t))return(null!=e?_.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?_.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?_.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?_.byteLength(e,"utf8")+1:0)+1+4+4+_.byteLength(t.code.toString(),"utf8")+1+He(t.scope,n,o):(null!=e?_.byteLength(e,"utf8")+1:0)+1+4+_.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===V.SUBTYPE_BYTE_ARRAY?(null!=e?_.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?_.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?_.byteLength(e,"utf8")+1:0)+_.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var s=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(s.$db=t.db),(null!=e?_.byteLength(e,"utf8")+1:0)+1+He(s,n,o)}return t instanceof RegExp||R(t)?(null!=e?_.byteLength(e,"utf8")+1:0)+1+_.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?_.byteLength(e,"utf8")+1:0)+1+_.byteLength(t.pattern,"utf8")+1+_.byteLength(t.options,"utf8")+1:(null!=e?_.byteLength(e,"utf8")+1:0)+He(t,n,o)+1;case"function":if(t instanceof RegExp||R(t)||"[object RegExp]"===String.call(t))return(null!=e?_.byteLength(e,"utf8")+1:0)+1+_.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?_.byteLength(e,"utf8")+1:0)+1+4+4+_.byteLength(x(t),"utf8")+1+He(t.scope,n,o);if(n)return(null!=e?_.byteLength(e,"utf8")+1:0)+1+4+_.byteLength(x(t),"utf8")+1}return 0}function Je(e,t,n){for(var r=0,i=t;i<n;i+=1){var o=e[i];if(r){if(128!=(192&o))return!1;r-=1}else if(128&o)if(192==(224&o))r=1;else if(224==(240&o))r=2;else{if(240!=(248&o))return!1;r=3}}return!r}t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_ENCRYPTED=6,t.BSON_BINARY_SUBTYPE_COLUMN=7,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128;var Ke=ne.fromNumber(ze),Qe=ne.fromNumber(Ve),Ze={};function Xe(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new O("bson size must be >= 5, is "+i);if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new O("buffer length "+e.length+" must be >= bson size "+i);if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new O("buffer length "+e.length+" must === bson size "+i);if(i+r>e.byteLength)throw new O("(bson size "+i+" + options.index "+r+" must be <= buffer length "+e.byteLength+")");if(0!==e[r+i-1])throw new O("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return tt(e,r,t,n)}var et=/^\$ref$|^\$id$|^\$db$/;function tt(e,t,n,r){void 0===r&&(r=!1);var i,o=null!=n.evalFunctions&&n.evalFunctions,s=null!=n.cacheFunctions&&n.cacheFunctions,a=null==n.fieldsAsRaw?null:n.fieldsAsRaw,u=null!=n.raw&&n.raw,c="boolean"==typeof n.bsonRegExp&&n.bsonRegExp,f=null!=n.promoteBuffers&&n.promoteBuffers,l=null==n.promoteLongs||n.promoteLongs,p=null==n.promoteValues||n.promoteValues,d=null==n.validation?{utf8:!0}:n.validation,h=!0,y=new Set,g=d.utf8;if("boolean"==typeof g)i=g;else{h=!1;var v=Object.keys(g).map((function(e){return g[e]}));if(0===v.length)throw new O("UTF-8 validation setting cannot be empty");if("boolean"!=typeof v[0])throw new O("Invalid UTF-8 validation option, must specify boolean values");if(i=v[0],!v.every((function(e){return e===i})))throw new O("Invalid UTF-8 validation option - keys must be all true or all false")}if(!h)for(var m=0,b=Object.keys(g);m<b.length;m++){var w=b[m];y.add(w)}var E=t;if(e.length<5)throw new O("corrupt bson message < 5 bytes long");var D=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(D<5||D>e.length)throw new O("corrupt bson message");for(var S=r?[]:{},C=0,x=!r&&null;;){var N=e[t++];if(0===N)break;for(var T=t;0!==e[T]&&T<e.length;)T++;if(T>=e.byteLength)throw new O("Bad BSON Document: illegal CString");var I=r?C++:e.toString("utf8",t,T),k=!0;k=h||y.has(I)?i:!i,!1!==x&&"$"===I[0]&&(x=et.test(I));var P=void 0;if(t=T+1,2===N){if((ue=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||ue>e.length-t||0!==e[t+ue-1])throw new O("bad string length in bson");P=rt(e,t,t+ue-1,k),t+=ue}else if(7===N){var L=_.alloc(12);e.copy(L,0,t,t+12),P=new Ae(L),t+=12}else if(16===N&&!1===p)P=new ve(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(16===N)P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(1===N&&!1===p)P=new ge(e.readDoubleLE(t)),t+=8;else if(1===N)P=e.readDoubleLE(t),t+=8;else if(9===N){var R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;P=new Date(new ne(R,M).toNumber())}else if(8===N){if(0!==e[t]&&1!==e[t])throw new O("illegal boolean type value");P=1===e[t++]}else if(3===N){var B=t;if((se=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)<=0||se>e.length-t)throw new O("bad embedded document length in bson");if(u)P=e.slice(t,t+se);else{var U=n;h||(U=A(A({},n),{validation:{utf8:k}})),P=tt(e,B,U,!1)}t+=se}else if(4===N){B=t;var j=n,F=t+(se=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24);if(a&&a[I]){for(var $ in j={},n)j[$]=n[$];j.raw=!0}if(h||(j=A(A({},j),{validation:{utf8:k}})),P=tt(e,B,j,!0),0!==e[(t+=se)-1])throw new O("invalid array terminator byte");if(t!==F)throw new O("corrupted array bson")}else if(6===N)P=undefined;else if(10===N)P=null;else if(18===N){R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var q=new ne(R,M);P=l&&!0===p&&q.lessThanOrEqual(Ke)&&q.greaterThanOrEqual(Qe)?q.toNumber():q}else if(19===N){var Y=_.alloc(16);e.copy(Y,0,t,t+16),t+=16;var G=new ye(Y);P="toObject"in G&&"function"==typeof G.toObject?G.toObject():G}else if(5===N){var z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,K=z,Q=e[t++];if(z<0)throw new O("Negative binary type element size found");if(z>e.byteLength)throw new O("Binary type size larger than document size");if(null!=e.slice){if(Q===V.SUBTYPE_BYTE_ARRAY){if((z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new O("Negative binary type element size found for subtype 0x02");if(z>K-4)throw new O("Binary type with subtype 0x02 contains too long binary size");if(z<K-4)throw new O("Binary type with subtype 0x02 contains too short binary size")}P=f&&p?e.slice(t,t+z):new V(e.slice(t,t+z),Q)}else{var Z=_.alloc(z);if(Q===V.SUBTYPE_BYTE_ARRAY){if((z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new O("Negative binary type element size found for subtype 0x02");if(z>K-4)throw new O("Binary type with subtype 0x02 contains too long binary size");if(z<K-4)throw new O("Binary type with subtype 0x02 contains too short binary size")}for(T=0;T<z;T++)Z[T]=e[t+T];P=f&&p?Z:new V(Z,Q)}t+=z}else if(11===N&&!1===c){for(T=t;0!==e[T]&&T<e.length;)T++;if(T>=e.length)throw new O("Bad BSON Document: illegal CString");var X=e.toString("utf8",t,T);for(T=t=T+1;0!==e[T]&&T<e.length;)T++;if(T>=e.length)throw new O("Bad BSON Document: illegal CString");var ee=e.toString("utf8",t,T);t=T+1;var te=new Array(ee.length);for(T=0;T<ee.length;T++)switch(ee[T]){case"m":te[T]="m";break;case"s":te[T]="g";break;case"i":te[T]="i"}P=new RegExp(X,te.join(""))}else if(11===N&&!0===c){for(T=t;0!==e[T]&&T<e.length;)T++;if(T>=e.length)throw new O("Bad BSON Document: illegal CString");for(X=e.toString("utf8",t,T),T=t=T+1;0!==e[T]&&T<e.length;)T++;if(T>=e.length)throw new O("Bad BSON Document: illegal CString");ee=e.toString("utf8",t,T),t=T+1,P=new Oe(X,ee)}else if(14===N){if((ue=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||ue>e.length-t||0!==e[t+ue-1])throw new O("bad string length in bson");var re=rt(e,t,t+ue-1,k);P=p?re:new De(re),t+=ue}else if(17===N)R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,P=new Ce(R,M);else if(255===N)P=new be;else if(127===N)P=new me;else if(13===N){if((ue=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||ue>e.length-t||0!==e[t+ue-1])throw new O("bad string length in bson");var ie=rt(e,t,t+ue-1,k);P=o?s?nt(ie,Ze,S):nt(ie):new H(ie),t+=ue}else if(15===N){var oe=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(oe<13)throw new O("code_w_scope total size shorter minimum expected length");if((ue=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||ue>e.length-t||0!==e[t+ue-1])throw new O("bad string length in bson");ie=rt(e,t,t+ue-1,k),B=t+=ue;var se=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,ae=tt(e,B,n,!1);if(t+=se,oe<8+se+ue)throw new O("code_w_scope total size is too short, truncating scope");if(oe>8+se+ue)throw new O("code_w_scope total size is too long, clips outer document");o?(P=s?nt(ie,Ze,S):nt(ie)).scope=ae:P=new H(ie,ae)}else{if(12!==N)throw new O("Detected unknown BSON type "+N.toString(16)+' for fieldname "'+I+'"');var ue;if((ue=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||ue>e.length-t||0!==e[t+ue-1])throw new O("bad string length in bson");if(null!=d&&d.utf8&&!Je(e,t,t+ue-1))throw new O("Invalid UTF-8 string in BSON document");var ce=e.toString("utf8",t,t+ue-1);t+=ue;var fe=_.alloc(12);e.copy(fe,0,t,t+12),L=new Ae(fe),t+=12,P=new J(ce,L)}"__proto__"===I?Object.defineProperty(S,I,{value:P,writable:!0,enumerable:!0,configurable:!0}):S[I]=P}if(D!==t-E){if(r)throw new O("corrupt array bson");throw new O("corrupt object bson")}if(!x)return S;if(W(S)){var le=Object.assign({},S);return delete le.$ref,delete le.$id,delete le.$db,new J(S.$ref,S.$id,S.$db,le)}return S}function nt(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}function rt(e,t,n,r){var i=e.toString("utf8",t,n);if(r)for(var o=0;o<i.length;o++)if(65533===i.charCodeAt(o)){if(!Je(e,t,n))throw new O("Invalid UTF-8 string in BSON document");break}return i}function it(e,t,n,r,i,o){var s,a,u,c="big"===r,f=8*o-i-1,l=(1<<f)-1,p=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=c?o-1:0,y=c?-1:1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?d/u:d*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*u-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0)),isNaN(t)&&(a=0);i>=8;)e[n+h]=255&a,h+=y,a/=256,i-=8;for(s=s<<i|a,isNaN(t)&&(s+=8),f+=i;f>0;)e[n+h]=255&s,h+=y,s/=256,f-=8;e[n+h-y]|=128*g}var ot=/\x00/,st=new Set(["$db","$ref","$id","$clusterTime"]);function at(e,t,n,r,i){e[r++]=2;var o=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8");e[(r=r+o+1)-1]=0;var s=e.write(n,r+4,undefined,"utf8");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function ut(e,t,n,r,i){return Number.isInteger(n)&&n>=qe&&n<=$e?(e[r++]=16,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255):(e[r++]=1,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,it(e,n,r,"little",52,8),r+=8),r}function ct(e,t,n,r,i){return e[r++]=10,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,r}function ft(e,t,n,r,i){return e[r++]=8,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function lt(e,t,n,r,i){e[r++]=9,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var o=ne.fromNumber(n.getTime()),s=o.getLowBits(),a=o.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function pt(e,t,n,r,i){if(e[r++]=11,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,n.source&&null!=n.source.match(ot))throw Error("value "+n.source+" must not contain null bytes");return r+=e.write(n.source,r,undefined,"utf8"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function dt(e,t,n,r,i){if(e[r++]=11,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,null!=n.pattern.match(ot))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=e.write(n.pattern,r,undefined,"utf8"),e[r++]=0,r+=e.write(n.options.split("").sort().join(""),r,undefined,"utf8"),e[r++]=0,r}function ht(e,t,n,r,i){return null===n?e[r++]=10:"MinKey"===n._bsontype?e[r++]=255:e[r++]=127,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,r}function yt(e,t,n,r,i){if(e[r++]=7,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,undefined,"binary");else{if(!k(n.id))throw new D("object ["+JSON.stringify(n)+"] is not a valid ObjectId");e.set(n.id.subarray(0,12),r)}return r+12}function gt(e,t,n,r,i){e[r++]=5,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var o=n.length;return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=0,e.set(j(n),r),r+=o}function vt(e,t,n,r,i,o,s,a,u,c){void 0===i&&(i=!1),void 0===o&&(o=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),void 0===c&&(c=[]);for(var f=0;f<c.length;f++)if(c[f]===n)throw new O("cyclic dependency detected");c.push(n),e[r++]=Array.isArray(n)?4:3,r+=u?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var l=Ct(e,n,i,r,o+1,s,a,c);return c.pop(),l}function mt(e,t,n,r,i){return e[r++]=19,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,e.set(n.bytes.subarray(0,16),r),r+16}function bt(e,t,n,r,i){e[r++]="Long"===n._bsontype?18:17,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var o=n.getLowBits(),s=n.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function _t(e,t,n,r,i){return n=n.valueOf(),e[r++]=16,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function wt(e,t,n,r,i){return e[r++]=1,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,it(e,n.value,r,"little",52,8),r+=8}function Et(e,t,n,r,i,o,s){e[r++]=13,r+=s?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var a=x(n),u=e.write(a,r+4,undefined,"utf8")+1;return e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0,r}function At(e,t,n,r,o,s,a,u,c){if(void 0===o&&(o=!1),void 0===s&&(s=0),void 0===a&&(a=!1),void 0===u&&(u=!0),void 0===c&&(c=!1),n.scope&&"object"===(0,i["default"])(n.scope)){e[r++]=15,r+=c?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var f=r,l="string"==typeof n.code?n.code:n.code.toString();r+=4;var p=e.write(l,r+4,undefined,"utf8")+1;e[r]=255&p,e[r+1]=p>>8&255,e[r+2]=p>>16&255,e[r+3]=p>>24&255,e[r+4+p-1]=0,r=r+p+4;var d=Ct(e,n.scope,o,r,s+1,a,u);r=d-1;var h=d-f;e[f++]=255&h,e[f++]=h>>8&255,e[f++]=h>>16&255,e[f++]=h>>24&255,e[r++]=0}else{e[r++]=13,r+=c?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0,l=n.code.toString();var y=e.write(l,r+4,undefined,"utf8")+1;e[r]=255&y,e[r+1]=y>>8&255,e[r+2]=y>>16&255,e[r+3]=y>>24&255,r=r+4+y-1,e[r++]=0}return r}function Ot(e,t,n,r,i){e[r++]=5,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var o=n.value(!0),s=n.position;return n.sub_type===V.SUBTYPE_BYTE_ARRAY&&(s+=4),e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=n.sub_type,n.sub_type===V.SUBTYPE_BYTE_ARRAY&&(s-=4,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255),e.set(o,r),r+=n.position}function Dt(e,t,n,r,i){e[r++]=14,r+=i?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var o=e.write(n.value,r+4,undefined,"utf8")+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r}function St(e,t,n,r,i,o,s){e[r++]=3,r+=s?e.write(t,r,undefined,"ascii"):e.write(t,r,undefined,"utf8"),e[r++]=0;var a=r,u={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(u.$db=n.db);var c=Ct(e,u=Object.assign(u,n.fields),!1,r,i+1,o),f=c-a;return e[a++]=255&f,e[a++]=f>>8&255,e[a++]=f>>16&255,e[a++]=f>>24&255,c}function Ct(e,t,n,r,o,s,a,u){void 0===n&&(n=!1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=[]),r=r||0,(u=u||[]).push(t);var c,f=r+4;if(Array.isArray(t))for(var l=0;l<t.length;l++){var p=""+l;if("function"==typeof(null==(g=t[l])?void 0:g.toBSON)&&(g=g.toBSON()),"string"==typeof g)f=at(e,p,g,f,!0);else if("number"==typeof g)f=ut(e,p,g,f,!0);else{if("bigint"==typeof g)throw new D("Unsupported type BigInt, please use Decimal128");if("boolean"==typeof g)f=ft(e,p,g,f,!0);else if(g instanceof Date||M(g))f=lt(e,p,g,f,!0);else if(g===undefined)f=ct(e,p,0,f,!0);else if(null===g)f=ct(e,p,0,f,!0);else if("ObjectId"===g._bsontype||"ObjectID"===g._bsontype)f=yt(e,p,g,f,!0);else if(k(g))f=gt(e,p,g,f,!0);else if(g instanceof RegExp||R(g))f=pt(e,p,g,f,!0);else if("object"===(0,i["default"])(g)&&null==g._bsontype)f=vt(e,p,g,f,n,o,s,a,!0,u);else if("object"===(0,i["default"])(g)&&xe(g)&&"Decimal128"===g._bsontype)f=mt(e,p,g,f,!0);else if("Long"===g._bsontype||"Timestamp"===g._bsontype)f=bt(e,p,g,f,!0);else if("Double"===g._bsontype)f=wt(e,p,g,f,!0);else if("function"==typeof g&&s)f=Et(e,p,g,f,0,0,!0);else if("Code"===g._bsontype)f=At(e,p,g,f,n,o,s,a,!0);else if("Binary"===g._bsontype)f=Ot(e,p,g,f,!0);else if("Symbol"===g._bsontype)f=Dt(e,p,g,f,!0);else if("DBRef"===g._bsontype)f=St(e,p,g,f,o,s,!0);else if("BSONRegExp"===g._bsontype)f=dt(e,p,g,f,!0);else if("Int32"===g._bsontype)f=_t(e,p,g,f,!0);else if("MinKey"===g._bsontype||"MaxKey"===g._bsontype)f=ht(e,p,g,f,!0);else if("undefined"!=typeof g._bsontype)throw new D("Unrecognized or invalid _bsontype: "+g._bsontype)}}else if(t instanceof Ue||(c=t,"[object Map]"===Object.prototype.toString.call(c)))for(var d=t.entries(),h=!1;!h;){var y=d.next();if(!(h=!!y.done)){p=y.value[0];var g=y.value[1],v=(0,i["default"])(g);if("string"==typeof p&&!st.has(p)){if(null!=p.match(ot))throw Error("key "+p+" must not contain null bytes");if(n){if("$"===p[0])throw Error("key "+p+" must not start with '$'");if(~p.indexOf("."))throw Error("key "+p+" must not contain '.'")}}if("string"===v)f=at(e,p,g,f);else if("number"===v)f=ut(e,p,g,f);else{if("bigint"===v||P(g)||L(g))throw new D("Unsupported type BigInt, please use Decimal128");if("boolean"===v)f=ft(e,p,g,f);else if(g instanceof Date||M(g))f=lt(e,p,g,f);else if(null===g||g===undefined&&!1===a)f=ct(e,p,0,f);else if("ObjectId"===g._bsontype||"ObjectID"===g._bsontype)f=yt(e,p,g,f);else if(k(g))f=gt(e,p,g,f);else if(g instanceof RegExp||R(g))f=pt(e,p,g,f);else if("object"===v&&null==g._bsontype)f=vt(e,p,g,f,n,o,s,a,!1,u);else if("object"===v&&"Decimal128"===g._bsontype)f=mt(e,p,g,f);else if("Long"===g._bsontype||"Timestamp"===g._bsontype)f=bt(e,p,g,f);else if("Double"===g._bsontype)f=wt(e,p,g,f);else if("Code"===g._bsontype)f=At(e,p,g,f,n,o,s,a);else if("function"==typeof g&&s)f=Et(e,p,g,f,0,0,s);else if("Binary"===g._bsontype)f=Ot(e,p,g,f);else if("Symbol"===g._bsontype)f=Dt(e,p,g,f);else if("DBRef"===g._bsontype)f=St(e,p,g,f,o,s);else if("BSONRegExp"===g._bsontype)f=dt(e,p,g,f);else if("Int32"===g._bsontype)f=_t(e,p,g,f);else if("MinKey"===g._bsontype||"MaxKey"===g._bsontype)f=ht(e,p,g,f);else if("undefined"!=typeof g._bsontype)throw new D("Unrecognized or invalid _bsontype: "+g._bsontype)}}}else{if("function"==typeof(null==t?void 0:t.toBSON)&&null!=(t=t.toBSON())&&"object"!==(0,i["default"])(t))throw new D("toBSON function did not return an object");for(var p in t){if("function"==typeof(null==(g=t[p])?void 0:g.toBSON)&&(g=g.toBSON()),v=(0,i["default"])(g),"string"==typeof p&&!st.has(p)){if(null!=p.match(ot))throw Error("key "+p+" must not contain null bytes");if(n){if("$"===p[0])throw Error("key "+p+" must not start with '$'");if(~p.indexOf("."))throw Error("key "+p+" must not contain '.'")}}if("string"===v)f=at(e,p,g,f);else if("number"===v)f=ut(e,p,g,f);else{if("bigint"===v)throw new D("Unsupported type BigInt, please use Decimal128");if("boolean"===v)f=ft(e,p,g,f);else if(g instanceof Date||M(g))f=lt(e,p,g,f);else if(g===undefined)!1===a&&(f=ct(e,p,0,f));else if(null===g)f=ct(e,p,0,f);else if("ObjectId"===g._bsontype||"ObjectID"===g._bsontype)f=yt(e,p,g,f);else if(k(g))f=gt(e,p,g,f);else if(g instanceof RegExp||R(g))f=pt(e,p,g,f);else if("object"===v&&null==g._bsontype)f=vt(e,p,g,f,n,o,s,a,!1,u);else if("object"===v&&"Decimal128"===g._bsontype)f=mt(e,p,g,f);else if("Long"===g._bsontype||"Timestamp"===g._bsontype)f=bt(e,p,g,f);else if("Double"===g._bsontype)f=wt(e,p,g,f);else if("Code"===g._bsontype)f=At(e,p,g,f,n,o,s,a);else if("function"==typeof g&&s)f=Et(e,p,g,f,0,0,s);else if("Binary"===g._bsontype)f=Ot(e,p,g,f);else if("Symbol"===g._bsontype)f=Dt(e,p,g,f);else if("DBRef"===g._bsontype)f=St(e,p,g,f,o,s);else if("BSONRegExp"===g._bsontype)f=dt(e,p,g,f);else if("Int32"===g._bsontype)f=_t(e,p,g,f);else if("MinKey"===g._bsontype||"MaxKey"===g._bsontype)f=ht(e,p,g,f);else if("undefined"!=typeof g._bsontype)throw new D("Unrecognized or invalid _bsontype: "+g._bsontype)}}}u.pop(),e[f++]=0;var m=f-r;return e[r++]=255&m,e[r++]=m>>8&255,e[r++]=m>>16&255,e[r++]=m>>24&255,f}var xt=17825792,Nt=_.alloc(xt);function Tt(e){Nt.length<e&&(Nt=_.alloc(e))}function It(e,t){void 0===t&&(t={});var n="boolean"==typeof t.checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,o="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:xt;Nt.length<o&&(Nt=_.alloc(o));var s=Ct(Nt,e,n,0,0,r,i,[]),a=_.alloc(s);return Nt.copy(a,0,0,a.length),a}function kt(e,t,n){void 0===n&&(n={});var r="boolean"==typeof n.checkKeys&&n.checkKeys,i="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,s="number"==typeof n.index?n.index:0,a=Ct(Nt,e,r,0,0,i,o);return Nt.copy(t,s,0,a),s+a-1}function Pt(e,t){return void 0===t&&(t={}),Xe(e instanceof _?e:j(e),t)}function Lt(e,t){return void 0===t&&(t={}),He(e,"boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,"boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined)}function Rt(e,t,n,r,i,o){for(var s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},o),a=j(e),u=t,c=0;c<n;c++){var f=a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24;s.index=u,r[i+c]=Xe(a,s),u+=f}return u}var Mt={Binary:V,Code:H,DBRef:J,Decimal128:ye,Double:ge,Int32:ve,Long:ne,UUID:z,Map:Ue,MaxKey:me,MinKey:be,ObjectId:Ae,ObjectID:Ae,BSONRegExp:Oe,BSONSymbol:De,Timestamp:Ce,EJSON:Be,setInternalBufferSize:Tt,serialize:It,serializeWithBufferAndIndex:kt,deserialize:Pt,calculateObjectSize:Lt,deserializeStream:Rt,BSONError:O,BSONTypeError:D};t["default"]=Mt},4934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wxMpStorage=t["default"]=t.WxRequest=t.WxMpWebSocket=void 0;var r,i=n(1588),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this,r=t.timeout,i=t.timeoutMsg,o=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=i||"请求超时",n._restrictedMethods=o||["get","post","upload","download"],n}return o(t,e),t.prototype.post=function(e){var t=this;return new Promise((function(n,r){var o=e.url,s=e.data,a=e.headers,u=wx.request({url:(0,i.formatUrl)("https:",o),data:s,timeout:t._timeout,method:"POST",header:a,success:function(e){n(e)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&t._timeout&&-1!==t._restrictedMethods.indexOf("post")&&"request:fail timeout"===e.errMsg){console.warn(t._timeoutMsg);try{u.abort()}catch(n){}}}})}))},t.prototype.upload=function(e){var t=this,n=this;return new Promise((function(r){return a(t,void 0,void 0,(function(){var t,i,o,a,c,f;return u(this,(function(u){return t=e.url,i=e.file,o=e.data,a=e.headers,c=e.onUploadProgress,f=wx.uploadFile({url:t,filePath:i,name:"file",formData:s({},o),header:a,timeout:this._timeout,success:function(e){var t={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&o.success_action_status&&(t.statusCode=parseInt(o.success_action_status,10)),r(t)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&n._timeout&&-1!==n._restrictedMethods.indexOf("upload")&&"request:fail timeout"===e.errMsg){console.warn(n._timeoutMsg);try{f.abort()}catch(t){}}}}),c&&f.onProgressUpdate((function(e){c(e)})),[2]}))}))}))},t.prototype.download=function(e){var t=this,n=this;return new Promise((function(r,o){var s=e.url,a=e.headers,u=wx.downloadFile({url:(0,i.formatUrl)("https:",s),header:a,timeout:t._timeout,success:function(e){200===e.statusCode&&e.tempFilePath?r({statusCode:200,tempFilePath:e.tempFilePath}):r(e)},fail:function(e){o(e)},complete:function(e){if(e&&e.errMsg&&n._timeout&&-1!==n._restrictedMethods.indexOf("download")&&"request:fail timeout"===e.errMsg){console.warn(n._timeoutMsg);try{u.abort()}catch(t){}}}})}))},t}(i.AbstractSDKRequest);t.WxRequest=c;var f={setItem:function(e,t){wx.setStorageSync(e,t)},getItem:function(e){return wx.getStorageSync(e)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}};t.wxMpStorage=f;var l=function(e,t){void 0===t&&(t={});var n=wx.connectSocket(s({url:e},t));return{set onopen(e){n.onOpen(e)},set onmessage(e){n.onMessage(e)},set onclose(e){n.onClose(e)},set onerror(e){n.onError(e)},send:function(e){return n.send({data:e})},close:function(e,t){return n.close({code:e,reason:t})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}};t.WxMpWebSocket=l;var p={genAdapter:function(){return{root:{},reqClass:c,wsClass:l,localStorage:f,primaryStorage:i.StorageType.local,getAppSign:function(){var e=wx.getAccountInfoSync();return"undefined"!=typeof App||"undefined"!=typeof getApp||wx.onAppHide||wx.offAppHide||wx.onAppShow||wx.offAppShow?e&&e.miniProgram?e.miniProgram.appId:"":e&&e.plugin?e.plugin.appId:""}}},isMatch:function(){if("undefined"==typeof wx)return!1;if("undefined"==typeof Page)return!1;if(!wx.getSystemInfoSync)return!1;if(!wx.getStorageSync)return!1;if(!wx.setStorageSync)return!1;if(!wx.connectSocket)return!1;if(!wx.request)return!1;try{if(!wx.getSystemInfoSync())return!1;if("qq"===wx.getSystemInfoSync().AppPlatform)return!1}catch(e){return!1}return!0},runtime:"wx_mp"};t["default"]=p},9935:function(e,t,n){"use strict";var r,i,o,s,a=n(3483)(n(3988));s=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,c=e.min(4*u,i);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,u);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e},"object"===(0,a["default"])(t)?e.exports=t=s():(i=[],(o="function"==typeof(r=s)?r.apply(t,i):r)===undefined||(e.exports=o))},4544:function(e,t,n){"use strict";var r,i,o,s,a=n(3483)(n(3988));s=function(e){var t,n;return n=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return n.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===(0,a["default"])(t)?e.exports=t=s(n(9935)):(i=[n(9935)],(o="function"==typeof(r=s)?r.apply(t,i):r)===undefined||(e.exports=o))},1801:function(e,t,n){"use strict";var r,i,o,s,a=n(3483)(n(3988));s=function(e){return e.enc.Utf8},"object"===(0,a["default"])(t)?e.exports=t=s(n(9935)):(i=[n(9935)],(o="function"==typeof(r=s)?r.apply(t,i):r)===undefined||(e.exports=o))},6443:function(e,t,n){"use strict";var r,i,o,s,a=n(3483)(n(3988));s=function(e){return e.HmacSHA256},"object"===(0,a["default"])(t)?e.exports=t=s(n(9935),n(2803),n(8836)):(i=[n(9935),n(2803),n(8836)],(o="function"==typeof(r=s)?r.apply(t,i):r)===undefined||(e.exports=o))},8836:function(e,t,n){"use strict";var r,i,o,s,a=n(3483)(n(3988));s=function(e){var t,n,r;n=(t=e).lib.Base,r=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"===(0,a["default"])(t)?e.exports=t=s(n(9935)):(i=[n(9935)],(o="function"==typeof(r=s)?r.apply(t,i):r)===undefined||(e.exports=o))},2803:function(e,t,n){"use strict";var r,i,o,s,a=n(3483)(n(3988));s=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++}();var c=[],f=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],f=n[5],l=n[6],p=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var h=c[d-15],y=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=c[d-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[d]=y+c[d-7]+v+c[d-16]}var m=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[d]+c[d];p=l,l=f,f=a,a=s+_|0,s=o,o=i,i=r,r=_+(b+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(f),n.HmacSHA256=o._createHmacHelper(f)}(Math),e.SHA256},"object"===(0,a["default"])(t)?e.exports=t=s(n(9935)):(i=[n(9935)],(o="function"==typeof(r=s)?r.apply(t,i):r)===undefined||(e.exports=o))},5306:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,o=e[1]||"",s=e[3];if(!s)return o;if(t&&"function"==typeof btoa){var a=(n=s,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),u=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[o].concat(u).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},8263:function(e,t,n){"use strict";var r,i,o,s=n(3483)(n(3988));o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r={exports:{}};function i(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}r.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:i,changeDefaults:function(e){r.exports.defaults=e}};var o=/[&<>"']/,s=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f=function(e){return c[e]},l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(e){return e.replace(l,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var d=/(^|[^\[])\^/g,h=/[^\w:]/g,y=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},v=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(e,t){g[" "+e]||(v.test(e)?g[" "+e]=e+"/":g[" "+e]=w(e,"/",!0));var n=-1===(e=g[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(m,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(b,"$1")+t:e+t}function w(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}var E=function(e,t){if(t){if(o.test(e))return e.replace(s,f)}else if(a.test(e))return e.replace(u,f);return e},A=p,O=function(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(d,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n},D=function(e,t,n){if(e){var r;try{r=decodeURIComponent(p(n)).replace(h,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!y.test(n)&&(n=_(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n},S={exec:function(){}},C=function(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},x=function(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},N=w,T=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1},I=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},k=function(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e},P=r.exports.defaults,L=N,R=x,M=E,B=T;function U(e,t,n){var r=t.href,i=t.title?M(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:M(o)}}var j=function(){function e(e){this.options=e||P}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:L(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=L(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:R(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=R(n.cells[r],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,i,o,s,a,u,c,f,l=t[0],p=t[2],d=p.length>1,h={type:"list",raw:l,ordered:d,start:d?+p.slice(0,-1):"",loose:!1,items:[]},y=t[0].match(this.rules.block.item),g=!1,v=y.length;i=this.rules.block.listItemStart.exec(y[0]);for(var m=0;m<v;m++){if(l=n=y[m],this.options.pedantic||(f=n.match(new RegExp("\\n\\s*\\n {0,"+(i[0].length-1)+"}\\S")))&&(s=n.length-f.index+y.slice(m+1).join("\n").length,h.raw=h.raw.substring(0,h.raw.length-s),l=n=n.substring(0,f.index),v=m+1),m!==v-1){if(o=this.rules.block.listItemStart.exec(y[m+1]),this.options.pedantic?o[1].length>i[1].length:o[1].length>=i[0].length||o[1].length>3){y.splice(m,2,y[m]+(!this.options.pedantic&&o[1].length<i[0].length&&!y[m].match(/\n$/)?"":"\n")+y[m+1]),m--,v--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==p[p.length-1]:d===(1===o[2].length))&&(s=y.slice(m+1).join("\n").length,h.raw=h.raw.substring(0,h.raw.length-s),m=v-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),n=L(n,"\n"),m!==v-1&&(l+="\n"),a=g||/\n\n(?!\s*$)/.test(l),m!==v-1&&(g="\n\n"===l.slice(-2),a||(a=g)),a&&(h.loose=!0),this.options.gfm&&(u=/^\[[ xX]\] /.test(n),c=undefined,u&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),h.items.push({type:"list_item",raw:l,task:u,checked:c,loose:a,text:n})}return h}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):M(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:R(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=R(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:M(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):M(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=L(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=B(t[2],"()");if(i>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var s=t[2],a="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);u&&(s=u[1],a=u[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),U(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return U(n,r,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var o,s,a=r[0].length-1,u=a,c=0,f="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+a);null!=(r=f.exec(t));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(s=o.length,r[3]||r[4])u+=s;else if(!((r[5]||r[6])&&a%3)||(a+s)%3){if(!((u-=s)>0))return s=Math.min(s,s+u+c),Math.min(a,s)%2?{type:"em",raw:e.slice(0,a+r.index+s+1),text:e.slice(1,a+r.index+s)}:{type:"strong",raw:e.slice(0,a+r.index+s+1),text:e.slice(2,a+r.index+s-1)}}else c+=s}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=M(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return r="@"===i[2]?"mailto:"+(n=M(this.options.mangle?t(i[1]):i[1])):n=M(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if("@"===n[2])i="mailto:"+(r=M(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=M(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r,i=this.rules.inline.text.exec(e);if(i)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):M(i[0]):i[0]:M(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},e}(),F=S,$=O,q=C,Y={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:F,table:F,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Y.def=$(Y.def).replace("label",Y._label).replace("title",Y._title).getRegex(),Y.bullet=/(?:[*+-]|\d{1,9}[.)])/,Y.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,Y.item=$(Y.item,"gm").replace(/bull/g,Y.bullet).getRegex(),Y.listItemStart=$(/^( *)(bull) */).replace("bull",Y.bullet).getRegex(),Y.list=$(Y.list).replace(/bull/g,Y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Y.def.source+")").getRegex(),Y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Y._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Y.html=$(Y.html,"i").replace("comment",Y._comment).replace("tag",Y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Y.paragraph=$(Y._paragraph).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.blockquote=$(Y.blockquote).replace("paragraph",Y.paragraph).getRegex(),Y.normal=q({},Y),Y.gfm=q({},Y.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Y.gfm.nptable=$(Y.gfm.nptable).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.gfm.table=$(Y.gfm.table).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.pedantic=q({},Y.normal,{html:$("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:F,paragraph:$(Y.normal._paragraph).replace("hr",Y.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var G={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:F,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:F,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};G.punctuation=$(G.punctuation).replace(/punctuation/g,G._punctuation).getRegex(),G.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,G.escapedEmSt=/\\\*|\\_/g,G._comment=$(Y._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),G.emStrong.lDelim=$(G.emStrong.lDelim).replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimAst=$(G.emStrong.rDelimAst,"g").replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimUnd=$(G.emStrong.rDelimUnd,"g").replace(/punct/g,G._punctuation).getRegex(),G._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,G._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,G._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,G.autolink=$(G.autolink).replace("scheme",G._scheme).replace("email",G._email).getRegex(),G._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,G.tag=$(G.tag).replace("comment",G._comment).replace("attribute",G._attribute).getRegex(),G._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,G._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,G._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,G.link=$(G.link).replace("label",G._label).replace("href",G._href).replace("title",G._title).getRegex(),G.reflink=$(G.reflink).replace("label",G._label).getRegex(),G.reflinkSearch=$(G.reflinkSearch,"g").replace("reflink",G.reflink).replace("nolink",G.nolink).getRegex(),G.normal=q({},G),G.pedantic=q({},G.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:$(/^!?\[(label)\]\((.*?)\)/).replace("label",G._label).getRegex(),reflink:$(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",G._label).getRegex()}),G.gfm=q({},G.normal,{escape:$(G.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),G.gfm.url=$(G.gfm.url,"i").replace("email",G.gfm._extended_email).getRegex(),G.breaks=q({},G.gfm,{br:$(G.br).replace("{2,}","*").getRegex(),text:$(G.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var z={block:Y,inline:G},V=j,H=r.exports.defaults,W=z.block,J=z.inline,K=k;function Q(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Z(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var X=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||H,this.options.tokenizer=this.options.tokenizer||new V,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:W.normal,inline:J.normal};this.options.pedantic?(t.block=W.pedantic,t.inline=J.pedantic):this.options.gfm&&(t.block=W.gfm,this.options.breaks?t.inline=J.breaks:t.inline=J.gfm),this.tokenizer.rules=t}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var n,r,i,o=t.prototype;return o.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},o.blockTokens=function(e,t,n){var r,i,o,s,a,u,c=this;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(r=n.call(c,e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)}))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),(s=t[t.length-1])&&"paragraph"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text):t.push(r);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(a=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=Infinity,n=e.slice(1),r=void 0;c.options.extensions.startBlock.forEach((function(e){"number"==typeof(r=e.call(this,n))&&r>=0&&(t=Math.min(t,r))})),t<Infinity&&t>=0&&(a=e.substring(0,t+1))}(),n&&(r=this.tokenizer.paragraph(a)))s=t[t.length-1],u&&"paragraph"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text):t.push(r),u=a.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),(s=t[t.length-1])&&"text"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text):t.push(r);else if(e){var f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}return t},o.inline=function(e){var t,n,r,i,o,s,a=e.length;for(t=0;t<a;t++)switch((s=e[t]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},i=s.header.length,n=0;n<i;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(i=s.cells.length,n=0;n<i;n++)for(o=s.cells[n],s.tokens.cells[n]=[],r=0;r<o.length;r++)s.tokens.cells[n][r]=[],this.inlineTokens(o[r],s.tokens.cells[n][r]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(i=s.items.length,n=0;n<i;n++)this.inline(s.items[n].tokens)}return e},o.inlineTokens=function(e,t,n,r){var i,o,s,a=this;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var u,c,f,l=e;if(this.tokens.links){var p=Object.keys(this.tokens.links);if(p.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(l));)p.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,u.index)+"["+K("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,u.index)+"["+K("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,u.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call(a,e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r))e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,(o=t[t.length-1])&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),o=t[t.length-1],"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),t.push(i)):o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,l,f))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,Z))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,Z))){if(s=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=Infinity,n=e.slice(1),r=void 0;a.options.extensions.startInline.forEach((function(e){"number"==typeof(r=e.call(this,n))&&r>=0&&(t=Math.min(t,r))})),t<Infinity&&t>=0&&(s=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(s,r,Q))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(f=i.raw.slice(-1)),c=!0,(o=t[t.length-1])&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(i.raw.length),t.push(i);return t},n=t,i=[{key:"rules",get:function(){return{block:W,inline:J}}}],(r=null)&&e(n.prototype,r),i&&e(n,i),t}(),ee=r.exports.defaults,te=D,ne=E,re=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+ne(r,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+ne(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ie=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),oe=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),se=re,ae=ie,ue=oe,ce=r.exports.defaults,fe=A,le=function(){function e(e){this.options=e||ce,this.options.renderer=this.options.renderer||new se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ae,this.slugger=new ue}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,r,i,o,s,a,u,c,f,l,p,d,h,y,g,v,m,b,_,w="",E=e.length;for(n=0;n<E;n++)if(l=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type])||!1===(_=this.options.extensions.renderers[l.type].call(this,l))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type))switch(l.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(l.tokens),l.depth,fe(this.parseInline(l.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(l.text,l.lang,l.escaped);continue;case"table":for(c="",u="",o=l.header.length,r=0;r<o;r++)u+=this.renderer.tablecell(this.parseInline(l.tokens.header[r]),{header:!0,align:l.align[r]});for(c+=this.renderer.tablerow(u),f="",o=l.cells.length,r=0;r<o;r++){for(u="",s=(a=l.tokens.cells[r]).length,i=0;i<s;i++)u+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:l.align[i]});f+=this.renderer.tablerow(u)}w+=this.renderer.table(c,f);continue;case"blockquote":f=this.parse(l.tokens),w+=this.renderer.blockquote(f);continue;case"list":for(p=l.ordered,d=l.start,h=l.loose,o=l.items.length,f="",r=0;r<o;r++)v=(g=l.items[r]).checked,m=g.task,y="",g.task&&(b=this.renderer.checkbox(v),h?g.tokens.length>0&&"text"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):y+=b),y+=this.parse(g.tokens,h),f+=this.renderer.listitem(y,m,v);w+=this.renderer.list(f,p,d);continue;case"html":w+=this.renderer.html(l.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(l.tokens));continue;case"text":for(f=l.tokens?this.parseInline(l.tokens):l.text;n+1<E&&"text"===e[n+1].type;)f+="\n"+((l=e[++n]).tokens?this.parseInline(l.tokens):l.text);w+=t?this.renderer.paragraph(f):f;continue;default:var A='Token with "'+l.type+'" type was not found.';if(this.options.silent)return void console.error(A);throw new Error(A)}else w+=_||"";return w},t.parseInline=function(e,t){t=t||this.renderer;var n,r,i,o="",s=e.length;for(n=0;n<s;n++)if(r=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call(this,r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":case"text":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;default:var a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else o+=i||"";return o},e}(),pe=X,de=le,he=j,ye=re,ge=ie,ve=oe,me=C,be=I,_e=E,we=r.exports.getDefaults,Ee=r.exports.changeDefaults,Ae=r.exports.defaults;function Oe(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=me({},Oe.defaults,t||{}),be(t),n){var r,i=t.highlight;try{r=pe.lex(e,t)}catch(u){return n(u)}var o=function(e){var o;if(!e)try{t.walkTokens&&Oe.walkTokens(r,t.walkTokens),o=de.parse(r,t)}catch(u){e=u}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var s=0;return Oe.walkTokens(r,(function(e){"code"===e.type&&(s++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--s&&o()}))}),0))})),void(0===s&&o())}try{var a=pe.lex(e,t);return t.walkTokens&&Oe.walkTokens(a,t.walkTokens),de.parse(a,t)}catch(u){if(u.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+_e(u.message+"",!0)+"</pre>";throw u}}return Oe.options=Oe.setOptions=function(e){return me(Oe.defaults,e),Ee(Oe.defaults),Oe},Oe.getDefaults=we,Oe.defaults=Ae,Oe.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=me.apply(void 0,[{}].concat(n)),s=Oe.defaults.extensions||{renderers:{},childTokens:{}};n.forEach((function(t){if(t.extensions&&(i=!0,t.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=s.renderers?s.renderers[e.name]:null;s.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e.renderer.apply(this,r);return!1===o&&(o=t.apply(this,r)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");s[e.level]?s[e.level].unshift(e.tokenizer):s[e.level]=[e.tokenizer],e.start&&("block"===e.level?s.startBlock?s.startBlock.push(e.start):s.startBlock=[e.start]:"inline"===e.level&&(s.startInline?s.startInline.push(e.start):s.startInline=[e.start]))}e.childTokens&&(s.childTokens[e.name]=e.childTokens)}))),t.renderer&&function(){var e=Oe.defaults.renderer||new ye,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.renderer[n].apply(e,o);return!1===a&&(a=r.apply(e,o)),a}};for(var r in t.renderer)n(r);o.renderer=e}(),t.tokenizer&&function(){var e=Oe.defaults.tokenizer||new he,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.tokenizer[n].apply(e,o);return!1===a&&(a=r.apply(e,o)),a}};for(var r in t.tokenizer)n(r);o.tokenizer=e}(),t.walkTokens){var n=Oe.defaults.walkTokens;o.walkTokens=function(r){t.walkTokens.call(e,r),n&&n(r)}}i&&(o.extensions=s),Oe.setOptions(o)}))},Oe.walkTokens=function(e,t){for(var r,i=function(){var e=r.value;switch(t(e),e.type){case"table":for(var i,o=n(e.tokens.header);!(i=o()).done;){var s=i.value;Oe.walkTokens(s,t)}for(var a,u=n(e.tokens.cells);!(a=u()).done;)for(var c,f=n(a.value);!(c=f()).done;){var l=c.value;Oe.walkTokens(l,t)}break;case"list":Oe.walkTokens(e.items,t);break;default:Oe.defaults.extensions&&Oe.defaults.extensions.childTokens&&Oe.defaults.extensions.childTokens[e.type]?Oe.defaults.extensions.childTokens[e.type].forEach((function(n){Oe.walkTokens(e[n],t)})):e.tokens&&Oe.walkTokens(e.tokens,t)}},o=n(e);!(r=o()).done;)i()},Oe.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=me({},Oe.defaults,t||{}),be(t);try{var n=pe.lexInline(e,t);return t.walkTokens&&Oe.walkTokens(n,t.walkTokens),de.parseInline(n,t)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+_e(r.message+"",!0)+"</pre>";throw r}},Oe.Parser=de,Oe.parser=de.parse,Oe.Renderer=ye,Oe.TextRenderer=ge,Oe.Lexer=pe,Oe.lexer=pe.lex,Oe.Tokenizer=he,Oe.Slugger=ve,Oe.parse=Oe,Oe},"object"===(0,s["default"])(t)?e.exports=o():(i="function"==typeof(r=o)?r.call(t,n,t,e):r)===undefined||(e.exports=i)},3355:function(e,t,n){"use strict";e=n.nmd(e);var r=n(3483)(n(3988)),i=function(e){var t,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new N(r||[]);return o._invoke=function(e,t,n){var r=p;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===y){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?y:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=y,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=f;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",g={};function v(){}function m(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&i.call(E,s)&&(_=E);var A=b.prototype=v.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function n(o,s,a,u){var c=l(e[o],e,s);if("throw"!==c.type){var f=c.arg,p=f.value;return p&&"object"===(0,r["default"])(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(p).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return m.prototype=b,c(A,"constructor",b),c(b,"constructor",m),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},O(D.prototype),c(D.prototype,a,(function(){return this})),e.AsyncIterator=D,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new D(f(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(A),c(A,u,"Generator"),c(A,s,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),g}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}("object"===(0,r["default"])(e)?e.exports:{});try{regeneratorRuntime=i}catch(o){"object"===("undefined"==typeof globalThis?"undefined":(0,r["default"])(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},9785:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=r(n(6978)),o=r(n(4920)),s=r(n(7054)),a={components:{XkFooter:i["default"],XkIssue:o["default"],XkInfo:s["default"]}};t.Z=a},5272:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=r(n(8252)),o={props:["bbData","name","avatar","fromColor"],data:function(){return{content:"",date:"",from:""}},mounted:function(){this.content=this.formatBody(this.bbData.content),this.from=this.bbData.from,this.date=this.formatTime(this.bbData.date)},methods:{formatBody:function(e){if(i["default"].prototype.$marked){var t=i["default"].prototype.$marked,n={image:function(e,t,n){return console.log(e),'<a href="'.concat(e,'" target="_blank" data-fancybox="group" class="fancybox">\n           <img src="').concat(e,"\" alt='").concat(n,"'>\n          </a>")}};return t.use({renderer:n}),t(e,{breaks:!0,gfm:!0})}var r;return r=(r=(r=(r=(r=e).replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gm,(function(e,t,n,r){return t}))).replace(/!\[(.*?)\]\((.*?)\)/gm,(function(e,t,n){return n}))).replace(/\bhttps?:[^:<>"]*\/([^:<>"]*)(\.(jpeg)|(png)|(jpg)|(webp))/g,(function(e){return'<a href="'.concat(e,'" target="_blank" data-fancybox="group" class="fancybox">\n            <img src="').concat(e,'" ></a>')}))).replace(/\bhttps?:\/\/(?!\S+(?:jpe?g|png|bmp|gif|webp|gif|mp4))\S+/g,(function(e){return"<a href='".concat(e,"' rel='noopener' target='_blank'>↘链接↙</a>")})),window.qqWechatEmotionParser&&(r=qqWechatEmotionParser(r)),r},formatTime:function(e){var t=new Date(e).getTime(),n="",r=6e4,i=36e5,o=24*i,s=(new Date).getTime()-t;if(!(s<0)){var a=s/r,u=s/i,c=s/o,f=s/6048e5,l=s/24192e5;if(l>=1&&l<4)n=" "+parseInt(l)+" 月前";else if(f>=1&&f<4)n=" "+parseInt(f)+" 周前";else if(c>=1&&c<7)n=" "+parseInt(c)+" 天前";else if(u>=1&&u<24)n=" "+parseInt(u)+" 小时前";else if(a>=1&&a<60)n=" "+parseInt(a)+" 分钟前";else if(s>=0&&s<r)n="刚刚";else{var p=new Date;p.setTime(t);var d=p.getFullYear(),h=p.getMonth()+1<10?"0"+(p.getMonth()+1):p.getMonth()+1,y=p.getDate()<10?"0"+p.getDate():p.getDate(),g=p.getHours(),v=p.getMinutes()<10?"0"+p.getMinutes():p.getMinutes();n="".concat(d,"-").concat(h,"-").concat(y," ").concat(g,":").concat(v)}return n}}}};t.Z=o},739:function(e,t,n){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var r=n(4147),i={data:function(){return{version:r.version,name:r.name}},methods:{},mounted:function(){}};t.Z=i},317:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,t.Z={props:["count"]}},4667:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=r(n(6304)),o=r(n(7402)),s=r(n(6247)),a=r(n(8252)),u=r(n(3505)),c=r(n(7054)),f=r(n(7362));n(1598),n(8722);var l={components:(0,s["default"])({XkCard:u["default"],XkInfo:c["default"]},"XkInfo",c["default"]),data:function(){return{envId:"",region:"",name:"",avatar:"",bbList:[],total:0,message:"",loading:!0,page:1,limit:5,app:null,showMessage:!1,fromColor:"",loadingImg:"https://7.dusays.com/2021/03/04/d2d5e983e2961.gif",dbName:"talks"}},methods:{login:function(e){return(0,o["default"])(i["default"].mark((function t(){var n;return i["default"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.auth({persistence:"local"})).hasLoginState()){t.next=4;break}return t.next=4,n.anonymousAuthProvider().signIn();case 4:case"end":return t.stop()}}),t)})))()},getCount:function(){var e=this;return(0,o["default"])(i["default"].mark((function t(){var n,r,o;return i["default"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.app.database();case 2:return n=t.sent,t.next=5,n.collection(e.dbName).count();case 5:r=t.sent,o=r.total,e.total=o;case 8:case"end":return t.stop()}}),t)})))()},getData:function(){var e=this;return(0,o["default"])(i["default"].mark((function t(){var n,r,o,s;return i["default"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.showMessage=!0,n=e.app,r=n.database(),t.prev=4,t.next=7,r.collection("talks").limit(e.limit).skip((e.page-1)*e.limit).orderBy("date","desc").get();case 7:o=t.sent,s=o.data,e.bbList=e.bbList.concat(s),e.loading=!1,e.showMessage=!1,e.page++,t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](4),e.loading=!1,e.showMessage=!0,e.message=t.t0;case 20:case"end":return t.stop()}}),t,null,[[4,15]])})))()}},mounted:function(){var e=this;return(0,o["default"])(i["default"].mark((function t(){var n,r,o,s,u,c,l,p,d,h,y,g,v,m,b;return i["default"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a["default"].prototype.$speakData,r=n.name,o=n.avatar,s=n.envId,u=n.limit,c=void 0===u?5:u,l=n.dbName,p=void 0===l?"talks":l,d=n.region,h=void 0===d?"ap-shanghai":d,y=n.fromColor,g=void 0===y?"rgb(245, 150, 170)":y,v=n.loadingImg,m=void 0===v?"https://7.dusays.com/2021/03/04/d2d5e983e2961.gif":v,e.name=r,e.envId=s,e.avatar=o,e.fromColor=g,e.region=h,e.dbName=p,e.limit=Number(c),e.loadingImg=m,b=f["default"].init({env:e.envId,region:e.region}),e.app=b,t.next=13,e.login(e.app);case 13:return t.next=15,e.getData();case 15:return t.next=17,e.getCount();case 17:case"end":return t.stop()}}),t)})))()}};t.Z=l},1658:function(e,t){"use strict";t.Z=function(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a=o[1],u=o[2],c=o[3],f={id:e+":"+i,css:a,media:u,sourceMap:c};r[s]?r[s].parts.push(f):n.push(r[s]={id:s,parts:[f]})}return n}},8252:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n(3988)),o=Object.freeze({});function s(e){return e===undefined||null===e}function a(e){return e!==undefined&&null!==e}function u(e){return!0===e}function c(e){return"string"==typeof e||"number"==typeof e||"symbol"===(0,i["default"])(e)||"boolean"==typeof e}function f(e){return null!==e&&"object"===(0,i["default"])(e)}var l=Object.prototype.toString;function p(e){return"[object Object]"===l.call(e)}function d(e){return"[object RegExp]"===l.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function y(e){return a(e)&&"function"==typeof e.then&&"function"==typeof e["catch"]}function g(e){return null==e?"":Array.isArray(e)||p(e)&&e.toString===l?JSON.stringify(e,null,2):String(e)}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}m("slot,component",!0);var b=m("key,ref,slot,slot-scope,is");function _(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function E(e,t){return w.call(e,t)}function A(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var O=/-(\w)/g,D=A((function(e){return e.replace(O,(function(e,t){return t?t.toUpperCase():""}))})),S=A((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),C=/\B([A-Z])/g,x=A((function(e){return e.replace(C,"-$1").toLowerCase()})),N=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function T(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function I(e,t){for(var n in t)e[n]=t[n];return e}function k(e){for(var t={},n=0;n<e.length;n++)e[n]&&I(t,e[n]);return t}function P(e,t,n){}var L=function(e,t,n){return!1},R=function(e){return e};function M(e,t){if(e===t)return!0;var n=f(e),r=f(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return M(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return M(e[n],t[n])}))}catch(u){return!1}}function B(e,t){for(var n=0;n<e.length;n++)if(M(e[n],t))return n;return-1}function U(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var j="data-server-rendered",F=["component","directive","filter"],$=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:P,parsePlatformTagName:R,mustUseProp:L,async:!0,_lifecycleHooks:$},Y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function z(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var V,H=new RegExp("[^"+Y.source+".$_\\d]"),W="__proto__"in{},J="undefined"!=typeof window,K="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Q=K&&WXEnvironment.platform.toLowerCase(),Z=J&&window.navigator.userAgent.toLowerCase(),X=Z&&/msie|trident/.test(Z),ee=Z&&Z.indexOf("msie 9.0")>0,te=Z&&Z.indexOf("edge/")>0,ne=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),re=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),ie={}.watch,oe=!1;if(J)try{var se={};Object.defineProperty(se,"passive",{get:function(){oe=!0}}),window.addEventListener("test-passive",null,se)}catch(Vi){}var ae=function(){return V===undefined&&(V=!J&&!K&&"undefined"!=typeof n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),V},ue=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ce(e){return"function"==typeof e&&/native code/.test(e.toString())}var fe,le="undefined"!=typeof Symbol&&ce(Symbol)&&"undefined"!=typeof Reflect&&ce(Reflect.ownKeys);fe="undefined"!=typeof Set&&ce(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pe=P,de=0,he=function(){this.id=de++,this.subs=[]};he.prototype.addSub=function(e){this.subs.push(e)},he.prototype.removeSub=function(e){_(this.subs,e)},he.prototype.depend=function(){he.target&&he.target.addDep(this)},he.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},he.target=null;var ye=[];function ge(e){ye.push(e),he.target=e}function ve(){ye.pop(),he.target=ye[ye.length-1]}var me=function(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=undefined,this.context=o,this.fnContext=undefined,this.fnOptions=undefined,this.fnScopeId=undefined,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=undefined,this.parent=undefined,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=undefined,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(me.prototype,be);var _e=function(e){void 0===e&&(e="");var t=new me;return t.text=e,t.isComment=!0,t};function we(e){return new me(undefined,undefined,undefined,String(e))}function Ee(e){var t=new me(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ae=Array.prototype,Oe=Object.create(Ae);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=Ae[e];z(Oe,e,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o}))}));var De=Object.getOwnPropertyNames(Oe),Se=!0;function Ce(e){Se=e}var xe=function(e){this.value=e,this.dep=new he,this.vmCount=0,z(e,"__ob__",this),Array.isArray(e)?(W?function(e,t){e.__proto__=t}(e,Oe):function(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];z(e,o,t[o])}}(e,Oe,De),this.observeArray(e)):this.walk(e)};function Ne(e,t){var n;if(f(e)&&!(e instanceof me))return E(e,"__ob__")&&e.__ob__ instanceof xe?n=e.__ob__:Se&&!ae()&&(Array.isArray(e)||p(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new xe(e)),t&&n&&n.vmCount++,n}function Te(e,t,n,r,i){var o=new he,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=e[t]);var c=!i&&Ne(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return he.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&Pe(t))),t},set:function(t){var r=a?a.call(e):n;t===r||t!=t&&r!=r||a&&!u||(u?u.call(e,t):n=t,c=!i&&Ne(t),o.notify())}})}}function Ie(e,t,n){if(Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Te(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function ke(e,t){if(Array.isArray(e)&&h(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||E(e,t)&&(delete e[t],n&&n.dep.notify())}}function Pe(e){for(var t=void 0,n=0,r=e.length;n<r;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Pe(t)}xe.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Te(e,t[n])},xe.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ne(e[t])};var Le=q.optionMergeStrategies;function Re(e,t){if(!t)return e;for(var n,r,i,o=le?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)"__ob__"!==(n=o[s])&&(r=e[n],i=t[n],E(e,n)?r!==i&&p(r)&&p(i)&&Re(r,i):Ie(e,n,i));return e}function Me(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,i="function"==typeof e?e.call(n,n):e;return r?Re(r,i):i}:t?e?function(){return Re("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Be(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function Ue(e,t,n,r){var i=Object.create(e||null);return t?I(i,t):i}Le.data=function(e,t,n){return n?Me(e,t,n):t&&"function"!=typeof t?e:Me(e,t)},$.forEach((function(e){Le[e]=Be})),F.forEach((function(e){Le[e+"s"]=Ue})),Le.watch=function(e,t,n,r){if(e===ie&&(e=undefined),t===ie&&(t=undefined),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in I(i,e),t){var s=i[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Le.props=Le.methods=Le.inject=Le.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return I(i,e),t&&I(i,t),i},Le.provide=Me;var je=function(e,t){return t===undefined?e:t};function Fe(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[D(i)]={type:null});else if(p(n))for(var s in n)i=n[s],o[D(s)]=p(i)?i:{type:i};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(p(n))for(var o in n){var s=n[o];r[o]=p(s)?I({from:o},s):{from:s}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}(t),!t._base&&(t["extends"]&&(e=Fe(e,t["extends"],n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Fe(e,t.mixins[r],n);var o,s={};for(o in e)a(o);for(o in t)E(e,o)||a(o);function a(r){var i=Le[r]||je;s[r]=i(e[r],t[r],n,r)}return s}function $e(e,t,n,r){if("string"==typeof n){var i=e[t];if(E(i,n))return i[n];var o=D(n);if(E(i,o))return i[o];var s=S(o);return E(i,s)?i[s]:i[n]||i[o]||i[s]}}function qe(e,t,n,r){var i=t[e],o=!E(n,e),s=n[e],a=Ve(Boolean,i.type);if(a>-1)if(o&&!E(i,"default"))s=!1;else if(""===s||s===x(e)){var u=Ve(String,i.type);(u<0||a<u)&&(s=!0)}if(s===undefined){s=function(e,t,n){if(!E(t,"default"))return undefined;var r=t["default"];return e&&e.$options.propsData&&e.$options.propsData[n]===undefined&&e._props[n]!==undefined?e._props[n]:"function"==typeof r&&"Function"!==Ge(t.type)?r.call(e):r}(r,i,e);var c=Se;Ce(!0),Ne(s),Ce(c)}return s}var Ye=/^\s*function (\w+)/;function Ge(e){var t=e&&e.toString().match(Ye);return t?t[1]:""}function ze(e,t){return Ge(e)===Ge(t)}function Ve(e,t){if(!Array.isArray(t))return ze(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(ze(t[n],e))return n;return-1}function He(e,t,n){ge();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,e,t,n))return}catch(Vi){Je(Vi,r,"errorCaptured hook")}}Je(e,t,n)}finally{ve()}}function We(e,t,n,r,i){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&y(o)&&!o._handled&&(o["catch"]((function(e){return He(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(Vi){He(Vi,r,i)}return o}function Je(e,t,n){if(q.errorHandler)try{return q.errorHandler.call(null,e,t,n)}catch(Vi){Vi!==e&&Ke(Vi)}Ke(e)}function Ke(e,t,n){if(!J&&!K||"undefined"==typeof console)throw e;console.error(e)}var Qe,Ze=!1,Xe=[],et=!1;function tt(){et=!1;var e=Xe.slice(0);Xe.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ce(Promise)){var nt=Promise.resolve();Qe=function(){nt.then(tt),ne&&setTimeout(P)},Ze=!0}else if(X||"undefined"==typeof MutationObserver||!ce(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Qe="undefined"!=typeof setImmediate&&ce(setImmediate)?function(){setImmediate(tt)}:function(){setTimeout(tt,0)};else{var rt=1,it=new MutationObserver(tt),ot=document.createTextNode(String(rt));it.observe(ot,{characterData:!0}),Qe=function(){rt=(rt+1)%2,ot.data=String(rt)},Ze=!0}function st(e,t){var n;if(Xe.push((function(){if(e)try{e.call(t)}catch(Vi){He(Vi,t,"nextTick")}else n&&n(t)})),et||(et=!0,Qe()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var at=new fe;function ut(e){ct(e,at),at.clear()}function ct(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!f(e)||Object.isFrozen(e)||e instanceof me)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i)for(n=e.length;n--;)ct(e[n],t);else for(n=(r=Object.keys(e)).length;n--;)ct(e[r[n]],t)}}var ft=A((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}}));function lt(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return We(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)We(i[o],null,e,t,"v-on handler")}return n.fns=e,n}function pt(e,t,n,r,i,o){var a,c,f,l;for(a in e)c=e[a],f=t[a],l=ft(a),s(c)||(s(f)?(s(c.fns)&&(c=e[a]=lt(c,o)),u(l.once)&&(c=e[a]=i(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==f&&(f.fns=c,e[a]=f));for(a in t)s(e[a])&&r((l=ft(a)).name,t[a],l.capture)}function dt(e,t,n){var r;e instanceof me&&(e=e.data.hook||(e.data.hook={}));var i=e[t];function o(){n.apply(this,arguments),_(r.fns,o)}s(i)?r=lt([o]):a(i.fns)&&u(i.merged)?(r=i).fns.push(o):r=lt([i,o]),r.merged=!0,e[t]=r}function ht(e,t,n,r,i){if(a(t)){if(E(t,n))return e[n]=t[n],i||delete t[n],!0;if(E(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function yt(e){return c(e)?[we(e)]:Array.isArray(e)?vt(e):undefined}function gt(e){return a(e)&&a(e.text)&&!1===e.isComment}function vt(e,t){var n,r,i,o,f=[];for(n=0;n<e.length;n++)s(r=e[n])||"boolean"==typeof r||(o=f[i=f.length-1],Array.isArray(r)?r.length>0&&(gt((r=vt(r,(t||"")+"_"+n))[0])&&gt(o)&&(f[i]=we(o.text+r[0].text),r.shift()),f.push.apply(f,r)):c(r)?gt(o)?f[i]=we(o.text+r):""!==r&&f.push(we(r)):gt(r)&&gt(o)?f[i]=we(o.text+r.text):(u(e._isVList)&&a(r.tag)&&s(r.key)&&a(t)&&(r.key="__vlist"+t+"_"+n+"__"),f.push(r)));return f}function mt(e,t){if(e){for(var n=Object.create(null),r=le?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var s=e[o].from,a=t;a;){if(a._provided&&E(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a&&"default"in e[o]){var u=e[o]["default"];n[o]="function"==typeof u?u.call(t):u}}}return n}}function bt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n["default"]||(n["default"]=[])).push(o);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(_t)&&delete n[c];return n}function _t(e){return e.isComment&&!e.asyncFactory||" "===e.text}function wt(e){return e.isComment&&e.asyncFactory}function Et(e,t,n){var r,i=Object.keys(t).length>0,s=e?!!e.$stable:!i,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&n&&n!==o&&a===n.$key&&!i&&!n.$hasNormal)return n;for(var u in r={},e)e[u]&&"$"!==u[0]&&(r[u]=At(t,u,e[u]))}else r={};for(var c in t)c in r||(r[c]=Ot(t,c));return e&&Object.isExtensible(e)&&(e._normalized=r),z(r,"$stable",s),z(r,"$key",a),z(r,"$hasNormal",i),r}function At(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({}),t=(e=e&&"object"===(0,i["default"])(e)&&!Array.isArray(e)?[e]:yt(e))&&e[0];return e&&(!t||1===e.length&&t.isComment&&!wt(t))?undefined:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Ot(e,t){return function(){return e[t]}}function Dt(e,t){var n,r,i,o,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(f(e))if(le&&e[Symbol.iterator]){n=[];for(var u=e[Symbol.iterator](),c=u.next();!c.done;)n.push(t(c.value,n.length)),c=u.next()}else for(o=Object.keys(e),n=new Array(o.length),r=0,i=o.length;r<i;r++)s=o[r],n[r]=t(e[s],s,r);return a(n)||(n=[]),n._isVList=!0,n}function St(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=I(I({},r),n)),i=o(n)||("function"==typeof t?t():t)):i=this.$slots[e]||("function"==typeof t?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Ct(e){return $e(this.$options,"filters",e)||R}function xt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Nt(e,t,n,r,i){var o=q.keyCodes[t]||n;return i&&r&&!q.keyCodes[t]?xt(i,r):o?xt(o,e):r?x(r)!==t:e===undefined}function Tt(e,t,n,r,i){if(n&&f(n)){var o;Array.isArray(n)&&(n=k(n));var s=function(s){if("class"===s||"style"===s||b(s))o=e;else{var a=e.attrs&&e.attrs.type;o=r||q.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=D(s),c=x(s);u in o||c in o||(o[s]=n[s],i&&((e.on||(e.on={}))["update:"+s]=function(e){n[s]=e}))};for(var a in n)s(a)}return e}function It(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||Pt(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r}function kt(e,t,n){return Pt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Pt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Lt(e[r],t+"_"+r,n);else Lt(e,t,n)}function Lt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Rt(e,t){if(t&&p(t)){var n=e.on=e.on?I({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}return e}function Mt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Mt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Bt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Ut(e,t){return"string"==typeof e?t+e:e}function jt(e){e._o=kt,e._n=v,e._s=g,e._l=Dt,e._t=St,e._q=M,e._i=B,e._m=It,e._f=Ct,e._k=Nt,e._b=Tt,e._v=we,e._e=_e,e._u=Mt,e._g=Rt,e._d=Bt,e._p=Ut}function Ft(e,t,n,r,i){var s,a=this,c=i.options;E(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var f=u(c._compiled),l=!f;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||o,this.injections=mt(c.inject,r),this.slots=function(){return a.$slots||Et(e.scopedSlots,a.$slots=bt(n,r)),a.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Et(e.scopedSlots,this.slots())}}),f&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Et(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,i){var o=Ht(s,e,t,n,i,l);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=r),o}:this._c=function(e,t,n,r){return Ht(s,e,t,n,r,l)}}function $t(e,t,n,r,i){var o=Ee(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function qt(e,t){for(var n in t)e[D(n)]=t[n]}jt(Ft.prototype);var Yt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Yt.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}(e,rn)).$mount(t?e.elm:undefined,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,i){var s=r.data.scopedSlots,a=e.$scopedSlots,u=!!(s&&!s.$stable||a!==o&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),c=!!(i||e.$options._renderChildren||u);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=i,e.$attrs=r.data.attrs||o,e.$listeners=n||o,t&&e.$options.props){Ce(!1);for(var f=e._props,l=e.$options._propKeys||[],p=0;p<l.length;p++){var d=l[p],h=e.$options.props;f[d]=qe(d,h,t,e)}Ce(!0),e.$options.propsData=t}n=n||o;var y=e.$options._parentListeners;e.$options._parentListeners=n,nn(e,n,y),c&&(e.$slots=bt(i,r.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,cn(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,ln.push(t)):an(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?un(t,!0):t.$destroy())}},Gt=Object.keys(Yt);function zt(e,t,n,r,i){if(!s(e)){var c=n.$options._base;if(f(e)&&(e=c.extend(e)),"function"==typeof e){var l;if(s(e.cid)&&(e=function(e,t){if(u(e.error)&&a(e.errorComp))return e.errorComp;if(a(e.resolved))return e.resolved;var n=Kt;if(n&&a(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),u(e.loading)&&a(e.loadingComp))return e.loadingComp;if(n&&!a(e.owners)){var r=e.owners=[n],i=!0,o=null,c=null;n.$on("hook:destroyed",(function(){return _(r,n)}));var l=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==c&&(clearTimeout(c),c=null))},p=U((function(n){e.resolved=Qt(n,t),i?r.length=0:l(!0)})),d=U((function(t){a(e.errorComp)&&(e.error=!0,l(!0))})),h=e(p,d);return f(h)&&(y(h)?s(e.resolved)&&h.then(p,d):y(h.component)&&(h.component.then(p,d),a(h.error)&&(e.errorComp=Qt(h.error,t)),a(h.loading)&&(e.loadingComp=Qt(h.loading,t),0===h.delay?e.loading=!0:o=setTimeout((function(){o=null,s(e.resolved)&&s(e.error)&&(e.loading=!0,l(!1))}),h.delay||200)),a(h.timeout)&&(c=setTimeout((function(){c=null,s(e.resolved)&&d(null)}),h.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}(l=e,c),e===undefined))return function(e,t,n,r,i){var o=_e();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}(l,t,n,r,i);t=t||{},In(e),a(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),o=i[r],s=t.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}(e.options,t);var p=function(e,t,n){var r=t.options.props;if(!s(r)){var i={},o=e.attrs,u=e.props;if(a(o)||a(u))for(var c in r){var f=x(c);ht(i,u,c,f,!0)||ht(i,o,c,f,!1)}return i}}(t,e);if(u(e.options.functional))return function(e,t,n,r,i){var s=e.options,u={},c=s.props;if(a(c))for(var f in c)u[f]=qe(f,c,t||o);else a(n.attrs)&&qt(u,n.attrs),a(n.props)&&qt(u,n.props);var l=new Ft(n,u,i,r,e),p=s.render.call(null,l._c,l);if(p instanceof me)return $t(p,n,l.parent,s);if(Array.isArray(p)){for(var d=yt(p)||[],h=new Array(d.length),y=0;y<d.length;y++)h[y]=$t(d[y],n,l.parent,s);return h}}(e,p,t,n,r);var d=t.on;if(t.on=t.nativeOn,u(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Gt.length;n++){var r=Gt[n],i=t[r],o=Yt[r];i===o||i&&i._merged||(t[r]=i?Vt(o,i):o)}}(t);var g=e.options.name||i;return new me("vue-component-"+e.cid+(g?"-"+g:""),t,undefined,undefined,undefined,n,{Ctor:e,propsData:p,listeners:d,tag:i,children:r},l)}}}function Vt(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function Ht(e,t,n,r,i,o){return(Array.isArray(n)||c(n))&&(i=r,r=n,n=undefined),u(o)&&(i=2),function(e,t,n,r,i){if(a(n)&&a(n.__ob__))return _e();if(a(n)&&a(n.is)&&(t=n.is),!t)return _e();var o,s,u;(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={"default":r[0]},r.length=0),2===i?r=yt(r):1===i&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r)),"string"==typeof t)?(s=e.$vnode&&e.$vnode.ns||q.getTagNamespace(t),o=q.isReservedTag(t)?new me(q.parsePlatformTagName(t),n,r,undefined,undefined,e):n&&n.pre||!a(u=$e(e.$options,"components",t))?new me(t,n,r,undefined,undefined,e):zt(u,n,e,r,t)):o=zt(t,n,e,r);return Array.isArray(o)?o:a(o)?(a(s)&&Wt(o,s),a(n)&&function(e){f(e.style)&&ut(e.style),f(e["class"])&&ut(e["class"])}(n),o):_e()}(e,t,n,r,i)}function Wt(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=undefined,n=!0),a(e.children))for(var r=0,i=e.children.length;r<i;r++){var o=e.children[r];a(o.tag)&&(s(o.ns)||u(n)&&"svg"!==o.tag)&&Wt(o,t,n)}}var Jt,Kt=null;function Qt(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e["default"]),f(e)?t.extend(e):e}function Zt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(a(n)&&(a(n.componentOptions)||wt(n)))return n}}function Xt(e,t){Jt.$on(e,t)}function en(e,t){Jt.$off(e,t)}function tn(e,t){var n=Jt;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function nn(e,t,n){Jt=e,pt(t,n||{},Xt,en,tn,e),Jt=undefined}var rn=null;function on(e){var t=rn;return rn=e,function(){rn=t}}function sn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function an(e,t){if(t){if(e._directInactive=!1,sn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)an(e.$children[n]);cn(e,"activated")}}function un(e,t){if(!(t&&(e._directInactive=!0,sn(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)un(e.$children[n]);cn(e,"deactivated")}}function cn(e,t){ge();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++)We(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ve()}var fn=[],ln=[],pn={},dn=!1,hn=!1,yn=0,gn=0,vn=Date.now;if(J&&!X){var mn=window.performance;mn&&"function"==typeof mn.now&&vn()>document.createEvent("Event").timeStamp&&(vn=function(){return mn.now()})}function bn(){var e,t;for(gn=vn(),hn=!0,fn.sort((function(e,t){return e.id-t.id})),yn=0;yn<fn.length;yn++)(e=fn[yn]).before&&e.before(),t=e.id,pn[t]=null,e.run();var n=ln.slice(),r=fn.slice();yn=fn.length=ln.length=0,pn={},dn=hn=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,an(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&cn(r,"updated")}}(r),ue&&q.devtools&&ue.emit("flush")}var _n=0,wn=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++_n,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new fe,this.newDepIds=new fe,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!H.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=P)),this.value=this.lazy?undefined:this.get()};wn.prototype.get=function(){var e;ge(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Vi){if(!this.user)throw Vi;He(Vi,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ut(e),ve(),this.cleanupDeps()}return e},wn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},wn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},wn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==pn[t]){if(pn[t]=!0,hn){for(var n=fn.length-1;n>yn&&fn[n].id>e.id;)n--;fn.splice(n+1,0,e)}else fn.push(e);dn||(dn=!0,st(bn))}}(this)},wn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||f(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'+this.expression+'"';We(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},wn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},wn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},wn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var En={enumerable:!0,configurable:!0,get:P,set:P};function An(e,t,n){En.get=function(){return this[t][n]},En.set=function(e){this[t][n]=e},Object.defineProperty(e,n,En)}function On(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[];e.$parent&&Ce(!1);var o=function(o){i.push(o);var s=qe(o,t,n,e);Te(r,o,s),o in e||An(e,"_props",o)};for(var s in t)o(s);Ce(!0)}(e,t.props),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?P:N(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;t=e._data="function"==typeof t?function(e,t){ge();try{return e.call(t,t)}catch(Vi){return He(Vi,t,"data()"),{}}finally{ve()}}(t,e):t||{},p(t)||(t={});for(var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);i--;){var o=n[i];r&&E(r,o)||G(o)||An(e,"_data",o)}Ne(t,!0)}(e):Ne(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=ae();for(var i in t){var o=t[i],s="function"==typeof o?o:o.get;r||(n[i]=new wn(e,s||P,P,Dn)),i in e||Sn(e,i,o)}}(e,t.computed),t.watch&&t.watch!==ie&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Nn(e,n,r[i]);else Nn(e,n,r)}}(e,t.watch)}var Dn={lazy:!0};function Sn(e,t,n){var r=!ae();"function"==typeof n?(En.get=r?Cn(t):xn(n),En.set=P):(En.get=n.get?r&&!1!==n.cache?Cn(t):xn(n.get):P,En.set=n.set||P),Object.defineProperty(e,t,En)}function Cn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),he.target&&t.depend(),t.value}}function xn(e){return function(){return e.call(this,this)}}function Nn(e,t,n,r){return p(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var Tn=0;function In(e){var t=e.options;if(e["super"]){var n=In(e["super"]);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}(e);r&&I(e.extendOptions,r),(t=e.options=Fe(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function kn(e){this._init(e)}function Pn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name,s=function(e){this._init(e)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=t++,s.options=Fe(n.options,e),s["super"]=n,s.options.props&&function(e){var t=e.options.props;for(var n in t)An(e.prototype,"_props",n)}(s),s.options.computed&&function(e){var t=e.options.computed;for(var n in t)Sn(e.prototype,n,t[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,F.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=I({},s.options),i[r]=s,s}}function Ln(e){return e&&(e.Ctor.options.name||e.tag)}function Rn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function Mn(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!t(a)&&Bn(n,o,r,i)}}}function Bn(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,_(n,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Tn++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Fe(In(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&nn(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=bt(t._renderChildren,r),e.$scopedSlots=o,e._c=function(t,n,r,i){return Ht(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return Ht(e,t,n,r,i,!0)};var i=n&&n.data;Te(e,"$attrs",i&&i.attrs||o,null,!0),Te(e,"$listeners",t._parentListeners||o,null,!0)}(t),cn(t,"beforeCreate"),function(e){var t=mt(e.$options.inject,e);t&&(Ce(!1),Object.keys(t).forEach((function(n){Te(e,n,t[n])})),Ce(!0))}(t),On(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),cn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(kn),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ie,e.prototype.$delete=ke,e.prototype.$watch=function(e,t,n){var r=this;if(p(t))return Nn(r,e,t,n);(n=n||{}).user=!0;var i=new wn(r,e,t,n);if(n.immediate){var o='callback for immediate watcher "'+i.expression+'"';ge(),We(t,r,[i.value],r,o),ve()}return function(){i.teardown()}}}(kn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;for(var a=s.length;a--;)if((o=s[a])===t||o.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?T(n):n;for(var r=T(arguments,1),i='event handler for "'+e+'"',o=0,s=n.length;o<s;o++)We(n[o],t,r,t,i)}return t}}(kn),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=on(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){cn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||_(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),cn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(kn),function(e){jt(e.prototype),e.prototype.$nextTick=function(e){return st(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=Et(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{Kt=t,e=r.call(t._renderProxy,t.$createElement)}catch(Vi){He(Vi,t,"render"),e=t._vnode}finally{Kt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof me||(e=_e()),e.parent=i,e}}(kn);var Un=[String,RegExp,Array],jn={name:"keep-alive",abstract:!0,props:{include:Un,exclude:Un,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,i=e.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;t[i]={name:Ln(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&Bn(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Bn(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Mn(e,(function(e){return Rn(t,e)}))})),this.$watch("exclude",(function(t){Mn(e,(function(e){return!Rn(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots["default"],t=Zt(e),n=t&&t.componentOptions;if(n){var r=Ln(n),i=this.include,o=this.exclude;if(i&&(!r||!Rn(i,r))||o&&r&&Rn(o,r))return t;var s=this.cache,a=this.keys,u=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;s[u]?(t.componentInstance=s[u].componentInstance,_(a,u),a.push(u)):(this.vnodeToCache=t,this.keyToCache=u),t.data.keepAlive=!0}return t||e&&e[0]}},Fn={KeepAlive:jn};!function(e){var t={get:function(){return q}};Object.defineProperty(e,"config",t),e.util={warn:pe,extend:I,mergeOptions:Fe,defineReactive:Te},e.set=Ie,e["delete"]=ke,e.nextTick=st,e.observable=function(e){return Ne(e),e},e.options=Object.create(null),F.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,I(e.options.components,Fn),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=T(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Fe(this.options,e),this}}(e),Pn(e),function(e){F.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&p(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(kn),Object.defineProperty(kn.prototype,"$isServer",{get:ae}),Object.defineProperty(kn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(kn,"FunctionalRenderContext",{value:Ft}),kn.version="2.6.14";var $n=m("style,class"),qn=m("input,textarea,option,select,progress"),Yn=m("contenteditable,draggable,spellcheck"),Gn=m("events,caret,typing,plaintext-only"),zn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Vn="http://www.w3.org/1999/xlink",Hn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Wn=function(e){return Hn(e)?e.slice(6,e.length):""},Jn=function(e){return null==e||!1===e};function Kn(e){for(var t=e.data,n=e,r=e;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=Qn(r.data,t));for(;a(n=n.parent);)n&&n.data&&(t=Qn(t,n.data));return i=t.staticClass,o=t["class"],a(i)||a(o)?Zn(i,Xn(o)):"";var i,o}function Qn(e,t){return{staticClass:Zn(e.staticClass,t.staticClass),"class":a(e["class"])?[e["class"],t["class"]]:t["class"]}}function Zn(e,t){return e?t?e+" "+t:e:t||""}function Xn(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,i=e.length;r<i;r++)a(t=Xn(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):f(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var er={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},tr=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),nr=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),rr=function(e){return tr(e)||nr(e)},ir=Object.create(null),or=m("text,number,password,search,email,tel,url"),sr=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&t.data.attrs.multiple!==undefined&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(er[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),ar={create:function(e,t){ur(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ur(e,!0),ur(t))},destroy:function(e){ur(e,!0)}};function ur(e,t){var n=e.data.ref;if(a(n)){var r=e.context,i=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?_(o[n],i):o[n]===i&&(o[n]=undefined):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var cr=new me("",{},[]),fr=["create","activate","update","remove","destroy"];function lr(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&a(e.data)===a(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=a(n=e.data)&&a(n=n.attrs)&&n.type,i=a(n=t.data)&&a(n=n.attrs)&&n.type;return r===i||or(r)&&or(i)}(e,t)||u(e.isAsyncPlaceholder)&&s(t.asyncFactory.error))}function pr(e,t,n){var r,i,o={};for(r=t;r<=n;++r)a(i=e[r].key)&&(o[i]=r);return o}var dr={create:hr,update:hr,destroy:function(e){hr(e,cr)}};function hr(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,i,o=e===cr,s=t===cr,a=gr(e.data.directives,e.context),u=gr(t.data.directives,t.context),c=[],f=[];for(n in u)r=a[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,mr(i,"update",t,e),i.def&&i.def.componentUpdated&&f.push(i)):(mr(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var l=function(){for(var n=0;n<c.length;n++)mr(c[n],"inserted",t,e)};o?dt(t,"insert",l):l()}if(f.length&&dt(t,"postpatch",(function(){for(var n=0;n<f.length;n++)mr(f[n],"componentUpdated",t,e)})),!o)for(n in a)u[n]||mr(a[n],"unbind",e,e,s)}(e,t)}var yr=Object.create(null);function gr(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=yr),i[vr(r)]=r,r.def=$e(t.$options,"directives",r.name);return i}function vr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function mr(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(Vi){He(Vi,n.context,"directive "+e.name+" "+t+" hook")}}var br=[ar,dr];function _r(e,t){var n=t.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||s(e.data.attrs)&&s(t.data.attrs))){var r,i,o=t.elm,u=e.data.attrs||{},c=t.data.attrs||{};for(r in a(c.__ob__)&&(c=t.data.attrs=I({},c)),c)i=c[r],u[r]!==i&&wr(o,r,i,t.data.pre);for(r in(X||te)&&c.value!==u.value&&wr(o,"value",c.value),u)s(c[r])&&(Hn(r)?o.removeAttributeNS(Vn,Wn(r)):Yn(r)||o.removeAttribute(r))}}function wr(e,t,n,r){r||e.tagName.indexOf("-")>-1?Er(e,t,n):zn(t)?Jn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Yn(t)?e.setAttribute(t,function(e,t){return Jn(t)||"false"===t?"false":"contenteditable"===e&&Gn(t)?t:"true"}(t,n)):Hn(t)?Jn(n)?e.removeAttributeNS(Vn,Wn(t)):e.setAttributeNS(Vn,t,n):Er(e,t,n)}function Er(e,t,n){Jn(n)?e.removeAttribute(t):(!X||ee||"TEXTAREA"!==e.tagName||"placeholder"!==t||""===n||e.__ieph||(e.addEventListener("input",(function r(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)})),e.__ieph=!0),e.setAttribute(t,n))}var Ar={create:_r,update:_r};function Or(e,t){var n=t.elm,r=t.data,i=e.data;if(!(s(r.staticClass)&&s(r["class"])&&(s(i)||s(i.staticClass)&&s(i["class"])))){var o=Kn(t),u=n._transitionClasses;a(u)&&(o=Zn(o,Xn(u))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var Dr,Sr={create:Or,update:Or};function Cr(e,t,n){var r=Dr;return function i(){var o=t.apply(null,arguments);null!==o&&Tr(e,i,n,r)}}var xr=Ze&&!(re&&Number(re[1])<=53);function Nr(e,t,n,r){if(xr){var i=gn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Dr.addEventListener(e,t,oe?{capture:n,passive:r}:n)}function Tr(e,t,n,r){(r||Dr).removeEventListener(e,t._wrapper||t,n)}function Ir(e,t){if(!s(e.data.on)||!s(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Dr=t.elm,function(e){if(a(e.__r)){var t=X?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}a(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(n),pt(n,r,Nr,Tr,Cr,t.context),Dr=undefined}}var kr,Pr={create:Ir,update:Ir};function Lr(e,t){if(!s(e.data.domProps)||!s(t.data.domProps)){var n,r,i=t.elm,o=e.data.domProps||{},u=t.data.domProps||{};for(n in a(u.__ob__)&&(u=t.data.domProps=I({},u)),o)n in u||(i[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===o[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var c=s(r)?"":String(r);Rr(i,c)&&(i.value=c)}else if("innerHTML"===n&&nr(i.tagName)&&s(i.innerHTML)){(kr=kr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var f=kr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;f.firstChild;)i.appendChild(f.firstChild)}else if(r!==o[n])try{i[n]=r}catch(Vi){}}}}function Rr(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(Vi){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(a(r)){if(r.number)return v(n)!==v(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var Mr={create:Lr,update:Lr},Br=A((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}));function Ur(e){var t=jr(e.style);return e.staticStyle?I(e.staticStyle,t):t}function jr(e){return Array.isArray(e)?k(e):"string"==typeof e?Br(e):e}var Fr,$r=/^--/,qr=/\s*!important$/,Yr=function(e,t,n){if($r.test(t))e.style.setProperty(t,n);else if(qr.test(n))e.style.setProperty(x(t),n.replace(qr,""),"important");else{var r=zr(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},Gr=["Webkit","Moz","ms"],zr=A((function(e){if(Fr=Fr||document.createElement("div").style,"filter"!==(e=D(e))&&e in Fr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Gr.length;n++){var r=Gr[n]+t;if(r in Fr)return r}}));function Vr(e,t){var n=t.data,r=e.data;if(!(s(n.staticStyle)&&s(n.style)&&s(r.staticStyle)&&s(r.style))){var i,o,u=t.elm,c=r.staticStyle,f=r.normalizedStyle||r.style||{},l=c||f,p=jr(t.data.style)||{};t.data.normalizedStyle=a(p.__ob__)?I({},p):p;var d=function(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Ur(i.data))&&I(r,n);(n=Ur(e.data))&&I(r,n);for(var o=e;o=o.parent;)o.data&&(n=Ur(o.data))&&I(r,n);return r}(t,!0);for(o in l)s(d[o])&&Yr(u,o,"");for(o in d)(i=d[o])!==l[o]&&Yr(u,o,null==i?"":i)}}var Hr={create:Vr,update:Vr},Wr=/\s+/;function Jr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Wr).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Kr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Wr).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Qr(e){if(e){if("object"===(0,i["default"])(e)){var t={};return!1!==e.css&&I(t,Zr(e.name||"v")),I(t,e),t}return"string"==typeof e?Zr(e):void 0}}var Zr=A((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Xr=J&&!ee,ei="transition",ti="animation",ni="transition",ri="transitionend",ii="animation",oi="animationend";Xr&&(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined&&(ni="WebkitTransition",ri="webkitTransitionEnd"),window.onanimationend===undefined&&window.onwebkitanimationend!==undefined&&(ii="WebkitAnimation",oi="webkitAnimationEnd"));var si=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function ai(e){si((function(){si(e)}))}function ui(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Jr(e,t))}function ci(e,t){e._transitionClasses&&_(e._transitionClasses,t),Kr(e,t)}function fi(e,t,n){var r=pi(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===ei?ri:oi,u=0,c=function(){e.removeEventListener(a,f),n()},f=function(t){t.target===e&&++u>=s&&c()};setTimeout((function(){u<s&&c()}),o+1),e.addEventListener(a,f)}var li=/\b(transform|all)(,|$)/;function pi(e,t){var n,r=window.getComputedStyle(e),i=(r[ni+"Delay"]||"").split(", "),o=(r[ni+"Duration"]||"").split(", "),s=di(i,o),a=(r[ii+"Delay"]||"").split(", "),u=(r[ii+"Duration"]||"").split(", "),c=di(a,u),f=0,l=0;return t===ei?s>0&&(n=ei,f=s,l=o.length):t===ti?c>0&&(n=ti,f=c,l=u.length):l=(n=(f=Math.max(s,c))>0?s>c?ei:ti:null)?n===ei?o.length:u.length:0,{type:n,timeout:f,propCount:l,hasTransform:n===ei&&li.test(r[ni+"Property"])}}function di(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return hi(t)+hi(e[n])})))}function hi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function yi(e,t){var n=e.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Qr(e.data.transition);if(!s(r)&&!a(n._enterCb)&&1===n.nodeType){for(var i=r.css,o=r.type,u=r.enterClass,c=r.enterToClass,l=r.enterActiveClass,p=r.appearClass,d=r.appearToClass,h=r.appearActiveClass,y=r.beforeEnter,g=r.enter,m=r.afterEnter,b=r.enterCancelled,_=r.beforeAppear,w=r.appear,E=r.afterAppear,A=r.appearCancelled,O=r.duration,D=rn,S=rn.$vnode;S&&S.parent;)D=S.context,S=S.parent;var C=!D._isMounted||!e.isRootInsert;if(!C||w||""===w){var x=C&&p?p:u,N=C&&h?h:l,T=C&&d?d:c,I=C&&_||y,k=C&&"function"==typeof w?w:g,P=C&&E||m,L=C&&A||b,R=v(f(O)?O.enter:O),M=!1!==i&&!ee,B=mi(k),j=n._enterCb=U((function(){M&&(ci(n,T),ci(n,N)),j.cancelled?(M&&ci(n,x),L&&L(n)):P&&P(n),n._enterCb=null}));e.data.show||dt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),k&&k(n,j)})),I&&I(n),M&&(ui(n,x),ui(n,N),ai((function(){ci(n,x),j.cancelled||(ui(n,T),B||(vi(R)?setTimeout(j,R):fi(n,o,j)))}))),e.data.show&&(t&&t(),k&&k(n,j)),M||B||j()}}}function gi(e,t){var n=e.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Qr(e.data.transition);if(s(r)||1!==n.nodeType)return t();if(!a(n._leaveCb)){var i=r.css,o=r.type,u=r.leaveClass,c=r.leaveToClass,l=r.leaveActiveClass,p=r.beforeLeave,d=r.leave,h=r.afterLeave,y=r.leaveCancelled,g=r.delayLeave,m=r.duration,b=!1!==i&&!ee,_=mi(d),w=v(f(m)?m.leave:m),E=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(ci(n,c),ci(n,l)),E.cancelled?(b&&ci(n,u),y&&y(n)):(t(),h&&h(n)),n._leaveCb=null}));g?g(A):A()}function A(){E.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),p&&p(n),b&&(ui(n,u),ui(n,l),ai((function(){ci(n,u),E.cancelled||(ui(n,c),_||(vi(w)?setTimeout(E,w):fi(n,o,E)))}))),d&&d(n,E),b||_||E())}}function vi(e){return"number"==typeof e&&!isNaN(e)}function mi(e){if(s(e))return!1;var t=e.fns;return a(t)?mi(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function bi(e,t){!0!==t.data.show&&yi(t)}var _i=function(e){var t,n,r={},i=e.modules,o=e.nodeOps;for(t=0;t<fr.length;++t)for(r[fr[t]]=[],n=0;n<i.length;++n)a(i[n][fr[t]])&&r[fr[t]].push(i[n][fr[t]]);function f(e){var t=o.parentNode(e);a(t)&&o.removeChild(t,e)}function l(e,t,n,i,s,c,f){if(a(e.elm)&&a(c)&&(e=c[f]=Ee(e)),e.isRootInsert=!s,!function(e,t,n,i){var o=e.data;if(a(o)){var s=a(e.componentInstance)&&o.keepAlive;if(a(o=o.hook)&&a(o=o.init)&&o(e,!1),a(e.componentInstance))return p(e,t),d(n,e.elm,i),u(s)&&function(e,t,n,i){for(var o,s=e;s.componentInstance;)if(a(o=(s=s.componentInstance._vnode).data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](cr,s);t.push(s);break}d(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var l=e.data,y=e.children,m=e.tag;a(m)?(e.elm=e.ns?o.createElementNS(e.ns,m):o.createElement(m,e),v(e),h(e,y,t),a(l)&&g(e,t),d(n,e.elm,i)):u(e.isComment)?(e.elm=o.createComment(e.text),d(n,e.elm,i)):(e.elm=o.createTextNode(e.text),d(n,e.elm,i))}}function p(e,t){a(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,y(e)?(g(e,t),v(e)):(ur(e),t.push(e))}function d(e,t,n){a(e)&&(a(n)?o.parentNode(n)===e&&o.insertBefore(e,t,n):o.appendChild(e,t))}function h(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)l(t[r],n,e.elm,null,!0,t,r);else c(e.text)&&o.appendChild(e.elm,o.createTextNode(String(e.text)))}function y(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return a(e.tag)}function g(e,n){for(var i=0;i<r.create.length;++i)r.create[i](cr,e);a(t=e.data.hook)&&(a(t.create)&&t.create(cr,e),a(t.insert)&&n.push(e))}function v(e){var t;if(a(t=e.fnScopeId))o.setStyleScope(e.elm,t);else for(var n=e;n;)a(t=n.context)&&a(t=t.$options._scopeId)&&o.setStyleScope(e.elm,t),n=n.parent;a(t=rn)&&t!==e.context&&t!==e.fnContext&&a(t=t.$options._scopeId)&&o.setStyleScope(e.elm,t)}function b(e,t,n,r,i,o){for(;r<=i;++r)l(n[r],o,e,t,!1,n,r)}function _(e){var t,n,i=e.data;if(a(i))for(a(t=i.hook)&&a(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(a(t=e.children))for(n=0;n<e.children.length;++n)_(e.children[n])}function w(e,t,n){for(;t<=n;++t){var r=e[t];a(r)&&(a(r.tag)?(E(r),_(r)):f(r.elm))}}function E(e,t){if(a(t)||a(e.data)){var n,i=r.remove.length+1;for(a(t)?t.listeners+=i:t=function(e,t){function n(){0==--n.listeners&&f(e)}return n.listeners=t,n}(e.elm,i),a(n=e.componentInstance)&&a(n=n._vnode)&&a(n.data)&&E(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);a(n=e.data.hook)&&a(n=n.remove)?n(e,t):t()}else f(e.elm)}function A(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];if(a(o)&&lr(e,o))return i}}function O(e,t,n,i,c,f){if(e!==t){a(t.elm)&&a(i)&&(t=i[c]=Ee(t));var p=t.elm=e.elm;if(u(e.isAsyncPlaceholder))a(t.asyncFactory.resolved)?C(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(u(t.isStatic)&&u(e.isStatic)&&t.key===e.key&&(u(t.isCloned)||u(t.isOnce)))t.componentInstance=e.componentInstance;else{var d,h=t.data;a(h)&&a(d=h.hook)&&a(d=d.prepatch)&&d(e,t);var g=e.children,v=t.children;if(a(h)&&y(t)){for(d=0;d<r.update.length;++d)r.update[d](e,t);a(d=h.hook)&&a(d=d.update)&&d(e,t)}s(t.text)?a(g)&&a(v)?g!==v&&function(e,t,n,r,i){for(var u,c,f,p=0,d=0,h=t.length-1,y=t[0],g=t[h],v=n.length-1,m=n[0],_=n[v],E=!i;p<=h&&d<=v;)s(y)?y=t[++p]:s(g)?g=t[--h]:lr(y,m)?(O(y,m,r,n,d),y=t[++p],m=n[++d]):lr(g,_)?(O(g,_,r,n,v),g=t[--h],_=n[--v]):lr(y,_)?(O(y,_,r,n,v),E&&o.insertBefore(e,y.elm,o.nextSibling(g.elm)),y=t[++p],_=n[--v]):lr(g,m)?(O(g,m,r,n,d),E&&o.insertBefore(e,g.elm,y.elm),g=t[--h],m=n[++d]):(s(u)&&(u=pr(t,p,h)),s(c=a(m.key)?u[m.key]:A(m,t,p,h))?l(m,r,e,y.elm,!1,n,d):lr(f=t[c],m)?(O(f,m,r,n,d),t[c]=undefined,E&&o.insertBefore(e,f.elm,y.elm)):l(m,r,e,y.elm,!1,n,d),m=n[++d]);p>h?b(e,s(n[v+1])?null:n[v+1].elm,n,d,v,r):d>v&&w(t,p,h)}(p,g,v,n,f):a(v)?(a(e.text)&&o.setTextContent(p,""),b(p,null,v,0,v.length-1,n)):a(g)?w(g,0,g.length-1):a(e.text)&&o.setTextContent(p,""):e.text!==t.text&&o.setTextContent(p,t.text),a(h)&&a(d=h.hook)&&a(d=d.postpatch)&&d(e,t)}}}function D(e,t,n){if(u(n)&&a(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var S=m("attrs,class,staticClass,staticStyle,key");function C(e,t,n,r){var i,o=t.tag,s=t.data,c=t.children;if(r=r||s&&s.pre,t.elm=e,u(t.isComment)&&a(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(a(s)&&(a(i=s.hook)&&a(i=i.init)&&i(t,!0),a(i=t.componentInstance)))return p(t,n),!0;if(a(o)){if(a(c))if(e.hasChildNodes())if(a(i=s)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var f=!0,l=e.firstChild,d=0;d<c.length;d++){if(!l||!C(l,c[d],n,r)){f=!1;break}l=l.nextSibling}if(!f||l)return!1}else h(t,c,n);if(a(s)){var y=!1;for(var v in s)if(!S(v)){y=!0,g(t,n);break}!y&&s["class"]&&ut(s["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,i){if(!s(t)){var c,f=!1,p=[];if(s(e))f=!0,l(t,p);else{var d=a(e.nodeType);if(!d&&lr(e,t))O(e,t,p,null,null,i);else{if(d){if(1===e.nodeType&&e.hasAttribute(j)&&(e.removeAttribute(j),n=!0),u(n)&&C(e,t,p))return D(t,p,!0),e;c=e,e=new me(o.tagName(c).toLowerCase(),{},[],undefined,c)}var h=e.elm,g=o.parentNode(h);if(l(t,p,h._leaveCb?null:g,o.nextSibling(h)),a(t.parent))for(var v=t.parent,m=y(t);v;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](v);if(v.elm=t.elm,m){for(var E=0;E<r.create.length;++E)r.create[E](cr,v);var A=v.data.hook.insert;if(A.merged)for(var S=1;S<A.fns.length;S++)A.fns[S]()}else ur(v);v=v.parent}a(g)?w([e],0,0):a(e.tag)&&_(e)}}return D(t,p,f),t.elm}a(e)&&_(e)}}({nodeOps:sr,modules:[Ar,Sr,Pr,Mr,Hr,J?{create:bi,activate:bi,remove:function(e,t){!0!==e.data.show?gi(e,t):t()}}:{}].concat(br)});ee&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&xi(e,"input")}));var wi={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?dt(n,"postpatch",(function(){wi.componentUpdated(e,t,n)})):Ei(e,t,n.context),e._vOptions=[].map.call(e.options,Di)):("textarea"===n.tag||or(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Si),e.addEventListener("compositionend",Ci),e.addEventListener("change",Ci),ee&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ei(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,Di);i.some((function(e,t){return!M(e,r[t])}))&&(e.multiple?t.value.some((function(e){return Oi(e,i)})):t.value!==t.oldValue&&Oi(t.value,i))&&xi(e,"change")}}};function Ei(e,t,n){Ai(e,t),(X||te)&&setTimeout((function(){Ai(e,t)}),0)}function Ai(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,u=e.options.length;a<u;a++)if(s=e.options[a],i)o=B(r,Di(s))>-1,s.selected!==o&&(s.selected=o);else if(M(Di(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function Oi(e,t){return t.every((function(t){return!M(t,e)}))}function Di(e){return"_value"in e?e._value:e.value}function Si(e){e.target.composing=!0}function Ci(e){e.target.composing&&(e.target.composing=!1,xi(e.target,"input"))}function xi(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Ni(e){return!e.componentInstance||e.data&&e.data.transition?e:Ni(e.componentInstance._vnode)}var Ti={bind:function(e,t,n){var r=t.value,i=(n=Ni(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,yi(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Ni(n)).data&&n.data.transition?(n.data.show=!0,r?yi(n,(function(){e.style.display=e.__vOriginalDisplay})):gi(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},Ii={model:wi,show:Ti},ki={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Pi(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Pi(Zt(t.children)):e}function Li(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[D(o)]=i[o];return t}function Ri(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Mi=function(e){return e.tag||wt(e)},Bi=function(e){return"show"===e.name},Ui={name:"transition",props:ki,abstract:!0,render:function(e){var t=this,n=this.$slots["default"];if(n&&(n=n.filter(Mi)).length){var r=this.mode,i=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return i;var o=Pi(i);if(!o)return i;if(this._leaving)return Ri(e,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:c(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Li(this),u=this._vnode,f=Pi(u);if(o.data.directives&&o.data.directives.some(Bi)&&(o.data.show=!0),f&&f.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,f)&&!wt(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var l=f.data.transition=I({},a);if("out-in"===r)return this._leaving=!0,dt(l,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Ri(e,i);if("in-out"===r){if(wt(o))return u;var p,d=function(){p()};dt(a,"afterEnter",d),dt(a,"enterCancelled",d),dt(l,"delayLeave",(function(e){p=e}))}}return i}}},ji=I({tag:String,moveClass:String},ki);delete ji.mode;var Fi={props:ji,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=on(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots["default"]||[],o=this.children=[],s=Li(this),a=0;a<i.length;a++){var u=i[a];u.tag&&null!=u.key&&0!==String(u.key).indexOf("__vlist")&&(o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s)}if(r){for(var c=[],f=[],l=0;l<r.length;l++){var p=r[l];p.data.transition=s,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?c.push(p):f.push(p)}this.kept=e(t,null,c),this.removed=f}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach($i),e.forEach(qi),e.forEach(Yi),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;ui(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ri,n._moveCb=function i(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(ri,i),n._moveCb=null,ci(n,t))})}})))},methods:{hasMove:function(e,t){if(!Xr)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Kr(n,e)})),Jr(n,t),n.style.display="none",this.$el.appendChild(n);var r=pi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function $i(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function qi(e){e.data.newPos=e.elm.getBoundingClientRect()}function Yi(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Gi={Transition:Ui,TransitionGroup:Fi};kn.config.mustUseProp=function(e,t,n){return"value"===n&&qn(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},kn.config.isReservedTag=rr,kn.config.isReservedAttr=$n,kn.config.getTagNamespace=function(e){return nr(e)?"svg":"math"===e?"math":void 0},kn.config.isUnknownElement=function(e){if(!J)return!0;if(rr(e))return!1;if(e=e.toLowerCase(),null!=ir[e])return ir[e];var t=document.createElement(e);return e.indexOf("-")>-1?ir[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ir[e]=/HTMLUnknownElement/.test(t.toString())},I(kn.options.directives,Ii),I(kn.options.components,Gi),kn.prototype.__patch__=J?_i:P,kn.prototype.$mount=function(e,t){return function(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=_e),cn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new wn(e,r,P,{before:function(){e._isMounted&&!e._isDestroyed&&cn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,cn(e,"mounted")),e}(this,e=e&&J?function(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}(e):undefined,t)},J&&setTimeout((function(){q.devtools&&ue&&ue.emit("init",kn)}),0);var zi=kn;t["default"]=zi},653:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var i=r(n(8252)),o=r(n(2925)),s=new i["default"];t.render=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1?arguments[1]:undefined;return i["default"].prototype.$marked=t,i["default"].prototype.$speakData=e,i["default"].prototype.$eventHub=s,new i["default"]({render:function(e){return e(o["default"])}}).$mount(e.el||"#ispeak")}},6299:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.xk-card[data-v-185689ea] {\n  padding: 20px;\n  border-radius: 6px;\n  background: rgba(255, 255, 255, 0.1);\n  box-shadow: 0.25rem 0.25rem 0.5rem rgba(0, 0, 0, 30%);\n  overflow: hidden;\n  margin-top: 20px;\n  transition: all 0.25s ease 0.2s,\n    transform 0.5s cubic-bezier(0.6, 0.2, 0.1, 1) 0.2s,\n    -webkit-transform 0.5s cubic-bezier(0.6, 0.2, 0.1, 1) 0.2s;\n  user-select: none;\n}\n.xk-card .xk-card-time[data-v-185689ea] {\n  color: #ddd;\n  font-size: 12px;\n  text-shadow: #d9d9d9 0 0 1px, #fffffb 0 0 1px, #fffffb 0 0 2px;\n  margin-left: 10px;\n}\n.xk-card .xk-card-header[data-v-185689ea] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.xk-card .xk-card-header .xk-card-name[data-v-185689ea] {\n  display: flex;\n  align-items: center;\n}\n.xk-card .xk-card-header .xk-card-name .is-badge[data-v-185689ea] {\n  height: 20px;\n  width: 20px;\n  margin-left: 5px;\n}\n.xk-card .xk-card-header .xk-card-name .avatar[data-v-185689ea] {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  margin-right: 10px;\n}\n.xk-card .xk-card-header .xk-card-name .avatar-img[data-v-185689ea] {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n}\n.xk-card .xk-card-content[data-v-185689ea] {\n  padding: 0;\n  white-space: inherit;\n}\n@media screen and (min-width: 768px) {\n#article-container .xk-card-content[data-v-185689ea] .fancybox,\n  #article-container .xk-card-content[data-v-185689ea] video {\n    display: inline-block;\n    max-width: 24%;\n}\n}\n@media screen and (max-width: 768px) {\n#article-container .xk-card-content[data-v-185689ea] .fancybox,\n  #article-container .xk-card-content[data-v-185689ea] video {\n    display: inline-block;\n    max-width: 49%;\n}\n}\n.xk-card .xk-card-footer[data-v-185689ea] {\n  display: flex;\n  padding-bottom: 10px;\n}\n.xk-card .xk-card-footer .xk-card-label[data-v-185689ea] {\n  border-radius: 5px;\n  padding: 0 5px;\n  font-weight: 550;\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 rgb(27 31 35 / 12%);\n  font-size: 14px;\n  cursor: pointer;\n  user-select: none;\n  margin-right: 10px;\n}\n",""]),e.exports=t},7273:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.xk-footer[data-v-83222954] {\n  width: 100%;\n  text-align: end;\n  font-size: 0.75em;\n  color: #999999;\n  margin-top: 1em;\n}\n",""]),e.exports=t},3139:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.xk-info[data-v-0224b4ae] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.xk-info .count[data-v-0224b4ae] {\n  font-weight: 700;\n  font-size: 16px;\n  /* color: #49b1f5; */\n}\n.xk-info .count i[data-v-0224b4ae] {\n  /* color: black; */\n  font-size: 20px;\n}\n@font-face {\n  font-family: 'iconfont';\n  src: url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.eot?t=1616336275189'); /* IE9 */\n  src: url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.eot?t=1616336275189#iefix')\n      format('embedded-opentype'),\n    /* IE6-IE8 */\n      url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAMUAAsAAAAABswAAALIAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCCcAqBWIFdATYCJAMICwYABCAFhG0HMBsDBsiemjwpUokNLPAZtJlEAoQIov3Yz947VJNLIopHtaRJSyVBhhYowRL5awlvck0zIE7JjQhkMf8FTPMDhUDn5xDUpuZ2E47y4rM+PUz6Di6nP8VbB5TLHJPHBAwsDXCsRZEVSGDeIruI7YlHxHECtXr4M1jLzC8H5jIYF4hbGS0E5g2vLBuJaqGSsjSLFxWq01O6BsBz9v34D0LDnKSiACXbNxkSkPyrB1OMGsoG5wmCt5wZxioKTAEysU+1bjIqolOM1HpRYwPAsQqDX/7LhHvYPx5BVIL8etAlc5+JF/EfNT+BXHSvAy4mXU2aIe6KHBubHndZtXp7q3r9rnz+LG942RidnFhxDUOv0Xh0TCvpfvkKeWkoP6BPE3RtTXlVja+vjjqXj4y6FSxNPCFP/9cWMbjH+Vr8HJw1ut80qkdWEp41nEkP1fYpibiTYR+wW5ODOSm89IJsVvIfIxgL2yCsVPRXsw6wUuzttbP2T3cpoRceFtw8Qi9NSOn5G8O6c2SUFT+SAZQfxUoR8HN/47U4O+XbzW1el8HP1cOZu/zIYJgdqL4FW/AreQObsi8AXcouj2pP1ieFE2oxQAmcrT6mKjvuOxmqddy9vUp3BYVqQ2gmp6BCnVmoVG0Rak3KWl2nDWYkcg0mtEoQmu1D0ugdCs1u0Ey+Q4VO31CpOYyg1mG0bVlnJGSWqxgJCZJAUR2UiTVqihiIZV5YimhGKcR1QUapRFgvC8CQwOB2IgupEV5ihr6aDiWEghTWqGCmdBpSKjVQizVyJCaBUkK0sUFBFO1NgWKNClhahSFCBCIBidSBZMQ01KikM2HZ+XwphMZQEsKcsh5zJQTTk/UOhQgUPADNkqoHlT3KK3rVaKEIggJRMA0VKFMahCgpaUBa+iA5RIwIJJ0Q1ooVhO2oodLA7eWqH8gxqgBVCuxXqHyUqZWMGgA=')\n      format('woff2'),\n    url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.woff?t=1616336275189')\n      format('woff'),\n    url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.ttf?t=1616336275189')\n      format('truetype'),\n    /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\n      url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.svg?t=1616336275189#iconfont')\n      format('svg'); /* iOS 4.1- */\n}\n.iconfont[data-v-0224b4ae] {\n  font-family: 'iconfont' !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.icon-pinlun[data-v-0224b4ae]:before {\n  content: '\\e61e';\n}\n",""]),e.exports=t},9442:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.list-enter-active[data-v-b9fd4424],\n.list-leave-active[data-v-b9fd4424] {\n  transition: all 0.2s cubic-bezier(0.55, 0.085, 0.68, 0.53);\n  transform-origin: 50% 50%;\n}\n.list-enter[data-v-b9fd4424],\n.list-leave-to[data-v-b9fd4424] {\n  transform-origin: 50% 50%;\n  transform: scaleY(0) translateZ(0);\n  opacity: 0;\n}\n.loading[data-v-b9fd4424] {\n  text-align: center;\n}\n@keyframes Gradient-data-v-b9fd4424 {\n0% {\n    background-position: 0 50%;\n}\n50% {\n    background-position: 100% 50%;\n}\nto {\n    background-position: 0 50%;\n}\n}\nbutton[data-v-b9fd4424] {\n  cursor: pointer;\n  color: #fff;\n  border: 0;\n  margin: 20px auto;\n  border-radius: 0.3125rem;\n  display: block;\n  padding: 0 1rem;\n  height: 40px;\n  font-weight: 500;\n  text-align: center;\n  transition: all 0.5s ease-out;\n  background: #5b5fc7;\n  background-size: 1000% 1000%;\n  animation: Gradient-data-v-b9fd4424 90s linear infinite;\n  outline: 0;\n}\n",""]),e.exports=t},2925:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return i.X},"default":function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ispeak",attrs:{id:"ispeak"}},[n("xk-issue"),e._v(" "),n("xk-footer")],1)};r._withStripped=!0;var i=n(9785),o=i.Z,s=(0,n(1900).Z)(o,r,[],!1,null,"1a1fd4f0",null);s.options.__file="src/view/App.vue";var a=s.exports},3505:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return i.X},"default":function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xk-card"},[n("div",{staticClass:"xk-card-header"},[n("div",{staticClass:"xk-card-name"},[n("div",{staticClass:"avatar"},[n("img",{staticClass:"avatar-img",attrs:{src:e.avatar}})]),e._v(" "),n("div",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),n("svg",{staticClass:"is-badge",attrs:{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z",fill:"#5b5fc7"}})]),e._v(" "),n("div",{staticClass:"xk-card-time"},[e._v(e._s(e.date))])])]),e._v(" "),n("div",{staticClass:"xk-card-content",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),n("div",{staticClass:"xk-card-footer"},[n("div",{staticClass:"xk-card-label",style:"background: "+e.fromColor+";color:white"},[e._v("\n      "+e._s(e.from)+"\n    ")])])])};r._withStripped=!0;var i=n(5272),o=i.Z,s=(n(6032),(0,n(1900).Z)(o,r,[],!1,null,"185689ea",null));s.options.__file="src/view/components/XkCard.vue";var a=s.exports},6978:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return i.X},"default":function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xk-footer"},[e._v("\n  Powered by\n  "),n("a",{attrs:{href:"https://www.antmoe.com/bb/",target:"_blank"}},[e._v(e._s(e.name))]),e._v(" v"+e._s(e.version)+"\n")])};r._withStripped=!0;var i=n(739),o=i.Z,s=(n(9083),(0,n(1900).Z)(o,r,[],!1,null,"83222954",null));s.options.__file="src/view/components/XkFooter.vue";var a=s.exports},7054:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return i.X},"default":function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xk-info"},[n("div",{staticClass:"count"},[n("i",{staticClass:"iconfont icon-pinlun"}),e._v("\n    My BiBi("+e._s(e.count)+")\n  ")])])};r._withStripped=!0;var i=n(317),o=i.Z,s=(n(5135),(0,n(1900).Z)(o,r,[],!1,null,"0224b4ae",null));s.options.__file="src/view/components/XkInfo.vue";var a=s.exports},4920:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return i.X},"default":function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("xk-info",{attrs:{count:e.total}}),e._v(" "),n("transition-group",{attrs:{name:"list",tag:"div"}},[e._l(e.bbList,(function(t){return[n("xk-card",{key:t._id,attrs:{bbData:t,name:e.name,avatar:e.avatar,fromColor:e.fromColor}})]}))],2),e._v(" "),e.loading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:e.loadingImg,alt:"loading"}})]):e._e(),e._v(" "),e.bbList.length<e.total?n("button",{on:{click:e.getData}},[e._v("更多动态")]):e._e(),e._v(" "),e.showMessage?n("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[e._v("\n    "+e._s(e.message)+"\n  ")]):e._e()],1)};r._withStripped=!0;var i=n(4667),o=i.Z,s=(n(2e3),(0,n(1900).Z)(o,r,[],!1,null,"b9fd4424",null));s.options.__file="src/view/components/XkIssue.vue";var a=s.exports},1900:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=u):i&&(u=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:c}}n.d(t,{Z:function(){return r}})},6032:function(e,t,n){var r=n(6299);r.__esModule&&(r=r["default"]),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("19ed7160",r,!1,{})},9083:function(e,t,n){var r=n(7273);r.__esModule&&(r=r["default"]),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("a9027d0c",r,!1,{})},5135:function(e,t,n){var r=n(3139);r.__esModule&&(r=r["default"]),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("07e281e7",r,!1,{})},2e3:function(e,t,n){var r=n(9442);r.__esModule&&(r=r["default"]),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("526027c0",r,!1,{})},7913:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(1658),i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,u=0,c=!1,f=function(){},l=null,p="data-vue-ssr-id",d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,i){c=n,l=i||{};var s=(0,r.Z)(e,t);return y(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i];(u=o[a.id]).refs--,n.push(u)}for(t?y(s=(0,r.Z)(e,t)):s=[],i=0;i<n.length;i++){var u;if(0===(u=n[i]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete o[u.id]}}}}function y(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(v(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(v(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:s}}}}function g(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(c)return f;r.parentNode.removeChild(r)}if(d){var i=u++;r=a||(a=g()),t=_.bind(null,r,i,!1),n=_.bind(null,r,i,!0)}else r=g(),t=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var m,b=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function _(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function w(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),l.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},6701:function(e){"use strict";e.exports=JSON.parse('{"_from":"@cloudbase/js-sdk@^1.4.1","_id":"@cloudbase/js-sdk@1.7.2","_inBundle":false,"_integrity":"sha512-CF+pd1EKNFfUO2rmj8zL4yocjTKu1GkJMjig5UAcsX+CBXS0yxQEyMvGvwUlorOCBYvlxm7i6hEUBoHrnefHMg==","_location":"/@cloudbase/js-sdk","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@cloudbase/js-sdk@^1.4.1","name":"@cloudbase/js-sdk","escapedName":"@cloudbase%2fjs-sdk","scope":"@cloudbase","rawSpec":"^1.4.1","saveSpec":null,"fetchSpec":"^1.4.1"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/@cloudbase/js-sdk/-/js-sdk-1.7.2.tgz","_shasum":"49a69a4531dbedb73cbfc4ebaa2820193b406530","_spec":"@cloudbase/js-sdk@^1.4.1","_where":"/home/runner/work/ispeak-bber/ispeak-bber","author":"","browserslist":["last 2 version","> 1%","not dead","chrome 53"],"bugs":{"url":"https://github.com/TencentCloudBase/cloudbase-js-sdk/issues"},"bundleDependencies":false,"components":["app","auth","database","functions","storage"],"dependencies":{"@cloudbase/analytics":"^1.1.1-alpha.0","@cloudbase/app":"^1.4.1","@cloudbase/auth":"^1.6.1","@cloudbase/database":"0.9.18-next","@cloudbase/functions":"^1.3.4","@cloudbase/realtime":"^1.1.4-alpha.0","@cloudbase/storage":"^1.3.4","@cloudbase/types":"^1.1.3-alpha.0","@cloudbase/utilities":"^1.3.4"},"deprecated":false,"description":"cloudbase javascript sdk","devDependencies":{"@babel/core":"^7.9.0","@babel/plugin-proposal-class-properties":"^7.8.3","@babel/plugin-transform-runtime":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@typescript-eslint/eslint-plugin":"^3.8.0","@typescript-eslint/parser":"^3.8.0","awesome-typescript-loader":"^5.2.1","babel-loader":"^8.1.0","eslint":"^7.6.0","eslint-config-alloy":"^3.7.4","gulp":"^4.0.2","gulp-clean":"^0.4.0","gulp-rename":"^2.0.0","gulp-sourcemaps":"^2.6.5","gulp-typescript":"^6.0.0-alpha.1","json-loader":"^0.5.7","merge-stream":"^2.0.0","package-json-cleanup-loader":"^1.0.3","typescript":"^3.8.3","webpack":"4.41.3","webpack-cli":"^3.3.11","webpack-node-externals":"^1.7.2","webpack-stream":"^5.2.1","webpack-visualizer-plugin":"^0.1.11"},"files":["miniprogram_dist","**/dist/","/index.d.ts","**/package.json"],"gitHead":"29ca0bf24318daa1fbb230910edf0b1545e17e7f","homepage":"https://github.com/TencentCloudBase/cloudbase-js-sdk#readme","keywords":["tcb","cloudbase","Cloudbase","serverless","Serverless","javascript","JavaScript"],"license":"ISC","main":"dist/index.cjs.js","miniprogram":"miniprogram_dist","module":"dist/index.esm.js","name":"@cloudbase/js-sdk","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/TencentCloudBase/cloudbase-js-sdk.git"},"scripts":{"build":"rm -rf dist/ && gulp build","build:cdn":"gulp cdn","build:e2e":"rm -rf dist/ && NODE_ENV=e2e gulp e2e","build:miniapp":"gulp miniapp","lint":"eslint --fix \\"./src/**/*.ts\\" \\"./database/**/*.ts\\""},"typings":"./index.d.ts","version":"1.7.2"}')},4147:function(e){"use strict";e.exports=JSON.parse('{"name":"ispeak-bber","version":"1.4.3","description":"","author":"DreamyTZK","license":"MIT","main":"ispeak-bber.min.js","publishConfig":{"access":"public"},"repository":{"type":"git","url":"https://gitlab.com/DreamyTZK/ispeak-bber"},"homepage":"https://www.antmoe.com/bb/","scripts":{"dev":"webpack serve --mode development","serve":"webpack serve --mode development","build":"webpack --mode production","analyze":"webpack --profile --json > stats.json && webpack-bundle-analyzer stats.json","lint":"eslint src/** --ignore-path .eslintignore"},"devDependencies":{"@babel/cli":"^7.12.13","@babel/core":"^7.12.13","@babel/plugin-transform-modules-commonjs":"^7.12.13","@babel/plugin-transform-runtime":"^7.12.15","@babel/preset-env":"^7.12.13","@babel/runtime":"^7.12.13","@webpack-cli/serve":"^1.3.0","babel-loader":"^8.2.2","copy-webpack-plugin":"^7.0.0","css-loader":"^3.6.0","eslint":"^7.19.0","eslint-config-standard":"^16.0.2","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.1.0","eslint-plugin-vue":"^7.5.0","svg-inline-loader":"^0.8.2","terser-webpack-plugin":"^5.1.1","vue-loader":"^15.9.6","vue-template-compiler":"^2.6.12","webpack":"^5.21.2","webpack-bundle-analyzer":"^4.4.0","webpack-cli":"^4.5.0","webpack-dev-server":"^4.0.0-beta.0"},"dependencies":{"@cloudbase/js-sdk":"^1.4.1","axios":"^0.21.1","marked":"^2.0.0","vue":"^2.6.12"}}')}},t={};function n(r){var i=t[r];if(i!==undefined)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var r={};return function(){"use strict";var e=r,t=n(3483);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0,e.init=u;var i=t(n(6304)),o=t(n(7402)),s=n(653),a=t(n(8263));function u(e){return c.apply(this,arguments)}function c(){return(c=(0,o["default"])(i["default"].mark((function e(t){return i["default"].wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,s.render)(t,a["default"]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=u;e["default"]=f}(),r}()},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ispeakBber=t():e.ispeakBber=t();